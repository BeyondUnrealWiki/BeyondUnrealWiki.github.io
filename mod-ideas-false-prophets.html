<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: Mod Ideas/False Prophets</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=Mod_Ideas/False_Prophets; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<form class="inline" method="post" action="/wiki" enctype="application/x-www-form-urlencoded"><input type="text" name="search"  size="20" /> <input type="submit" name="search" value="search" /></form>
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="(start).html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a> | <a href="http://wiki.beyondunreal.com/wiki?action=editprefs">Preferences</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="mod-ideas.html">Mod Ideas</a>/<a href="http://wiki.beyondunreal.com/wiki?back=Mod+Ideas/False+Prophets">False Prophets</a></h1>
	<div class="wiki"><h2><a name="0.1"></a>False Prophets</h2>
<p>Game type: Team Deathmatch</p>
<p>Concept: One player on each team is the "false prophet". Each team competes to obliterate the infidel. The rest of the team protects their "god".</p>
<p>Status: Completed...as best I can. <img alt=":)" src="emoticons/smile.gif" align="middle"></p>
<p>Download it <a href="http://www.kerlinsoftworks.com/ut2k3/falseprophet">[here]</a></p>
<h2><a name="0.2"></a>Rules:</h2>
<ul><li>A false prophet (FP) is chosen at random at the start of the game</li>
<li>The FP is armed only with his shield</li>
<li>The FP's shield regenerates at 2x speed of the normal shield</li>
<li>Team members within <i>n</i> radius of the prophet regenerate health</li>
<li>(alt) Team members within <i>n</i> radius of the prophet have health leeched</li>
<li>FP gets 1 adrenaline every second</li>
<li>When the FP is destroyed, the highest (or lowest?) ranked team member becomes the false prophet</li>
<li>Each time the FP is destroyed, the opposing team's score increases by 25 points</li>
<li>Each time someone kills a member of the other team, his score increases by 1</li>
<li>New FP automatically gets <i>n</i> adrenaline for free</li>
</ul>
<h2><a name="0.3"></a>Update</h2>
<ul><li>Dropped prophet ever getting adrenaline (pickup or otherwise) and gave prophet permanent slight speed/jump height increase</li>
<li>Dropped prophet leeching/healing health for now</li>
<li>Changed scoring to 1 kill of prophet = 1 point, period.</li>
<li>First killer on team becomes prophet</li>
<li>If prophet dies, the next "first kill" after the prophet's death becomes prophet</li>
</ul>
<hr class="thin"><p><em class="em2">Kerlin:</em> Sound like fun? <img alt=":)" src="emoticons/smile.gif" align="middle"> Might be good on a CTF map, too, but I think a DM map offers more chaos. If it sounds like a Mutant variant, it is.</p>
<p><em class="em2">Kerlin:</em> To do: TeamAI, SquadAI, Prophet FX</p>
<p><em class="em2">Mosquito:</em> From how it sounds, the FP isn't so false (with all these divine powers and all)</p>
<p><em class="em2">Kerlin:</em> Depends on your perspective, I guess. "My god is real, yours is a false prophet." kinda thing. <img alt=":)" src="emoticons/smile.gif" align="middle"></p>
<p><em class="em2">Kerlin:</em> It never happened. <img alt=":)" src="emoticons/smile.gif" align="middle"></p>
<p><em class="em2">Foxpaw:</em> That sounds like a neat idea.. kind of like a dual escort kind of gametype. Anyways.. the only problem I can see with the scoring system as it stands is that people will probrably not WANT to be the prophet. The only way to score points is by killing people and the prophet is not particularly good at doing so, having only a shield gun. Sure, it's in the best interests of the team for a good player to be the prophet, but players like having big numbers beside their name on the scoreboard because the general impression is that it will impress the other players. How about something like the original domination - the prophet and the prophets team accumulate points as time passes, and the longer the prophet has been the same person, the faster those points will accumulate. That provides incentive to keep the prophet alive as long as possible. For instance, when a player first becomes the prophet, that player and the team accumulate points at a rate of, say, 1 per 3 seconds. After the prophet has been alive for, say, a minute, the team and that player would be accumulating points at a rate of say, 1 point per second. Or something. The numbers need tweaking, but I think it would make gameplay a bit more emotional and exciting, due to the increased stress and important of protecting/assasinating the opposing prophet as he/she/it becomes more venerable.</p>
<p><em class="em2">Kerlin:</em> Some good ideas there, Fox. Since I'm new to scripting, I have to be flexible with what I think I can do vs what I can do.  It seems that I'm having problems with bot AI in that the prophet gets stuck trying to pick up health even though I've made sure that WantsPickups(Bot) returns false if the bot is the prophet. WantsPickups is apparently a hack that was implemented into AI for the Mutant gametype. As a result, I may have to come to a compromise that maybe the prophet isn't completely unarmed, but maybe he has less of an ammo capacity....and maybe his health is ticking away. That keeps him on the move and adds some stress. <em class="em2">And maybe the idea of a "false prophet" is completely gone and the gametype should just be "Team Marked Men" or "Team Bodyguard".</em> <img alt=":)" src="emoticons/smile.gif" align="middle"> Actually it would fix the problem you describe Fox, because prophets would be more lethal. Maybe even give them 2 points per kill. I feel like I'm bastardizing the gameplay now because I'm not quite the coder I need to be.</p>
<p>How about this?</p>
<ol><li>prophets have health ticking away</li>
<li>prophets can use any weapons</li>
<li>kill a prophet get 1 team point</li>
<li>kill a prophet get 10 player points</li>
<li>kill a player get 1 player point</li>
<li>kill a player if you're a prophet, get 2 player points</li>
<li>kill a prophet if you're a prophet, get 20 player points</li>
<li>prophets have full access to pickups</li>
</ol>
<p>OTOH, I really like the idea of the increased point accrual but I don't think I have the experience to work with states just yet. And if that's the case, there definitely needs to be an "objective" placed on the prophet. Hell, there might need to be anyway since I haven't yet done a Spectate BotMatch. Kind of a bummer that my lack of experience is causing the gameplay to suffer. I need a mentor. <img alt=":)" src="emoticons/smile.gif" align="middle"></p>
<p><em class="em2">Kerlin:</em> WOW! Just had a breakthrough. I used the above changes and it "feels" so much better. Shortly after my teammate became the prophet, other team mates starting showing up and taking defensive positions. When the prophet moved, everyone else followed and pretty much surrounded him. An enemy showed up and the squad completely railed on him. Eventually an enemy became a prophet as well. Him and a few other of his squad were firing on me from a distance. I turned on god mode and ran straight for them. As I approached, a squad member and the prophet started retreating. Two of them held strong and didn't move until they were far enough from their prophet to catch back up with him. </p>
<p>I'm going to do a LOT more testing and run it through spectate botmatch (thanks Mychaeel!!) and see what their orders/tactics are. Scoring has a bug. If I get this scoring bug fixed and come up with a better "glow effect" for my prophet, I think I'll be in business!</p>
<p>(hahah. see the above? that's was a brief moment when I thought it was MY ai that was working)</p>
<p><em class="em2">Kerlin:</em> Thanks for your help everyone. I'm sure you'll find problems but I did my best. (Heck, even I found problems.)</p>
<p><em class="em2">Dark Pulse:</em> Well I'll give it a run-through tonight. My Run-through will be more in-depth once I get my better vidcard in about 2 or so weeks.</p>
<p><em class="em2">Foxpaw:</em> I did not "torture test" the gametype, but I did a few tests and found the following:</p>
<h4><a name="0.3.0.1"></a>Actual Bugs</h4>
<ul><li>Teams weren't loaded properly. The "team set up" option uses the "no teams"/deathmatch opponent selection instead of the team game opponent/teammate selection. It also nukes the "game rules" if you try to play a different gametype after playing false prophet. Both of these problems were the result of a slight error in the .int file. At any rate this line is in the distributed .int file:</li>
</ul>
<pre class="uscript">Object<span class="uscript-operator">=</span><span class="uscript-operator">(</span><span class="uscript-keyword">Class</span><span class="uscript-operator">=</span><span class="uscript-keyword">Class</span><span class="uscript-operator">,</span>MetaClass<span class="uscript-operator">=</span>Engine<span class="uscript-operator">.</span>GameInfo<span class="uscript-operator">,</span><span class="uscript-type">Name</span><span class="uscript-operator">=</span>Prophet<span class="uscript-operator">.</span>Prophet<span class="uscript-operator">,</span>Description<span class="uscript-operator">=</span><span class="uscript-string">"DM|Team False Prophet|XInterface.MapListTeamDeathMatch|true"</span><span class="uscript-operator">)</span></pre><p>Which should read:</p>
<pre class="uscript">Object<span class="uscript-operator">=</span><span class="uscript-operator">(</span><span class="uscript-keyword">Class</span><span class="uscript-operator">=</span><span class="uscript-keyword">Class</span><span class="uscript-operator">,</span>MetaClass<span class="uscript-operator">=</span>Engine<span class="uscript-operator">.</span>GameInfo<span class="uscript-operator">,</span><span class="uscript-type">Name</span><span class="uscript-operator">=</span>Prophet<span class="uscript-operator">.</span>Prophet<span class="uscript-operator">,</span>Description<span class="uscript-operator">=</span><span class="uscript-string">"DM|Team False Prophet|xinterface.Tab_IATeamDeathMatch|xinterface.MapListTeamDeathMatch|true"</span><span class="uscript-operator">)</span></pre><p><em class="em2">Kerlin:</em> Good catch. Damn...here I go again.... "Thanks!" <img alt=":)" src="emoticons/smile.gif" align="middle"></p>
<p>I tested it with the second line and both problems were fixed.</p>
<ul><li>The bots get killed rather easily. I understand that you had some difficulties with the AI, it probrably just needs playing around with. The bots clustered together in a ball and then the entire "ball" stormed into the enemy "ball." Good leadership demonstrated on the part of the prophet, but results in rather high fatality rates for the prophet. <img alt=":P" src="emoticons/tongue.gif" align="middle"> The clustering also made the bots very vulnerable to massed weapons fire and especially area effect weapons like rockets. I'm not too sure about how the AI scripts work, but it might be possible to separate a team into a bodyguard group and a hunting group.</li>
</ul>
<p><em class="em2">Kerlin:</em> My AI is, in retrospect, horrible. It's just pathetic. Hindsight being what it is, I shouldn't have released. It's still playable but it feels like an amatuer mod. I have sections of AI code that just don't fire off properly.</p>
<ul><li>The scoreboard shows all bot's orders as "sweeping." This probrably isn't hard to fix, but I haven't experimented with it yet so I couldn't tell you how it is done.</li>
</ul>
<h4><a name="0.3.0.2"></a>Just Ideas</h4>
<ul><li>I didn't test it, but I'm not sure how well this gametype would operate with a "max lives" setting in the gamerules. This could maybe be changed so that it only counts as a "life" if you die while you are the prophet.. with "Max Lives" there isn't really any significance to who is the prophet since the winner is the team with people left on it.</li>
<li>I pictured the glow being more like the one illustrated in the screenshot on the download page.. where Diva has a glowing breastplate. Also cool would be a "halo" around the person's head, but that might be too religeon-specific. I have a couple of ideas how the glow might be made better, but on the other hand maybe you like it just the way it is. Do you mind if I decompile the .u file and try some other effects to see what I can come up with?</li>
</ul>
<p><em class="em2">Kerlin:</em> So did I. That was a screenshot from a running game test. Then something got wacky with my emitters. They were sticking to the floor after death and the framerate was dropping to 30, 20, 8, 4, 1 FPS as the game went on. All the while, emitters are hanging around. <img alt=":(" src="emoticons/sad.gif" align="middle"> Since I was literally compiling new versions every 10 minutes, I ended up losing the good code.</p>
<p>Eventually, it came down to crunch time and I mistakenly released a less than optimum mod so I could theoretically get in the MSU contest. I underestimated the competition and got a little burnt out working 6 hrs a night for the past two weeks. Yes, it's embarassing to admit it but TFP took a massive amount of time.</p>
<p>By all means, decompile. I'll warn you. It isn't pretty. I bastardized the following: xMutantPawn, xMutantGame, CTFGame, MutantGlow and a few more that will become apparent. I think my biggest mistake was "TryToIntercept"</p>
<p>My goal for October is to rework what I've done. Maybe start from scratch. I think the concept is a good one but was poorly delivered on. And there's so much that could be done:</p>
<ul><li>Random translocate when becoming prophet</li>
<li>Announcements &amp; text display "A new false prophet has risen", "False prophet grows stronger"</li>
<li>Better, more custom HUD</li>
<li>Combo: Eye of God (any visible enemies get hit with a lightning gun shot emenating from the prophet)</li>
<li>Bring back emitter fx</li>
</ul>
<p>I was a fool for thinking I could come up with a competitive mod in two weeks. Lesson learned. Still humble. <img alt=":)" src="emoticons/smile.gif" align="middle"></p>
<p><em class="em2">Kerlin:</em> As part of the rewrite, I'm lopping out just about everything but the minimum required gameplay rules. I don't know how the game can even be played. I've got to tip my hat to Epic for filling in the gaps because there are some <em class="em2">major</em> problems with setting who the prophet is. My question is this: is there some way I can figure out what team a subclassed TeamAI and SquadAI are on? ProphetSquadAIs get created by ProphetTeamAI which is created by the Prophet class. But which Team is the squad on? Definitely need to figure that out before I can say who is an enemy and friendly prophet. <img alt=":)" src="emoticons/smile.gif" align="middle"></p>
<p><em class="em2">Foxpaw:</em> Hmm. I couldn't say about the AIs, I don't use any of that AI scripting stuff in my mod. The emitter in that screenshot was very cool looking. I'm not sure how you got it to only come out of the breastplate like that, unless it was just a coincidence that it lined up like that. Anyways, if you have a problem with emitters sticking around it shouldn't be hard to fix, but I'd have to see it to be sure. I wouldn't worry too much about the MSU contest.. there's three phases anyway, and the first one isn't really a biggie. You'll be able to resubmit false prophet to the second one if it's improved a bunch anyway. The most important thing I think for that contest is that the mod has to be fun.. they probrably won't grade it based on how long it took to make or how complex it is, so I wouldn't worry about that. The best gametype one I can't foresee having that much competition anyway.</p>
<p><em class="em2">VonStrohmen:</em> Both SquadAI and TeamAI have a 'Team' variable which points to the TeamInfo of that squad, which will tell you what team the bot is on by comparing to the TeamIndex variable (0 = red, 1=blue). In SquadAI, you can also call the function FriendlyToward to see if that squad will set another pawn as an enemy. You can also access the TeamAI associated with TeamInfo by using the AI variable in UnrealTeamInfo (since UnrealTeamInfo is subclass thats actually used anyways). Alternatively, if you have a subclass of Bot, you can just use the SameTeamAs function, or directly call Level.Game.IsOnTeam. In short, there are lots of ways to whether a Prophet is friendly towards/on the same team as one of your squads or bots.</p>
<p><em class="em2">Kerlin:</em> Thanks VonStrohmen. As I said, I've been focusing on better understand what's going on rather than trying to modify an existing class (like CTFSquadAI). I'm more interested in doing it the right way (and understanding how/why) than just getting it done...time is on my side right now. With all of the places I can figure out what team someone is on I guess we can categorize this question under "duh".</p>
<p>I'll dig up my code, Fox. I zipped up the entire directory five or six times during this whole fiasco and I think that I've got one saved where the emitter is working. I know my starting point was xMutantPawn and MutantGlow from the BonusPack directory. I believe I just changed the colors and the offsets. I'll dig for it and let you know, though. I figure it's the least I can do for all the help everyone's given me. <img alt=":)" src="emoticons/smile.gif" align="middle"></p>
<p>And yes, it was coincidence for the most part since I clearly don't know what I'm doing half the time. <img alt=":P" src="emoticons/tongue.gif" align="middle"></p>
<p><em class="em2">Foxpaw:</em> Hey Kerlin, are you still working on this? I was sitting around in the senior computer lab at university today and I didn't have the source for my mod there but I had UT2003 so I decided to play around and see if I could come up with something interesting. Then I remembered the emitter effect from this mod and thoughts I could whip up something. I'll probrably post the souce up here tomorrow, but I came up with a neat "flaming halo" emitter that  can go around the prophets head, and I could probrably add some more fanciness to it too. Anyways, I don't have classes tomorrow but if I stop by the university I;'ll post the source up here.</p>
<script type="text/javascript"><!--
 menuItemAdd("False Prophets", "#0.1");
menuItemAdd("Rules:", "#0.2");
menuItemAdd("Update", "#0.3");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Actual Bugs", "#0.3.0.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Just Ideas", "#0.3.0.2");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p><form method="post" action="http://wiki.beyondunreal.com/wiki" enctype="application/x-www-form-urlencoded">
<a href="(start).html">Home Page</a> | <a href="mod-ideas.html">Mod Ideas</a> | <a href="recent-changes.html">Recent Changes</a> | <a href="http://wiki.beyondunreal.com/wiki?action=editprefs">Preferences</a><br>
<a href="http://wiki.beyondunreal.com/wiki?action=edit&id=Mod_Ideas/False_Prophets">Edit text of this page</a> | <a href="http://wiki.beyondunreal.com/wiki?action=history&id=Mod_Ideas/False_Prophets">View other revisions</a><br>Last edited September 18, 2003 0:32 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=Mod_Ideas/False_Prophets">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/Mod_Ideas/False_Prophets">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>
</form>
	</p>
	<p>My program doesn't have bugs. It just develops random features.
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="http://wiki.beyondunreal.com/"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>
<p><a href="/cgi-bin/imageupload.cgi/wiki-ext/imageupload.htt" target="_blank ">Image Uploads</a></p>
<p><a href="http://wiki.beyondunreal.com/wiki?action=random">Random Page</a></p>
<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
