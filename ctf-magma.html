<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: CTF-Magma</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=CTF-Magma; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<form class="inline" method="post" action="/wiki" enctype="application/x-www-form-urlencoded"><input type="text" name="search"  size="20" /> <input type="submit" name="search" value="search" /></form>
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="(start).html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a> | <a href="http://wiki.beyondunreal.com/wiki?action=editprefs">Preferences</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="http://wiki.beyondunreal.com/wiki?back=CTF-Magma">CTF-Magma</a></h1>
	<div class="wiki"><p>CTF-Magma is one of the most technology laden of all the built-in UT 2003 maps, so picking it apart is a great way to learn about making fancy maps.</p>
<h2><a name="0.1"></a>The Brushes</h2>
<p>Turn off static mesh display.  You'll notice that the mountain is still there, are are some strange little platforms under each castle.  I'm not quite sure of the platforms under the castles.</p>
<p>The mountain is built as geometry so that it could be made a separate zone.  Because of the way they set up the doorways, most of the time you can't see past the little door zones, and therefore can't see the mesh of the inside of the castle.</p>
<h2><a name="0.2"></a>The Zones</h2>
<p>There's something funny going on with the zoning of this level.  for some reason the zone portal around the mountain is actually 5 separate brushes.  I'm assuming that this is because the engine determines visibility through the bounding box of each zone portal brush separately, not the combination of all the portal polys.  This results in some or all of the gometry on the far side, and all smaller objects, not being drawn.  if they had used a single big brush made in the 2d shape editor it would have been pointless.</p>
<h2><a name="0.3"></a>The Meshes (except castles)</h2>
<p>The entire world is static meshes.  Most of these meshes show off multi-texturing.  Some example of how multi-texturing is use include:</p>
<ul><li>lava rivers flowing through the stationary lava</li>
<li>smooth blend between the lava lake and the lava pouring into the pits</li>
<li>blending of textures on the areas you can walk</li>
<li>fringe where the ground meets the lava</li>
</ul>
<p>All of these meshes use two different textures that have been cross-faded using the vertex color of the mesh.</p>
<p>Also, for all the meshes that the player collides with that aren't trivial (such as the little islands), there are separate collision meshes that have much lower polygon counts.  This speeds up collision and karma, and reduces server CPU usage when there's LOTs of players playing.</p>
<h2><a name="0.4"></a>The Castles</h2>
<p>Go into lighting-only mode.  Notice that the castles are flat white?  That's because they have had a pre-rendered light map applied to them and have been marked as bUnlit.  I assume that these maps were made by some feature of <a href="3d-studio-max.html">3D Studio Max</a> that allows you to render lighting into a texture map.  These light maps are then combined with the texture maps on the castle using multi-texturing.</p>
<h2><a name="0.5"></a>The Materials</h2>
<p>The materials used on the static meshes in this map show off just about every feature there is.  Look through all of them and try to figure out how they work.</p>
<hr class="thin"><p><em class="em2">inio:</em> I've been doing a lot of looking at this map the past week or two, so I figured I'd share what I've learned  If there's anything you'd like to see expanded or covered in more detail, just add a comment.</p>
<hr class="thin"><p><em class="em2">crunchywomble</em> Yeah, I'd love to know more about what you've discovered in this level. It's definatly my favourite for texture and mesh use. I'm trying to emulate the lava flow effect for a level, and I'd love any insights you'd care to share.</p>
<hr class="thin"><p><a href="category-mapping.html">Category Mapping</a></p>
<script type="text/javascript"><!--
 menuItemAdd("The Brushes", "#0.1");
menuItemAdd("The Zones", "#0.2");
menuItemAdd("The Meshes (except castles)", "#0.3");
menuItemAdd("The Castles", "#0.4");
menuItemAdd("The Materials", "#0.5");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p><form method="post" action="http://wiki.beyondunreal.com/wiki" enctype="application/x-www-form-urlencoded">
<a href="(start).html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a> | <a href="http://wiki.beyondunreal.com/wiki?action=editprefs">Preferences</a><br>
<a href="http://wiki.beyondunreal.com/wiki?action=edit&id=CTF-Magma">Edit text of this page</a> | <a href="http://wiki.beyondunreal.com/wiki?action=history&id=CTF-Magma">View other revisions</a><br>Last edited April 15, 2004 3:17 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=CTF-Magma">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/CTF-Magma">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>
</form>
	</p>
	<p>Once I get that upgrade to 36-hour days, I will tackle that. (Mychaeel)
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="http://wiki.beyondunreal.com/"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>
<p><a href="/cgi-bin/imageupload.cgi/wiki-ext/imageupload.htt" target="_blank ">Image Uploads</a></p>
<p><a href="http://wiki.beyondunreal.com/wiki?action=random">Random Page</a></p>
<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
