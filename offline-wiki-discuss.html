<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: Offline Wiki/Discuss</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=Offline_Wiki/Discuss; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<form class="inline" method="post" action="/wiki" enctype="application/x-www-form-urlencoded"><input type="text" name="search"  size="20" /> <input type="submit" name="search" value="search" /></form>
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="(start).html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a> | <a href="http://wiki.beyondunreal.com/wiki?action=editprefs">Preferences</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="offline-wiki.html">Offline Wiki</a>/<a href="http://wiki.beyondunreal.com/wiki?back=Offline+Wiki/Discuss">Discuss</a></h1>
	<div class="wiki"><p>At long last and by popular request (not by Wiki regulars of course &ndash; they want the raw Wiki power live, not a zipped version of it), the <a href="offline-wiki.html">Offline Wiki</a> has been set up.  Thanks to the BeyondUnreal staff, especially MalHavoc and QAPete, for supporting it.</p>
<p>Post here if you'd like to discuss this feature, or if you have any problems using it.  If you find anything that looks like a bug to you, we'd be happy to hear about it as well. </p>
<h2><a name="0.1"></a>Discussion</h2>
<p><em class="em2">Mychaeel:</em> Phew.  Took long enough, but now it's there.  Will make a press release later today.</p>
<p><em class="em2">Jan:</em> Cool. <img alt=";)" src="emoticons/wink.gif" align="middle"> Do you need a offline viewer?</p>
<p><em class="em2">Tarquin:</em> Nice screenie. pity it's rendering with IE <img alt=":(" src="emoticons/sad.gif" align="middle"> - the blue sidebar should go all the way down in a real browser <img alt=":p" src="emoticons/tongue.gif" align="middle"></p>
<p><em class="em2">Jan:</em> This tool is only a side project, to view all my web documents offline. What I miss is a folder structure inside the wiki offline version.</p>
<p><em class="em2">Mychaeel:</em> Nice.  <img alt=":-)" src="emoticons/smile.gif" align="middle">  I've flattened the folder structure to simplify the relative referencing of other pages, images, smileys and so on; the page names have to be rewritten anyway to accommodate various platforms' limitations (no more than 32 characters on the Mac, case-insensitivity on Windows).  However, I could rather simply have the script create a .txt file containing a mapping table between actual page names and the generated file names &ndash; an offline reader could read that file and display the actual structure.</p>
<p><em class="em2">El Muerte TDS:</em> to bad there's no MS HTML Help compiler for linux, or else you could easily create HTML Help files. HTML Help files are very nice since they provide some very usefull features like full text search. Project and glossary files are easy to create.</p>
<hr class="thin"><p><em class="em2">Mychaeel:</em> Sunir got me thinking (over at <a href="project-copyright-discussio.html">Project Copyright/Discussion</a>).  Maybe we should make it <em class="em2">very</em> clear on <a href="offline-wiki.html">Offline Wiki</a> that the download is for private use only and not to be distributed commercially.  (That's implied in <a href="project-copyright.html">Project Copyright</a> already, to be sure, but we know people think if they don't read copyright statements they don't apply to them.)</p>
<hr class="thin"><p><em class="em2">Mychaeel:</em> For some reason several files that only differ in the capitalization of their file name are in the "shared" directory (for instance, InterWiki-Wikipedia.png and InterWiki-Wikipedia.PNG).  When extracting the archive under Windows that leads to unnecessary and confusing "Overwrite this file?" questions.  Please delete one of the files, whichever is unnecessary.</p>
<p><em class="em2">ZxAnPhOrIaN:</em> Agreed. We should adopt a standard on only lower-case file types (a.jpg, not a.JPG). it would solve that problem.</p>
<p><em class="em2">Mychaeel:</em> Yeah... well.  I take it it was an accident.  Hope tarquin sees it.  That's why I put that log message in that you overwrote by posting your comment.</p>
<p><em class="em2">Tarquin:</em> Seen. It's because Photoshop puts CAPS extensions, and I forget to change them before uploading. The perl script cares about case, but the eventual URL does not. ARG! But will fix.</p>
<p><em class="em2">Mychaeel:</em> ...the server doesn't?  <a href="http://wiki.beyondunreal.com/wiki-ext/wikilogo.jpg?link">http://wiki.beyondunreal.com/wiki-ext/wikilogo.jpg?link</a> displays the Wiki logo, but <a href="http://wiki.beyondunreal.com/wiki-ext/WiKiLoGo.JpG?link">http://wiki.beyondunreal.com/wiki-ext/WiKiLoGo.JpG?link</a> yields a 404.</p>
<p><em class="em2">ZxAnPhOrIaN:</em> I thought that you can't have mixed-case in file extensions.</p>
<p><em class="em2">Mychaeel:</em> File extensions are just part of a file name separated from it by a dot, by convention.  You can have any case you like in there like everywhere else.</p>
<p><em class="em2">Chema:</em> Hi people.  Neat site you are running here.  Was not until I found it that I felt like "mastering unreal".  The offline wiki is another cute detail, especially for 56krs like me, or netecofreaks; like me <img alt=";-)" src="emoticons/wink.gif" align="middle">  Could I suggest using a solid compression algo, like RAR or Bzip2?  Documents with repetitive text like headers and sidebars are the ideal meat for them.  I just tryed it: todays wiki (29,444,530 bytes) shrinks to 42% (12,706,692 bytes) when zipped; but it gets down to 26% (7,937,234 bytes) using solid RAR!  That's almost 5 MB less.  Even if you made the archive self extracting, it would be a lot lighter.  Keep up the good work, and count me in, even if I spend most of my wiki time on the offline version!</p>
<p><em class="em2">Mychaeel:</em> We're limited by the compression software that's available on the server.  We have zip and bzip2 there, but no RAR compression utility (or I'm just bad at guessing names).  If you could point me to one that runs under Linux, I'll ask the BeyondUnreal admins to install it.</p>
<p><em class="em2">El Muerte TDS:</em> unrar is free, rar isn't.</p>
<p><em class="em2">El Muerte TDS:</em> btw here are some stats:</p>
<pre class="paraverbatim"> 34226176 in total
 12728922 test.zip
 8134137  test.tar.bz2
 8966783  test.tar.gz
 </pre><p>bzip2 generates a high system load, gzip doesn't. So I think using tar gzip is the best solution.</p>
<p><em class="em2">Mychaeel:</em> Sounds like a good idea.  Is .tgz widely enough supported by Windows archivers to allow us to completely scratch the .zip version in favor of a .tgz one?</p>
<p><em class="em2">Mysterial:</em> WinZip and WinRAR support it and they're the two most widely used archivers.</p>
<p><em class="em2">Chema:</em> Usually bandwith is more precious ('myyyy preshiouuus' <img alt=";-)" src="emoticons/wink.gif" align="middle"> ) than some extra cpu cycles, but bzip2 is indeeded not widely supported in Windows: just by WinRAR and, well, bzip2.exe, to my knowledge (WinZip barely provides tgz support &ndash; just decompression, couse zip provides "similar functionality". haha).</p>
<p>Well, you could provide both formats, but that means even more cycles.  But even better would be to have weekly snapshots, that would weight a few hundred KBs in tgz.  A simple "find . -ctime 7" would do the trick; well, if your usual script is that simple too.</p>
<p>But I see there is still the zip pack.  If I can help writing the stuff, just tell me so (with a brief, err, debriefing: sh or perl? target for cron?).</p>
<p><em class="em2">El Muerte TDS:</em> I don't know if weekly snapshots are such a good idea, because it would require you to download  the snapshot everyweek, you can't mis a single week or you will have to download the full snapshot again. And the offline wiki is only intresting for users without broadband.</p>
<p><em class="em2">Mychaeel:</em> Adding support for RAR is a matter of (1) having a RAR compressor for Linux and (2) adding a single line of code to the current Offline Wiki (Perl) script.  My concern is more for BeyondUnreal's bandwidth than the users' in this case; right now a single 13 MB-file is uploaded to all mirrors once a day, and each compression format we'd provide in addition to that would add to that load (multiplied by the number of mirrors, naturally).</p>
<p><em class="em2">Chema:</em> Err, you got me wrong: I was talking about bzip2 format, not RAR.  Anyway, yes, I think that having 2 formats its not elegant (not 'perlish' <img alt=";-)" src="emoticons/wink.gif" align="middle"> ), thats why I think the weekly snapshot is much better.</p>
<p>In response to El Muerte, you don't have to get the snapshot every week: I think they should be really tiny (100-500KB at most, in tgz? well, not counting when I upload my vactaion pics!), and several of them could be stored on the Offline Wiki page.  So you just need to check your last update, and get the newer snapshots.</p>
<p><em class="em2">El Muerte TDS:</em> what about this: "snapshot on request" you can select the timeframe of the snapshot and then a archive will be created on the fly and feeded realtime to your browser <img alt=";)" src="emoticons/wink.gif" align="middle"></p>
<p><em class="em2">Mychaeel:</em> Hmm... maybe that's not even so far off.  Executing the Offline Wiki script takes several minutes to complete, but that's mostly due to several thousand pages that have to be read and formatted.  Actually packing a subset of pages into a downloadable archive file takes much less time. &ndash; However, the problem remains that file downloads shouldn't be served directly from a BeyondUnreal-hosted site.</p>
<p><em class="em2">GRAF1K:</em> Gehn, the offline wiki file size does change frequently due to constant edits. Thanks for the update.</p>
<hr class="thin"><p><em class="em2">Mychaeel:</em> Offline Wiki is up and running again after it went down April 29, 2004, and nobody bothered telling me/us... according to hal from BeyondUnreal, the Perl script building the Offline Wiki has been throwing warning messages for quite a while, but they chose to ignore them rather than to tell us about them.  <img alt=":-/" src="emoticons/hmm.gif" align="middle"></p>
<p><em class="em2">Tarquin:</em> I had no idea... </p>
<hr class="thin"><p><em class="em2">El Muerte:</em> I've put up an readonly mirror of the UnrealWiki <a href="http://unreal.student.utwente.nl/wiki/">[here]</a>, it uses this offline wiki for it's content. Quite some things don't work (like search), and the page naming isn't 1on1, but at least we'll have a fallback when BU goes offline again.</p>
<p><em class="em2">El Muerte:</em> it's broken, the current archive is from november 5</p>
<hr class="thin"><p><em class="em2">Techno_JF:</em> Just so it's clear, the offline wiki hasn't been updated in a while.  I don't know if that's by accident or by design, but I think people should be aware of it either way.  I just downloaded it, and the date on the pages said "Sat, November 5, 2005".  For reference, today's date is February 21, 2006.</p>
<p><em class="em2">HC Denton:</em> Is someone going to fix this? The offline wiki is a nice thing because it ensures you have access to all docs even if the wiki goes down temporarily..</p>
<p><em class="em2">FEID:</em> i noticed the same problem the offline wiki isn't working and </p>
<p>can't get recent Added Pages!!!  </p>
<hr class="thin"><p><em class="em2">fyfe:</em> Almost a year now and the offline wiki is still offline. Is it dead for good, or is it just a glitch the higher ups haven't noticed <img alt=":p" src="emoticons/tongue.gif" align="middle"></p>
<p><em class="em2">Tarquin:</em> It's down to BU admins. You can contact them yourself <img alt=":)" src="emoticons/smile.gif" align="middle"></p>
<p><em class="em2">feid:</em> so you can do nothing at all, i mean whats the point for this page if nothing is updated, it pretty much useless when new information get published, and what about when our precious wiki is gone, i want somthing to remener it by, in the future.</p>
<p><em class="em2">Tarquin:</em> Basically, no, I can't do anything. BU's server must be doing something wrong.</p>
<p><em class="em2">fyfe:</em> Sent an e-mail to qapete, but I never got a response.</p>
<p><em class="em2">fyfe:</em> Got a e-mail from qapete, it's now fixed <img alt=":)" src="emoticons/smile.gif" align="middle"></p>
<p><em class="em2">fyfe:</em> But it doesn't look like it's hit the mirrors yet <img alt=":(" src="emoticons/sad.gif" align="middle"></p>
<p><em class="em2">fyfe:</em> The mirrors have caught up now <img alt=":D" src="emoticons/biggrin.gif" align="middle"></p>
<hr class="thin"><h3><a name="0.1.1"></a>Blocking offline readers</h3>
<p><em class="em2">fyfe:</em> Not sure if you've got anything like this implemented, but if you wanted to block the casual user from strip mining the wiki with an offline reader you can add the following to <em class="em1">.htaccess</em></p>
<pre>
RewriteEngine on

# Send offline readers to offlinewiki.html
RewriteCond %{HTTP_USER_AGENT} (Wget|CherryPickerSE|CherryPickerElite|ExtractorPro|WebStripper|WebCopier|WebZIP) 
RewriteRule ^.*$ offlinewiki.html [L]
</pre><p>then create a file called <em class="em1">/offlinewiki.html</em> (don't put any links in it)</p>
<pre>
&lt;html&gt;
	&lt;head&gt;
		&lt;title&gt;Never use an offline reader to download the entire Unreal Wiki.&lt;/title&gt;
		&lt;meta name="robots" content="noindex,nofollow"&gt;
	&lt;/head&gt;
	&lt;body style="color:#000000;background-color:#FFFFFF;"  bgcolor="#FFFFFF" color="#000000"&gt;
		&lt;p&gt;&lt;strong&gt;Never use an offline reader to download the entire Unreal Wiki. If you do, 
		   we will ban you instantly and permanently.&lt;/strong&gt; Offline readers put an insane 
		   stress on the web server because they follow each and every of the 
		   processing-intensive maintenance links on the Wiki that are used seldomly by real 
		   people. Don't say you haven't been warned.&lt;/p&gt;

		&lt;p&gt;We're providing the entire Wiki content as a convenient single download on Offline 
		   Wiki [&lt;span style="color:#FF0000;"&gt;http://wiki.beyondunreal.com/wiki/Offline_Wiki&lt;/span&gt;] 
		   though. It's smaller, zipped and downloads faster than what any offline reader 
		   could give you. Of course you can also save individual pages using your web browser 
		   without problems.&lt;/p&gt;
	&lt;/body&gt;
&lt;/html&gt;
</pre><p>The same could be done for bad robots that ignore <em class="em1">/robots.txt</em> just change the <em class="em1">RewriteRule to</em></p>
<pre class="paraverbatim"> # Send a "403 Forbidden" response
 RewriteRule ^.*$ - [F]</pre><h3><a name="0.1.2"></a>Download Links</h3>
<p><em class="em2">Wormbo:</em> Appearantly the FileFront mirror linked on BU FileWorks points to the wrong file.</p>
<script type="text/javascript"><!--
 menuItemAdd("Discussion", "#0.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Blocking offline readers", "#0.1.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Download Links", "#0.1.2");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p><form method="post" action="http://wiki.beyondunreal.com/wiki" enctype="application/x-www-form-urlencoded">
<a href="(start).html">Home Page</a> | <a href="offline-wiki.html">Offline Wiki</a> | <a href="recent-changes.html">Recent Changes</a> | <a href="http://wiki.beyondunreal.com/wiki?action=editprefs">Preferences</a><br>
<a href="http://wiki.beyondunreal.com/wiki?action=edit&id=Offline_Wiki/Discuss">Edit text of this page</a> | <a href="http://wiki.beyondunreal.com/wiki?action=history&id=Offline_Wiki/Discuss">View other revisions</a><br>Last edited April 3, 2007 4:44 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=Offline_Wiki/Discuss">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/Offline_Wiki/Discuss">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>
</form>
	</p>
	<p>Gah - a solution with more questions. (EntropicLqd)
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="http://wiki.beyondunreal.com/"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>
<p><a href="/cgi-bin/imageupload.cgi/wiki-ext/imageupload.htt" target="_blank ">Image Uploads</a></p>
<p><a href="http://wiki.beyondunreal.com/wiki?action=random">Random Page</a></p>
<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
