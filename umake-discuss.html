<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: UMake/Discuss</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=UMake/Discuss; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<form class="inline" method="post" action="/wiki" enctype="application/x-www-form-urlencoded"><input type="text" name="search"  size="20" /> <input type="submit" name="search" value="search" /></form>
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="(start).html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a> | <a href="http://wiki.beyondunreal.com/wiki?action=editprefs">Preferences</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="umake.html">UMake</a>/<a href="http://wiki.beyondunreal.com/wiki?back=UMake/Discuss">Discuss</a></h1>
	<div class="wiki"><h2><a name="0.1"></a>Suggestions</h2>
<h3><a name="0.1.1"></a>Restart Button</h3>
<p><em class="em2">Tarquin:</em> It would be nice for the "compile failed" window to have a "start again" button &ndash; avoids having to restart the program or go back via options.</p>
<h3><a name="0.1.2"></a>Compiling Multiple Packages</h3>
<p><em class="em2">DJPaul:</em> Can this thing re-compile multiple packages AT ONCE?</p>
<p><em class="em2">Mychaeel:</em> It's not designed to, or at least the frontend isn't.  I think compiling multiple packages at once is not a very common task though.</p>
<p><em class="em2">Wormbo:</em> You'd have to add the additional packages to the project in UMake, but if you want to recompile them then you'll have to delete them manually. I recommend creating multiple projects for that though.</p>
<h3><a name="0.1.3"></a>Dependency List Management</h3>
<p><em class="em2">Unknown:</em>  Would it be possible for the Dependencies list in the Project tab to have some way of "uncheck all below this" and "check all above this"?</p>
<h3><a name="0.1.4"></a>Succes/Failed, but where is the warning?</h3>
<p><em class="em2">Daid303:</em> How about an option that does something (something else then succes) on a succesfull compile with warnings, because most of the time you do want to fix your warnings. And the UCC with the runtime engine nevers shows up 'X errors' it thinks all errors are warnings for some reason.</p>
<h3><a name="0.1.5"></a>Extra command line option</h3>
<p><em class="em2">Daid303:</em> wouldn't it be nice to have an option to give extra commands to UCC, like -Debug.</p>
<h3><a name="0.1.6"></a>Support for UT2004's <tt>-mod</tt> feature</h3>
<p><em class="em2">Wormbo:</em> This is somewhat related to the "Extra command line option" suggestion above, but may be worth mentioning on its own. The <code>-mod</code> parameter implies certain changes in the directory structure of the source code (as opposed to compiling without <code>-mod</code>) UMake doesn't handle yet, I think.</p>
<h2><a name="0.2"></a>Bugs</h2>
<h3><a name="0.2.1"></a>Cache export seems to break something here</h3>
<p>The new UT2004 version (3270) seems to have problems with UCC. Because of the automatic cache export. </p>
<p>WORKAROUND:</p>
<p>Open the make.ini in your project directory and add the line</p>
<pre class="paraverbatim"> CacheRecordPath=*.ucl</pre><p>in the [Core.System] section.</p>
<h3><a name="0.2.2"></a>Project Tab and Long Package Names</h3>
<p><em class="em2">Tarquin:</em> Project tab: "The options on this tab only affect the ..." text runs off the screen with long package names.</p>
<h3><a name="0.2.3"></a>Errors Outside the Compiled Package</h3>
<p><em class="em2">El Muerte TDS:</em> somewhat of a bug, when you make a mistake in a other package, on what the current package depends the edit button will try open that file from the current package (which mostlikely won't exist)</p>
<p><em class="em2">Mychaeel:</em> Normally UMake will extract the full file name from the "ucc make" log and simply use that.  In a few cases the compiler doesn't provide a full file name but only a class name; in those cases UMake tries to guess the name of the .uc file using the class name and the current package name.  I could improve that algorithm though by using the name of the last package the compiler started to process (I simply didn't think of the possibility that there could be an error in a different package than the one that's being compiled).</p>
<p><em class="em2">El Muerte TDS:</em> you could also check if the file event exists in the current package</p>
<p><em class="em2">Mychaeel:</em> That's right.  I'll keep that in mind for the next version.</p>
<h3><a name="0.2.4"></a>Warnings About Missing Import Files</h3>
<p><em class="em2">Wormbo:</em> When compiling a UT project I got a compiler warning about a texture that couldn't be imported. UMake correctly displayed that warning and the corresponding script file, but the Edit button opens the next script file parsed.</p>
<h3><a name="0.2.5"></a>GPF after successfull compilation with UT2004 v3197 (and later)</h3>
<p><em class="em2">Wormbo:</em> From beta patch v3197 and onward, the Make <a href="commandlet.html">commandlet</a> automatically runs the ExportCache commandlet as well. When compiling with UMake, this part causes a General Protection Fault because the [Core.System] section of the UMake project ini file entry is missing the line</p>
<pre class="paraverbatim"> CacheRecordPath=../System/*.ucl</pre><p>The compiled U file is saved correctly, though.</p>
<p>And while I'm at it, adding Suppress=DevLoad and Suppress=DevSave to the [Core.System] section as well wouldn't hurt in UT2004.</p>
<h3><a name="0.2.6"></a>Warnings about unused or obscured variables, structs and enums</h3>
<p><em class="em2">Wormbo:</em> The warnings UCC displays about unused or obscured variables or obscured structs or enums aren't displayed in the Warnings tab.<br>Now when they are the cause of a compiler error (e.g. "type mismatch in =" on a line with "A = B;", where A is of type thisClass.SomeStruct and B is of type parentClass.SomeStruct) it's pure luck to find them because UMake switches to the "Errors" tab without showing the warnings.</p>
<h2><a name="0.3"></a>Questions and Problems</h2>
<h3><a name="0.3.1"></a>Aborting UCC</h3>
<p><em class="em2">El Muerte TDS:</em> Mychaeel, how did you implement the "abort" feature of umake ? I'm working on a `ucc server` wrapper to make my debugging a bit easier. But I can't get to shutdown the server proberly, I've tried that winapi method to send a ^C but it doesn't work for some reason.</p>
<p><em class="em2">Mychaeel:</em> Under Windows NT/2000/XP, UMake simply closes the console window.  Under Windows 9x/ME, it uses keybd_event to send VK_CONTROL and VK_CANCEL key press and release events. &ndash; But even though that works, there's another pitfall with "ucc":  It doesn't abort cleanly.  A Visual C++ error dialog appears when the program is aborted (happens when you do it manually too), so I wrapped the "ucc make" process in a pseudo-debugging environment which handles the program abortion exception in ucc's stead.</p>
<h3><a name="0.3.2"></a>UCC User Interaction</h3>
<p><em class="em2">AlphaOne:</em> I have a problem with UMake (probably due to my code). When umake starts compiling my subclass of Tab_InstantActionBaseRules (myRulesTab) UMake stops responding as if it was in an infinite loop.  When I try the same code with UCC I get the following:</p>
<pre class="paraverbatim">  Importing Defaults for myRulesTab
  The file '..\mypackage\Inc\myPackageClasses.h' needs to be updated.
  Do you want to overwrite the existing version? (Y/N):</pre><p>If I say Y then it gives me:</p>
<pre class="paraverbatim">  Error exporting Class Core.Object: couldn't open file '..\mypackage\Inc\myPackageClasses.h'
  Failure - 1 error(s), 0 warning(s)</pre><p>If I say N then it compiles without errors. Other than that the code runs fine (I think). &ndash; So, what should I do? What is the problem? I don't think my class has  any probles. I could post the code.</p>
<p><em class="em2">Mychaeel:</em> Sounds like you're having a superfluous "native" somewhere (otherwise the compiler would not ask for updating a .h file).  By the way, you should see the same message when clicking "Details," and by clicking "Abort" you should always be able to close UMake when that happens.</p>
<p><em class="em2">AlphaOne:</em> What does superfluous native mean? The problem with UMake is that in MY case clicking Abort does NOT abort. In fact the only way to close UMake is to kill it! That's the reason why I went to UCC. Anyways, Someone else gave me that code and it compiles fine for that person. Moreover, if I choose the "N" option in UCC then the code compiles perfectly and works fine as well. I just want UMake not to hang on me like this.</p>
<p><em class="em2">Mychaeel:</em> The problem is that "ucc" asks for user interaction, and UMake doesn't support that.  (There's a switch in UT2003's "ucc" to suppress any user interaction.  UMake doesn't use it, but could in a possible future version &ndash; just to be sure.)</p>
<p>The <em class="em1">actual</em> problem is in the code you're compiling though.  Normally the compiler doesn't require any user interaction, and that request about creating "myPackageClasses.h" is a strong indication that something is in that UnrealScript code that shouldn't be there &ndash; namely a reference to native code via the "native" keyword.  Since mod makers have no means to actually create native code to work with UnrealScript code, any "native" in the UnrealScript code is bound to be out of place.  I can only guess, but maybe your coder just copied some of Epic's code without really understanding it and thus got a superfluous "native" into what actually should be pure UnrealScript code.</p>
<p>If that's not it, send me your .uc file to <a href="mailto:mychaeel@beyondunreal.com">mychaeel@beyondunreal.com</a> and I'll look into the problem more closely.</p>
<p><em class="em2">AlphaOne:</em> Thanks a bunch! Some of the code did have a native class declaration. I didn't realise that someonelse's file was in the package, so I didn't bother to look there until I searched for the word "native" in ALL of my classes! Anyways, UMake is a wonderful program!</p>
<p><em class="em2">Ferazel2001:</em> Wow... im so glad theres an alternitave to UDE... I thought I was stuck with either that or UnrealEd, Now that I have gotten EditPlus and UMake set up, life is really looking up! Thanks for the great app!</p>
<h3><a name="0.3.3"></a>Code</h3>
<p><em class="em2">Blip2:</em> Was this written in VB5/6/ or .net?</p>
<p><em class="em2">Wormbo:</em> It was written in Delphi. No idea about the version, though.</p>
<script type="text/javascript"><!--
 menuItemAdd("Suggestions", "#0.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Restart Button", "#0.1.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Compiling Multiple Packages", "#0.1.2");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Dependency List Management", "#0.1.3");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Succes/Failed, but where is the warning?", "#0.1.4");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Extra command line option", "#0.1.5");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Support for UT2004's <tt>-mod</tt> feature", "#0.1.6");
menuItemAdd("Bugs", "#0.2");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Cache export seems to break something here", "#0.2.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Project Tab and Long Package Names", "#0.2.2");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Errors Outside the Compiled Package", "#0.2.3");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Warnings About Missing Import Files", "#0.2.4");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>GPF after successfull compilation with UT2004 v3197 (and later)", "#0.2.5");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Warnings about unused or obscured variables, structs and enums", "#0.2.6");
menuItemAdd("Questions and Problems", "#0.3");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Aborting UCC", "#0.3.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>UCC User Interaction", "#0.3.2");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Code", "#0.3.3");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p><form method="post" action="http://wiki.beyondunreal.com/wiki" enctype="application/x-www-form-urlencoded">
<a href="(start).html">Home Page</a> | <a href="umake.html">UMake</a> | <a href="recent-changes.html">Recent Changes</a> | <a href="http://wiki.beyondunreal.com/wiki?action=editprefs">Preferences</a><br>
<a href="http://wiki.beyondunreal.com/wiki?action=edit&id=UMake/Discuss">Edit text of this page</a> | <a href="http://wiki.beyondunreal.com/wiki?action=history&id=UMake/Discuss">View other revisions</a><br>Last edited December 10, 2005 5:43 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=UMake/Discuss">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/UMake/Discuss">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>
</form>
	</p>
	<p>Mostly Harmless
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="http://wiki.beyondunreal.com/"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>
<p><a href="/cgi-bin/imageupload.cgi/wiki-ext/imageupload.htt" target="_blank ">Image Uploads</a></p>
<p><a href="http://wiki.beyondunreal.com/wiki?action=random">Random Page</a></p>
<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
