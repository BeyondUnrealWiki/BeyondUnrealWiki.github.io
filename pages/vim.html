<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: Vim</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=Vim; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<input type="text" name="search"  size="14" /> <input type="button" onclick="location.href='../search-error/index.html';" value="search" />
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="http://wiki.beyondunreal.com/wiki?back=Vim">Vim</a></h1>
	<div class="wiki"><p>Vim is a <a href="text-editor.html">text editor</a></p>
<h3><a name="0.0.1"></a>Editing with Vim</h3>
<p>So you want to join the legions of masochists that edit files using the archaic VI-style keybindings?  Editing using a VI clone may have a massive learning curve, but by and large the speed gains you get when mastering the editor outstrip any need for GUI hand-holding.  Using Vim is truly Zen and the Art of Editing Source (IMHO anyway <img alt=";)" src="emoticons/wink.gif" align="middle">).</p>
<p>This is all you need to know:  <a href="http://www.vim.org">http://www.vim.org</a></p>
<p>This page isn't meant to be a tutorial on generic editing but I will point out a few pages that are very helpful:</p>
<ul><li>The Best of Vim Tips (<em class="em1">very</em> good stuff here) <a href="http://www.rayninfo.co.uk/vimtips.html">http://www.rayninfo.co.uk/vimtips.html</a></li>
<li>Linux Productivity Magazine article about VI and Vim with lots of good info <a href="http://www.troubleshooters.com/lpm/200212/200212.htm">http://www.troubleshooters.com/lpm/200212/200212.htm</a></li>
<li>The Vim Cookbook with some neat stuff to do <a href="http://www.oualline.com/vim-cook.html">http://www.oualline.com/vim-cook.html</a></li>
</ul>
<p>Vim has built-in UnrealScript syntax highlighting!</p>
<h3><a name="0.0.2"></a>Useful Scripts</h3>
<ul><li>BufExplorer for switching between multiple files at the same time: <a href="http://www.vim.org/scripts/script.php?script_id=42">http://www.vim.org/scripts/script.php?script_id=42</a></li>
<li>TagList source code browser (uses Tags discussed below): <a href="http://www.vim.org/scripts/script.php?script_id=273">http://www.vim.org/scripts/script.php?script_id=273</a></li>
</ul>
<h3><a name="0.0.3"></a>Tags</h3>
<p>One of the more useful things you can do in Vim is the build in Tags support.  Implemented correctly navigating around the UnrealScript source is as easy as moving your cursor over a class or function name and pressing <tt>CTRL-]</tt>.  This will open the associated file in a new buffer.  Pressing <tt>CTRL-t</tt> will pop you back into the previously viewed file.</p>
<p>Getting all this to work correctly is a bit tricky, however.  I suggest you take a look at the <a href="ultraedit.html">UltraEdit</a> page which has thorough explanation of setting up the ctags file.  Here are a couple of caveats:</p>
<ul><li>I use the default name 'tags' for all of my tag files since I'm editing different types of source and it's easier to use one filename than have to specify different filenames for every source I use tags with.<ul><li>Because of this my command for running ctags is <pre class="uscript">ctags <span class="uscript-operator">--</span>options<span class="uscript-operator">=</span>ctags<span class="uscript-operator">.</span>cfg <span class="uscript-operator">-</span>V <span class="uscript-operator">-</span>f <span class="uscript-string">"C:\UT2003\tags"</span> <span class="uscript-string">"C:\UT2003"</span></pre><ul><li><tt>-V</tt> is for verbose</li>
<li><tt>&ndash;options=ctags.cfg</tt> sets a file that holds command-line options (next caveat)</li>
</ul>
</li>
</ul>
</li>
<li>I've updated the ctags config file from the <a href="ultraedit.html">UltraEdit</a> page because I was getting odd results.  This one works for UT2k3 (<em class="em2">ctags.cfg</em>):<ul><li><pre class="uscript"><span class="uscript-operator">--</span>langdef<span class="uscript-operator">=</span>INI
<span class="uscript-operator">--</span>langmap<span class="uscript-operator">=</span>INI:<span class="uscript-operator">.</span>ini
<span class="uscript-operator">--</span>regex<span class="uscript-operator">-</span>INI<span class="uscript-operator">=</span><span class="uscript-operator">/</span><span class="uscript-operator">^</span><span class="uscript-operator">[</span> \t<span class="uscript-operator">]</span><span class="uscript-operator">*</span>\<span class="uscript-operator">[</span><span class="uscript-operator">(</span><span class="uscript-operator">.</span><span class="uscript-operator">*</span><span class="uscript-operator">)</span>\<span class="uscript-operator">]</span><span class="uscript-operator">/</span>\<span class="uscript-number">1</span><span class="uscript-operator">/</span>b<span class="uscript-operator">,</span>block<span class="uscript-operator">/</span>
<span class="uscript-operator">--</span>regex<span class="uscript-operator">-</span>INI<span class="uscript-operator">=</span><span class="uscript-operator">/</span><span class="uscript-operator">^</span><span class="uscript-operator">[</span> \t<span class="uscript-operator">]</span><span class="uscript-operator">*</span><span class="uscript-operator">(</span><span class="uscript-operator">[</span><span class="uscript-operator">^</span>\<span class="uscript-operator">[</span><span class="uscript-operator">=</span><span class="uscript-operator">]</span><span class="uscript-operator">+</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-operator">(</span><span class="uscript-operator">.</span><span class="uscript-operator">*</span><span class="uscript-operator">)</span><span class="uscript-operator">/</span>\<span class="uscript-number">1</span><span class="uscript-operator">/</span>k<span class="uscript-operator">,</span>key<span class="uscript-operator">/</span>
<span class="uscript-operator">--</span>langdef<span class="uscript-operator">=</span>unrealscript
<span class="uscript-operator">--</span>langmap<span class="uscript-operator">=</span>unrealscript:<span class="uscript-operator">.</span>uc
<span class="uscript-operator">--</span>regex<span class="uscript-operator">-</span>unrealscript<span class="uscript-operator">=</span><span class="uscript-operator">/</span><span class="uscript-operator">^</span><span class="uscript-operator">[</span> \t<span class="uscript-operator">]</span><span class="uscript-operator">*</span><span class="uscript-operator">[</span>cC<span class="uscript-operator">]</span>lass<span class="uscript-operator">[</span> \t<span class="uscript-operator">]</span><span class="uscript-operator">*</span><span class="uscript-operator">(</span><span class="uscript-operator">[</span>a<span class="uscript-operator">-</span>zA<span class="uscript-operator">-</span>Z0<span class="uscript-operator">-</span>9_<span class="uscript-operator">]</span><span class="uscript-operator">+</span><span class="uscript-operator">)</span><span class="uscript-operator">/</span>\<span class="uscript-number">1</span><span class="uscript-operator">/</span>c<span class="uscript-operator">,</span><span class="uscript-keyword">class</span><span class="uscript-operator">/</span>
<span class="uscript-operator">--</span>regex<span class="uscript-operator">-</span>unrealscript<span class="uscript-operator">=</span><span class="uscript-operator">/</span><span class="uscript-operator">^</span><span class="uscript-operator">[</span> \t<span class="uscript-operator">]</span><span class="uscript-operator">*</span><span class="uscript-operator">[</span>sS<span class="uscript-operator">]</span>tate<span class="uscript-operator">[</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> \t<span class="uscript-operator">]</span><span class="uscript-operator">*</span><span class="uscript-operator">(</span><span class="uscript-operator">[</span>a<span class="uscript-operator">-</span>zA<span class="uscript-operator">-</span>Z0<span class="uscript-number">-9</span><span class="uscript-operator">]</span><span class="uscript-operator">+</span><span class="uscript-operator">)</span><span class="uscript-operator">/</span>\<span class="uscript-number">1</span><span class="uscript-operator">/</span>s<span class="uscript-operator">,</span><span class="uscript-keyword">state</span><span class="uscript-operator">/</span>
<span class="uscript-operator">--</span>regex<span class="uscript-operator">-</span>unrealscript<span class="uscript-operator">=</span><span class="uscript-operator">/</span><span class="uscript-operator">^</span><span class="uscript-operator">[</span> \t<span class="uscript-operator">]</span><span class="uscript-operator">*</span><span class="uscript-operator">[</span>sS<span class="uscript-operator">]</span>imulated<span class="uscript-operator">[</span> \t<span class="uscript-operator">]</span><span class="uscript-operator">*</span><span class="uscript-operator">(</span><span class="uscript-operator">.</span><span class="uscript-operator">*</span><span class="uscript-operator">)</span><span class="uscript-operator">[</span> \t<span class="uscript-operator">]</span><span class="uscript-operator">+</span><span class="uscript-operator">(</span><span class="uscript-operator">[</span>a<span class="uscript-operator">-</span>zA<span class="uscript-operator">-</span>Z0<span class="uscript-operator">-</span>9_<span class="uscript-operator">]</span><span class="uscript-operator">+</span><span class="uscript-operator">)</span>\<span class="uscript-operator">(</span><span class="uscript-operator">/</span>\<span class="uscript-number">2</span><span class="uscript-operator">/</span>i<span class="uscript-operator">,</span><span class="uscript-keyword">simulated</span><span class="uscript-operator">/</span>
<span class="uscript-operator">--</span>regex<span class="uscript-operator">-</span>unrealscript<span class="uscript-operator">=</span><span class="uscript-operator">/</span><span class="uscript-operator">^</span><span class="uscript-operator">[</span> \t<span class="uscript-operator">]</span><span class="uscript-operator">*</span><span class="uscript-operator">[</span>eE<span class="uscript-operator">]</span>vent<span class="uscript-operator">[</span> \t<span class="uscript-operator">]</span><span class="uscript-operator">*</span><span class="uscript-operator">[</span><span class="uscript-operator">^</span> \t<span class="uscript-operator">]</span><span class="uscript-operator">*</span><span class="uscript-operator">[</span> \t<span class="uscript-operator">]</span><span class="uscript-operator">+</span><span class="uscript-operator">(</span><span class="uscript-operator">[</span>a<span class="uscript-operator">-</span>zA<span class="uscript-operator">-</span>Z0<span class="uscript-operator">-</span>9_<span class="uscript-operator">]</span><span class="uscript-operator">+</span><span class="uscript-operator">)</span>\<span class="uscript-operator">(</span><span class="uscript-operator">/</span>\<span class="uscript-number">1</span><span class="uscript-operator">/</span>e<span class="uscript-operator">,</span><span class="uscript-keyword">event</span><span class="uscript-operator">/</span>
<span class="uscript-operator">--</span>regex<span class="uscript-operator">-</span>unrealscript<span class="uscript-operator">=</span><span class="uscript-operator">/</span><span class="uscript-operator">^</span><span class="uscript-operator">[</span> \t<span class="uscript-operator">]</span><span class="uscript-operator">*</span><span class="uscript-operator">[</span>fF<span class="uscript-operator">]</span>unction<span class="uscript-operator">[</span> \t<span class="uscript-operator">]</span><span class="uscript-operator">*</span><span class="uscript-operator">(</span><span class="uscript-operator">.</span><span class="uscript-operator">*</span><span class="uscript-operator">)</span><span class="uscript-operator">[</span> \t<span class="uscript-operator">]</span><span class="uscript-operator">+</span><span class="uscript-operator">(</span><span class="uscript-operator">[</span>a<span class="uscript-operator">-</span>zA<span class="uscript-operator">-</span>Z0<span class="uscript-operator">-</span>9_<span class="uscript-operator">]</span><span class="uscript-operator">+</span><span class="uscript-operator">)</span>\<span class="uscript-operator">(</span><span class="uscript-operator">/</span>\<span class="uscript-number">2</span><span class="uscript-operator">/</span>f<span class="uscript-operator">,</span><span class="uscript-keyword">function</span><span class="uscript-operator">/</span>
<span class="uscript-operator">--</span>recurse</pre></li>
<li>Basically this tells the ctags utility what regular expressions to use to get points of interest.  The one above tells ctags to take into account class, state, simulated, event and function declarations.  You can use these five types declarations to browse the source tree after we're done.</li>
</ul>
</li>
</ul>
<h3><a name="0.0.4"></a>_vimrc</h3>
<p>The _vimrc file holds a user's settings and commands Vim will run on startup.  This is where configuration commands should go get get this stuff to work.  Here's is what will need to go into this file as well as some added helpful/useful items:</p>
<pre class="uscript"><span class="uscript-string">" search for tags file in parent directories</span>
set tags<span class="uscript-operator">=</span>tags<span class="uscript-operator">;</span><span class="uscript-operator">/</span>

<span class="uscript-string">" For Taglist</span>
nnoremap <span class="uscript-operator">&lt;</span>silent<span class="uscript-operator">&gt;</span> <span class="uscript-operator">&lt;</span>F8<span class="uscript-operator">&gt;</span> :Tlist<span class="uscript-operator">&lt;</span>CR<span class="uscript-operator">&gt;</span> 
nnoremap <span class="uscript-operator">&lt;</span>silent<span class="uscript-operator">&gt;</span> <span class="uscript-operator">&lt;</span>F9<span class="uscript-operator">&gt;</span> :TlistSync<span class="uscript-operator">&lt;</span>CR<span class="uscript-operator">&gt;</span>
let Tlist_Use_Right_Window <span class="uscript-operator">=</span> <span class="uscript-number">1</span>

<span class="uscript-string">" to make Taglist work with UnrealScript</span>
au FileType uc let Tlist_Ctags_Cmd <span class="uscript-operator">=</span> <span class="uscript-name">'ctags.exe --options="C:\UT2003\ctags.cfg"'</span>
let tlist_uc_settings <span class="uscript-operator">=</span> <span class="uscript-name">'unrealscript;c:class;f:function;i:simulated;e:event;s:state'</span>

<span class="uscript-string">" For File Browser</span>
nnoremap <span class="uscript-operator">&lt;</span>silent<span class="uscript-operator">&gt;</span> <span class="uscript-operator">&lt;</span>F12<span class="uscript-operator">&gt;</span> :Exp<span class="uscript-operator">&lt;</span>CR<span class="uscript-operator">&gt;</span>

<span class="uscript-string">" auto-change the directory to the current buffer</span>
autocmd BufEnter <span class="uscript-operator">*</span> :cd <span class="uscript-operator">%</span>:p:h

<span class="uscript-string">" BufExplorer</span>
nnoremap <span class="uscript-operator">&lt;</span>silent<span class="uscript-operator">&gt;</span> <span class="uscript-operator">&lt;</span>F11<span class="uscript-operator">&gt;</span> :BufExplorer<span class="uscript-operator">&lt;</span>CR<span class="uscript-operator">&gt;</span></pre><p>These will require some explanation.  So in order:</p>
<dl><dt><code>set tags=tags;/</code></dt><dd>This tells Vim to search for the tags file named 'tags' starting with the directory of the open file and moving up the directory tree until it's found.</dd><dt><code>nnoremap &lt;silent&gt; &lt;F8&gt; :Tlist&lt;CR&gt;</code></dt><dd>This is for opening and closing the Taglist script (<a href="http://www.vim.org/scripts/script.php?script_id=273">http://www.vim.org/scripts/script.php?script_id=273</a>)</dd><dt><code>nnoremap &lt;silent&gt; &lt;F9&gt; :TlistSync&lt;CR&gt;</code></dt><dd>This is to force immediate syncing of the Taglist window with the current cursor position</dd><dt><code>let Tlist_Use_Right_Window = 1</code></dt><dd>Makes the TagList appear on the right side</dd><dt><code>au FileType uc let Tlist_Ctags_Cmd = 'ctags.exe --options="C:\UT2003\ctags.cfg"'</code></dt><dd>Specifies the ctags command the TagList should use.  Since we must use a custom config file to specify the unrealscript file type that needs to be in the command.</dd><dt><code>let tlist_uc_settings = 'unrealscript;c:class;f:function;i:simulated;e:event;s:state'</code></dt><dd>Specifies how the TagList should be displayed for unrealscript files.</dd><dt><code>nnoremap &lt;silent&gt; &lt;F12&gt; :Exp&lt;CR&gt;</code></dt><dd>Opens a file explorer.  Useful for opening files in the same directory as the current file.</dd><dt><code>autocmd BufEnter * :cd %:p:h</code></dt><dd>This makes the Vim working directory move to the directory of the file is currently being edited</dd><dt><code>nnoremap &lt;silent&gt; &lt;F11&gt; :BufExplorer&lt;CR&gt;</code></dt><dd>Opens the BufferExplorer (<a href="http://www.vim.org/scripts/script.php?script_id=42">http://www.vim.org/scripts/script.php?script_id=42</a>)</dd></dl>
<h3><a name="0.0.5"></a>Taglist</h3>
<p>The Taglist script is an information window that mimics many IDEs which show a birds-eye-view of the code.  All landmarks can be seen, function declarations and other things.  The _vimrc file declared above should be adequate to get this to work.  The <code>let tlist_uc_settings = 'unrealscript;c:class;f:function;i:simulated;e:event;s:state'</code> line can be edited to change the order that the sections appear or be removed all together.  just change the order of the s:state or e:event bits.</p>
<h3><a name="0.0.6"></a>Make </h3>
<p>Vim's Make functionality can be changed to use <a href="ucc.html">ucc</a>.  On a compile-time error, Vim will move the cursor to the buffer and line number an error occured on.</p>
<p>Here's some more additions to your <em class="em2">_vimrc</em> file:</p>
<pre class="uscript">autocmd FileType uc set makeprg<span class="uscript-operator">=</span>C:\\UT2003\\system\\ucc\ make
autocmd FileType uc set efm<span class="uscript-operator">=</span><span class="uscript-operator">%</span>f<span class="uscript-operator">(</span><span class="uscript-operator">%</span>l<span class="uscript-operator">)</span>\ :\ <span class="uscript-operator">%</span>m</pre><p>Change your pathnames as appropiate of course.  This will allow the command <code>:make</code> to use ucc and it will recognize the error format correctly.  Vim will automatically jump to the uc file and line number with the error even if it isn't open.  <code>:cn</code> will go to the next error, <code>:cp</code> to the previous.  <code>:cl</code> will list all errors.</p>
<p>So far it will only recognize errors within code.  Any warnings or problems with default properties it will not recognize.  You will get a "shell returned 1" message however.  In the future I want to modify the efm line above to recognize more errors and warnings from ucc to make it more streamlined.  Omitting the line altogether actually works, Vim seems to get the general gist of ucc's error format.</p>
<p>Type <code>:help quickfix</code> within Vim for more commands and information on how to use this functionality.</p>
<h3><a name="0.0.7"></a>Comments</h3>
<p><em class="em2">SocratesJohnson:</em> Well here's my first stab at how to get the Vim editor to work well with UnrealScript.  Any questions/comments/rants please let me know!</p>
<p><em class="em2">Erik:</em> vim comes with the appropriate fu, automagic on all my unix systems and even my winderz box... <img alt=":)" src="emoticons/smile.gif" align="middle"> syntax/uc.vim notes that it was last modified "2001 May 10"</p>
<hr class="thin"><p><a href="category-application.html">Category Application</a></p>
<script type="text/javascript"><!--
 menuItemAdd("Editing with Vim", "#0.0.1");
menuItemAdd("Useful Scripts", "#0.0.2");
menuItemAdd("Tags", "#0.0.3");
menuItemAdd("_vimrc", "#0.0.4");
menuItemAdd("Taglist", "#0.0.5");
menuItemAdd("Make ", "#0.0.6");
menuItemAdd("Comments", "#0.0.7");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p>
<a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a><br>
Last edited October 26, 2004 16:14 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=Vim">(diff)</a><br>Search: <input type="text" name="search"  size="14" /><input type="button" onclick="location.href='../search-error/index.html';" value="search" /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/Vim">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>

	</p>
	<p>I search for solutions in this order: Past Code, Unreal Source, Wiki, BUF, groups.yahoo, google, screaming at monitor. (RegularX)
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="../index.html"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>


<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
