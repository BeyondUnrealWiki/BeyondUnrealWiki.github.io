<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: ProfileConfigSet</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=ProfileConfigSet; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<form class="inline" method="post" action="/wiki" enctype="application/x-www-form-urlencoded"><input type="text" name="search"  size="20" /> <input type="submit" name="search" value="search" /></form>
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="http://wiki.beyondunreal.com/wiki?back=ProfileConfigSet">ProfileConfigSet</a></h1>
	<div class="wiki"><div class="classpath"><img src="shared//gameicons/icon-ut2003.png"> <a href="unreal-tournament-2003.html">UT2003</a> :: <a href="object.html">Object</a> &gt;&gt; ProfileConfigSet (<a href="ladder1-46.html">Ladder1.46</a>)<br></div>
<pre class="uscript"><span class="uscript-line">00001</span>  <span class="uscript-comment">//-----------------------------------------------------------</span>
<span class="uscript-line">00002</span>  <span class="uscript-comment">// Ladder.ProfileConfigSet</span>
<span class="uscript-line">00003</span>  <span class="uscript-comment">// Loosely (very loosely) based on GameConfigSet</span>
<span class="uscript-line">00004</span>  <span class="uscript-comment">//</span>
<span class="uscript-line">00005</span>  <span class="uscript-comment">// ProfileConfigSet is, in essence, a primitive database program which</span>
<span class="uscript-line">00006</span>  <span class="uscript-comment">// stores and retrieves not only numerous different "GameConfigSet"</span>
<span class="uscript-line">00007</span>  <span class="uscript-comment">// profiles, but map, mutator, serveractor and accesscontrol information as well.</span>
<span class="uscript-line">00008</span>  <span class="uscript-comment">//-----------------------------------------------------------</span>
<span class="uscript-line">00009</span>  <span class="uscript-keyword">class</span> ProfileConfigSet <span class="uscript-keyword">extends</span> Object
<span class="uscript-line">00010</span>      <span class="uscript-keyword">Config</span><span class="uscript-operator">(</span>System<span class="uscript-operator">)</span>
<span class="uscript-line">00011</span>      <span class="uscript-keyword">PerObjectConfig</span><span class="uscript-operator">;</span>
<span class="uscript-line">00012</span>  
<span class="uscript-line">00013</span>  <span class="uscript-keyword">const</span> LOGNAME <span class="uscript-operator">=</span> <span class="uscript-name">'ProfileConfigSet'</span><span class="uscript-operator">;</span>
<span class="uscript-line">00014</span>  
<span class="uscript-line">00015</span>  <span class="uscript-comment">// Variables that are used globally</span>
<span class="uscript-line">00016</span>  <span class="uscript-keyword">var</span> LevelInfo                           Level<span class="uscript-operator">;</span>          <span class="uscript-comment">// Need access to Level object</span>
<span class="uscript-line">00017</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">protected</span> <span class="uscript-type">string</span>                    AllMapsPrefix<span class="uscript-operator">;</span>  <span class="uscript-comment">// Which map prefix is currently loaded</span>
<span class="uscript-line">00018</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">protected</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>GameInfo<span class="uscript-operator">&gt;</span> <span class="uscript-operator">&gt;</span>  AllGameTypes<span class="uscript-operator">;</span>   <span class="uscript-comment">// All valid gametypes</span>
<span class="uscript-line">00019</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">protected</span> <span class="uscript-keyword">config</span> <span class="uscript-type">string</span>             DefaultGameType<span class="uscript-operator">;</span><span class="uscript-comment">// The gametype for this profile</span>
<span class="uscript-line">00020</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">protected</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>AccessControl<span class="uscript-operator">&gt;</span>      ACClass<span class="uscript-operator">;</span>        <span class="uscript-comment">// The access control class</span>
<span class="uscript-line">00021</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">protected</span> GameConfigSet             RealConfigSet<span class="uscript-operator">;</span>  <span class="uscript-comment">// Actual gameconfigset used by the game</span>
<span class="uscript-line">00022</span>  
<span class="uscript-line">00023</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">protected</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>GameInfo<span class="uscript-operator">&gt;</span>           GameClass<span class="uscript-operator">;</span>      <span class="uscript-comment">// Which game class is used by this profile</span>
<span class="uscript-line">00024</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">protected</span> PlayInfo                  PInfo<span class="uscript-operator">;</span>          <span class="uscript-comment">// PlayInfo for currently active GameType, AccessControl Class, and Active Mutators</span>
<span class="uscript-line">00025</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">protected</span> MapList                   Maps<span class="uscript-operator">;</span>           <span class="uscript-comment">// Maps currently in rotation</span>
<span class="uscript-line">00026</span>  
<span class="uscript-line">00027</span>  <span class="uscript-comment">// Regarding ServerActors</span>
<span class="uscript-line">00028</span>  <span class="uscript-keyword">struct</span> ProfileSA <span class="uscript-operator">{</span>
<span class="uscript-line">00029</span>                          <span class="uscript-keyword">var</span> <span class="uscript-type">string</span>      ActorClass<span class="uscript-operator">;</span>
<span class="uscript-line">00030</span>                          <span class="uscript-keyword">var</span> <span class="uscript-type">bool</span>        bRequired<span class="uscript-operator">;</span> <span class="uscript-operator">}</span><span class="uscript-operator">;</span>
<span class="uscript-line">00031</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">config</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span>ProfileSA<span class="uscript-operator">&gt;</span>             AllServerActors<span class="uscript-operator">;</span>
<span class="uscript-line">00032</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">config</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span>                ProfileServerActors<span class="uscript-operator">;</span>
<span class="uscript-line">00033</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">protected</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span>             GameServerActors<span class="uscript-operator">;</span>
<span class="uscript-line">00034</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">protected</span> StringArray               ActiveServerActors<span class="uscript-operator">;</span>
<span class="uscript-line">00035</span>  
<span class="uscript-line">00036</span>  <span class="uscript-comment">// Regarding Maps</span>
<span class="uscript-line">00037</span>  <span class="uscript-keyword">struct</span> ProfileMap <span class="uscript-operator">{</span>
<span class="uscript-line">00038</span>                          <span class="uscript-keyword">var</span> <span class="uscript-type">string</span>      MapName<span class="uscript-operator">;</span>
<span class="uscript-line">00039</span>                          <span class="uscript-keyword">var</span> <span class="uscript-type">int</span>         MapListOrder<span class="uscript-operator">;</span>
<span class="uscript-line">00040</span>                          <span class="uscript-keyword">var</span> <span class="uscript-type">bool</span>        bRequired<span class="uscript-operator">;</span> <span class="uscript-operator">}</span><span class="uscript-operator">;</span>
<span class="uscript-line">00041</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">config</span> <span class="uscript-type">int</span>                          MaxMaps<span class="uscript-operator">;</span>                <span class="uscript-comment">// Maximum maps allowed in maplist</span>
<span class="uscript-line">00042</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">protected</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span>             GameMaps<span class="uscript-operator">;</span>               <span class="uscript-comment">// List of all maps for this gametype that exist on server</span>
<span class="uscript-line">00043</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">protected</span> <span class="uscript-keyword">config</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span>ProfileMap<span class="uscript-operator">&gt;</span>  AllMaps<span class="uscript-operator">;</span>                <span class="uscript-comment">// List of all maps that could be used by this profile</span>
<span class="uscript-line">00044</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">protected</span> <span class="uscript-keyword">config</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span>      ProfileMaps<span class="uscript-operator">;</span>            <span class="uscript-comment">// List of all maps that are included in the maplist for this profile</span>
<span class="uscript-line">00045</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">protected</span> StringArray               ActiveMaps<span class="uscript-operator">;</span>             <span class="uscript-comment">// StringArray of ProfileMaps</span>
<span class="uscript-line">00046</span>  
<span class="uscript-line">00047</span>  <span class="uscript-comment">// Regarding Mutators</span>
<span class="uscript-line">00048</span>  <span class="uscript-keyword">struct</span> ProfileMutator <span class="uscript-operator">{</span>
<span class="uscript-line">00049</span>                          <span class="uscript-keyword">var</span> <span class="uscript-type">string</span>          MutatorName<span class="uscript-operator">;</span>
<span class="uscript-line">00050</span>                          <span class="uscript-keyword">var</span> <span class="uscript-type">bool</span>            bRequired<span class="uscript-operator">;</span> <span class="uscript-operator">}</span><span class="uscript-operator">;</span>
<span class="uscript-line">00051</span>  <span class="uscript-keyword">var</span> <span class="uscript-type">string</span>                                  NextMutators<span class="uscript-operator">;</span>           <span class="uscript-comment">// What mutators were set during this session</span>
<span class="uscript-line">00052</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">protected</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span>xUtil<span class="uscript-operator">.</span>MutatorRecord<span class="uscript-operator">&gt;</span>    GameMutators<span class="uscript-operator">;</span>           <span class="uscript-comment">// List of all mutators that exist on server</span>
<span class="uscript-line">00053</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">protected</span> <span class="uscript-keyword">config</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span>ProfileMutator<span class="uscript-operator">&gt;</span>  AllMutators<span class="uscript-operator">;</span>            <span class="uscript-comment">// List of all mutators that could be used this profile</span>
<span class="uscript-line">00054</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">protected</span> <span class="uscript-keyword">config</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span>          ProfileMutators<span class="uscript-operator">;</span>        <span class="uscript-comment">// Mutators that will be loaded by this profile</span>
<span class="uscript-line">00055</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">protected</span> StringArray                   ActiveMutators<span class="uscript-operator">;</span>         <span class="uscript-comment">// StringArray of ProfileMutators</span>
<span class="uscript-line">00056</span>  
<span class="uscript-line">00057</span>  <span class="uscript-comment">// Regarding PlayInfo</span>
<span class="uscript-line">00058</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">protected</span> <span class="uscript-keyword">config</span> <span class="uscript-type">string</span>                 AccessClass<span class="uscript-operator">;</span>
<span class="uscript-line">00059</span>  <span class="uscript-keyword">struct</span> ProfileSetting <span class="uscript-operator">{</span> <span class="uscript-keyword">var</span> <span class="uscript-type">string</span>          SettingName<span class="uscript-operator">;</span>
<span class="uscript-line">00060</span>                          <span class="uscript-keyword">var</span> <span class="uscript-type">string</span>          SettingValue<span class="uscript-operator">;</span> <span class="uscript-operator">}</span><span class="uscript-operator">;</span>
<span class="uscript-line">00061</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">protected</span> <span class="uscript-keyword">config</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span>ProfileSetting<span class="uscript-operator">&gt;</span>  ProfileSettings<span class="uscript-operator">;</span>    <span class="uscript-comment">// Stored Profile Settings which include non-active mutators PlayInfo</span>
<span class="uscript-line">00062</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">protected</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span>ProfileSetting<span class="uscript-operator">&gt;</span>         ActiveSettings<span class="uscript-operator">;</span>     <span class="uscript-comment">// Representation of stored profile settings including only active mutators</span>
<span class="uscript-line">00063</span>  
<span class="uscript-line">00064</span>  <span class="uscript-comment">// Whether we are currently editing something</span>
<span class="uscript-line">00065</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">protected</span> <span class="uscript-type">bool</span>                          bEdit<span class="uscript-operator">;</span>
<span class="uscript-line">00066</span>  
<span class="uscript-line">00067</span>  <span class="uscript-comment">// Localized strings</span>
<span class="uscript-line">00068</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">localized</span> <span class="uscript-type">string</span>    ErrorNoGameType<span class="uscript-operator">;</span>
<span class="uscript-line">00069</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">localized</span> <span class="uscript-type">string</span>    SavingToFile<span class="uscript-operator">;</span>
<span class="uscript-line">00070</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">localized</span> <span class="uscript-type">string</span>    DidNotStartEdit<span class="uscript-operator">;</span>
<span class="uscript-line">00071</span>  
<span class="uscript-line">00072</span>  <span class="uscript-keyword">function</span> Init<span class="uscript-operator">(</span>LevelInfo Lv<span class="uscript-operator">,</span> <span class="uscript-keyword">optional</span> <span class="uscript-type">string</span> GameType<span class="uscript-operator">,</span> <span class="uscript-keyword">optional</span> <span class="uscript-type">string</span> AC<span class="uscript-operator">)</span>
<span class="uscript-line">00073</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00074</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Lv<span class="uscript-operator">==</span><span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00075</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">00076</span>  
<span class="uscript-line">00077</span>      Level <span class="uscript-operator">=</span> Lv<span class="uscript-operator">;</span>
<span class="uscript-line">00078</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>GameType<span class="uscript-operator">!=</span><span class="uscript-string">""</span><span class="uscript-operator">)</span> DefaultGameType <span class="uscript-operator">=</span> GameType<span class="uscript-operator">;</span>
<span class="uscript-line">00079</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>AC <span class="uscript-operator">!=</span> <span class="uscript-string">""</span><span class="uscript-operator">)</span> AccessClass <span class="uscript-operator">=</span> AC<span class="uscript-operator">;</span>
<span class="uscript-line">00080</span>      <span class="uscript-keyword">else</span> AccessClass <span class="uscript-operator">=</span> Level<span class="uscript-operator">.</span>Game<span class="uscript-operator">.</span>AccessControlClass<span class="uscript-operator">;</span>
<span class="uscript-line">00081</span>      AllMapsPrefix <span class="uscript-operator">=</span> FindGameType<span class="uscript-operator">(</span>DefaultGameType<span class="uscript-operator">)</span><span class="uscript-operator">.</span><span class="uscript-keyword">default</span><span class="uscript-operator">.</span>MapPrefix<span class="uscript-operator">;</span>
<span class="uscript-line">00082</span>  
<span class="uscript-line">00083</span>      <span class="uscript-comment">// Make sure that none of the configured mutators have been removed from this server</span>
<span class="uscript-line">00084</span>      ValidateProfile<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00085</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00086</span>  
<span class="uscript-line">00087</span>  <span class="uscript-keyword">function</span> Cleanup<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00088</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00089</span>      <span class="uscript-comment">// Destroy any references to actors</span>
<span class="uscript-line">00090</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Level <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00091</span>          Level<span class="uscript-operator">=</span><span class="uscript-keyword">None</span><span class="uscript-operator">;</span>
<span class="uscript-line">00092</span>  
<span class="uscript-line">00093</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ActiveMaps <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00094</span>          ActiveMaps <span class="uscript-operator">=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">;</span>
<span class="uscript-line">00095</span>  
<span class="uscript-line">00096</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Maps <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00097</span>          Maps <span class="uscript-operator">=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">;</span>
<span class="uscript-line">00098</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00099</span>  
<span class="uscript-line">00100</span>  <span class="uscript-keyword">function</span> ValidateProfile<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00101</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00102</span>      ValidateAllMutators<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00103</span>      ValidateAllMaps<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00104</span>      ValidateAllServerActors<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00105</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00106</span>  
<span class="uscript-line">00107</span>  <span class="uscript-keyword">function</span> ValidateAllMutators<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00108</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00109</span>      <span class="uscript-keyword">local</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>Mutator<span class="uscript-operator">&gt;</span>    TempMutClass<span class="uscript-operator">;</span>
<span class="uscript-line">00110</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00111</span>  
<span class="uscript-line">00112</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>i <span class="uscript-operator">&lt;</span> AllMutators<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00113</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00114</span>          TempMutClass <span class="uscript-operator">=</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>Mutator<span class="uscript-operator">&gt;</span><span class="uscript-operator">(</span>DynamicLoadObject<span class="uscript-operator">(</span>AllMutators<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MutatorName<span class="uscript-operator">,</span> <span class="uscript-keyword">Class</span><span class="uscript-name">'class'</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00115</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>TempMutClass <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00116</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00117</span>              log<span class="uscript-operator">(</span><span class="uscript-string">"Mutator class '"</span><span class="uscript-operator">$</span>AllMutators<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MutatorName<span class="uscript-operator">$</span><span class="uscript-string">"' has been removed from this server.  Removing mutator from current profile."</span><span class="uscript-operator">,</span>LOGNAME<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00118</span>              AllMutators<span class="uscript-operator">.</span><span class="uscript-keyword">Remove</span><span class="uscript-operator">(</span>i<span class="uscript-operator">--</span><span class="uscript-operator">,</span><span class="uscript-number">1</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00119</span>              SaveConfig<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00120</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00121</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00122</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00123</span>  
<span class="uscript-line">00124</span>  <span class="uscript-keyword">function</span> ValidateAllMaps<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00125</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00126</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">,</span> j<span class="uscript-operator">;</span>
<span class="uscript-line">00127</span>  
<span class="uscript-line">00128</span>      LoadAllMaps<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00129</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>i <span class="uscript-operator">&lt;</span> AllMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00130</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00131</span>          <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>j <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>j <span class="uscript-operator">&lt;</span> GameMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>j<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00132</span>              <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>GameMaps<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span> <span class="uscript-operator">~=</span> AllMaps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MapName<span class="uscript-operator">)</span>
<span class="uscript-line">00133</span>                  <span class="uscript-keyword">break</span><span class="uscript-operator">;</span>
<span class="uscript-line">00134</span>  
<span class="uscript-line">00135</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>j <span class="uscript-operator">==</span> GameMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">)</span>
<span class="uscript-line">00136</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00137</span>              log<span class="uscript-operator">(</span><span class="uscript-string">"Map '"</span><span class="uscript-operator">$</span>AllMaps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MapName<span class="uscript-operator">$</span><span class="uscript-string">"' has been removed from this server. Removing map from profile."</span><span class="uscript-operator">,</span>LOGNAME<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00138</span>              AllMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Remove</span><span class="uscript-operator">(</span>i<span class="uscript-operator">--</span><span class="uscript-operator">,</span><span class="uscript-number">1</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00139</span>              SaveConfig<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00140</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00141</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00142</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00143</span>  
<span class="uscript-line">00144</span>  <span class="uscript-keyword">function</span> ValidateAllServerActors<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00145</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00146</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00147</span>      <span class="uscript-keyword">local</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>Info<span class="uscript-operator">&gt;</span> TempSA<span class="uscript-operator">;</span>
<span class="uscript-line">00148</span>  
<span class="uscript-line">00149</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>AllServerActors<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00150</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00151</span>          TempSA <span class="uscript-operator">=</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>Info<span class="uscript-operator">&gt;</span><span class="uscript-operator">(</span>DynamicLoadObject<span class="uscript-operator">(</span>AllServerActors<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>ActorClass<span class="uscript-operator">,</span><span class="uscript-keyword">Class</span><span class="uscript-name">'Class'</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00152</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>TempSA <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00153</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00154</span>              log<span class="uscript-operator">(</span><span class="uscript-string">"ServerActor '"</span><span class="uscript-operator">$</span>AllServerActors<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>ActorClass<span class="uscript-operator">$</span><span class="uscript-string">"' does not exist on this server.  Removing ServerActor from profile."</span><span class="uscript-operator">,</span>LOGNAME<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00155</span>              AllServerActors<span class="uscript-operator">.</span><span class="uscript-keyword">Remove</span><span class="uscript-operator">(</span>i<span class="uscript-operator">--</span><span class="uscript-operator">,</span><span class="uscript-number">1</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00156</span>              SaveConfig<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00157</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00158</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00159</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00160</span>  
<span class="uscript-line">00161</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> StartEdit<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00162</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00163</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Level <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span> <span class="uscript-operator">||</span> bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">00164</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00165</span>  
<span class="uscript-line">00166</span>      bEdit <span class="uscript-operator">=</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00167</span>  
<span class="uscript-line">00168</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>PInfo <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00169</span>          PInfo <span class="uscript-operator">=</span> <span class="uscript-keyword">New</span><span class="uscript-operator">(</span><span class="uscript-keyword">None</span><span class="uscript-operator">)</span> <span class="uscript-keyword">class</span><span class="uscript-name">'PlayInfo'</span><span class="uscript-operator">;</span>
<span class="uscript-line">00170</span>  
<span class="uscript-line">00171</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>AllGameTypes<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">==</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00172</span>          LoadGameTypes<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00173</span>      GameClass <span class="uscript-operator">=</span> FindGameType<span class="uscript-operator">(</span>DefaultGameType<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00174</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>GameClass <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00175</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00176</span>          log<span class="uscript-operator">(</span>ErrorNoGameType<span class="uscript-operator">$</span>DefaultGameType<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00177</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00178</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00179</span>  
<span class="uscript-line">00180</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>AccessClass <span class="uscript-operator">!=</span> <span class="uscript-string">""</span><span class="uscript-operator">)</span>
<span class="uscript-line">00181</span>          ACClass <span class="uscript-operator">=</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>AccessControl<span class="uscript-operator">&gt;</span><span class="uscript-operator">(</span>DynamicLoadObject<span class="uscript-operator">(</span>AccessClass<span class="uscript-operator">,</span> <span class="uscript-keyword">class</span><span class="uscript-name">'class'</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00182</span>  
<span class="uscript-line">00183</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Level <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span> <span class="uscript-operator">&amp;&amp;</span> Level<span class="uscript-operator">.</span>Game <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span> <span class="uscript-operator">&amp;&amp;</span> Level<span class="uscript-operator">.</span>Game<span class="uscript-operator">.</span>AccessControl <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span> <span class="uscript-operator">&amp;&amp;</span> AccessControlIni<span class="uscript-operator">(</span>Level<span class="uscript-operator">.</span>Game<span class="uscript-operator">.</span>AccessControl<span class="uscript-operator">)</span> <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span> <span class="uscript-operator">&amp;&amp;</span> AccessControlIni<span class="uscript-operator">(</span>Level<span class="uscript-operator">.</span>Game<span class="uscript-operator">.</span>AccessControl<span class="uscript-operator">)</span><span class="uscript-operator">.</span>ConfigSet <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00184</span>          RealConfigSet <span class="uscript-operator">=</span> AccessControlIni<span class="uscript-operator">(</span>Level<span class="uscript-operator">.</span>Game<span class="uscript-operator">.</span>AccessControl<span class="uscript-operator">)</span><span class="uscript-operator">.</span>ConfigSet<span class="uscript-operator">;</span>
<span class="uscript-line">00185</span>  
<span class="uscript-line">00186</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ActiveMutators <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00187</span>          ActiveMutators <span class="uscript-operator">=</span> <span class="uscript-keyword">new</span><span class="uscript-operator">(</span><span class="uscript-keyword">None</span><span class="uscript-operator">)</span> <span class="uscript-keyword">class</span><span class="uscript-name">'SortedStringArray'</span><span class="uscript-operator">;</span>
<span class="uscript-line">00188</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ActiveMaps <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00189</span>          ActiveMaps <span class="uscript-operator">=</span> <span class="uscript-keyword">new</span><span class="uscript-operator">(</span><span class="uscript-keyword">None</span><span class="uscript-operator">)</span> <span class="uscript-keyword">class</span><span class="uscript-name">'StringArray'</span><span class="uscript-operator">;</span>
<span class="uscript-line">00190</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ActiveServerActors <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00191</span>          ActiveServerActors <span class="uscript-operator">=</span> <span class="uscript-keyword">new</span><span class="uscript-operator">(</span><span class="uscript-keyword">None</span><span class="uscript-operator">)</span> <span class="uscript-keyword">class</span><span class="uscript-name">'SortedStringArray'</span><span class="uscript-operator">;</span>
<span class="uscript-line">00192</span>  
<span class="uscript-line">00193</span>      NextMutators <span class="uscript-operator">=</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
<span class="uscript-line">00194</span>      LoadAllMaps<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00195</span>  
<span class="uscript-line">00196</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>GameMutators<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">==</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00197</span>          LoadAllMutators<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00198</span>      LoadAllServerActors<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00199</span>  
<span class="uscript-line">00200</span>      SetUsedMaps<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00201</span>      SetUsedMutators<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00202</span>      SetUsedServerActors<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00203</span>  
<span class="uscript-line">00204</span>      <span class="uscript-comment">// Load Game Setting</span>
<span class="uscript-line">00205</span>      LoadSettings<span class="uscript-operator">(</span>GameClass<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00206</span>      AllMapsPrefix <span class="uscript-operator">=</span> GameClass<span class="uscript-operator">.</span><span class="uscript-keyword">default</span><span class="uscript-operator">.</span>MapPrefix<span class="uscript-operator">;</span>
<span class="uscript-line">00207</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00208</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00209</span>  
<span class="uscript-line">00210</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> EndEdit<span class="uscript-operator">(</span><span class="uscript-type">bool</span> bSave<span class="uscript-operator">,</span> <span class="uscript-keyword">optional</span> <span class="uscript-type">bool</span> bQuiet<span class="uscript-operator">)</span>
<span class="uscript-line">00211</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00212</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Level <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span> <span class="uscript-operator">||</span> <span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">00213</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00214</span>  
<span class="uscript-line">00215</span>      <span class="uscript-comment">// Save all data where it belongs</span>
<span class="uscript-line">00216</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>bSave<span class="uscript-operator">)</span>
<span class="uscript-line">00217</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00218</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bQuiet<span class="uscript-operator">)</span> Log<span class="uscript-operator">(</span><span class="uscript-type">Name</span><span class="uscript-operator">@</span>SavingToFile<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00219</span>  
<span class="uscript-line">00220</span>          SaveUsedMaps<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00221</span>          SaveUsedMutators<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00222</span>          SaveUsedServerActors<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00223</span>          SaveConfig<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00224</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00225</span>  
<span class="uscript-line">00226</span>      bEdit <span class="uscript-operator">=</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00227</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00228</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00229</span>  
<span class="uscript-line">00230</span>  <span class="uscript-keyword">function</span> ReplaceWith<span class="uscript-operator">(</span>ProfileConfigSet SourcePCS<span class="uscript-operator">)</span>
<span class="uscript-line">00231</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00232</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00233</span>  
<span class="uscript-line">00234</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">00235</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00236</span>          log<span class="uscript-operator">(</span><span class="uscript-string">"ReplaceWith()"</span><span class="uscript-operator">@</span>DidNotStartEdit<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00237</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">00238</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00239</span>  
<span class="uscript-line">00240</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>SourcePCS<span class="uscript-operator">.</span>GetGameClass<span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00241</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00242</span>          Wipe<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00243</span>          DefaultGameType <span class="uscript-operator">=</span> <span class="uscript-type">string</span><span class="uscript-operator">(</span>SourcePCS<span class="uscript-operator">.</span>GetGameClass<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00244</span>          GameClass <span class="uscript-operator">=</span> FindGameType<span class="uscript-operator">(</span>DefaultGameType<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00245</span>          AccessClass <span class="uscript-operator">=</span> SourcePCS<span class="uscript-operator">.</span>GetAccessControl<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00246</span>          ACClass <span class="uscript-operator">=</span> SourcePCS<span class="uscript-operator">.</span>GetAccessClass<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00247</span>          AllMapsPrefix <span class="uscript-operator">=</span> GameClass<span class="uscript-operator">.</span><span class="uscript-keyword">default</span><span class="uscript-operator">.</span>MapPrefix<span class="uscript-operator">;</span>
<span class="uscript-line">00248</span>          MaxMaps <span class="uscript-operator">=</span> SourcePCS<span class="uscript-operator">.</span>MaxMaps<span class="uscript-operator">;</span>
<span class="uscript-line">00249</span>  
<span class="uscript-line">00250</span>          AllMaps <span class="uscript-operator">=</span> SourcePCS<span class="uscript-operator">.</span>GetProfileMaps<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00251</span>          AllMutators <span class="uscript-operator">=</span> SourcePCS<span class="uscript-operator">.</span>GetProfileMutators<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00252</span>          AllServerActors <span class="uscript-operator">=</span> SourcePCS<span class="uscript-operator">.</span>GetProfileServerActors<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00253</span>          ProfileMaps <span class="uscript-operator">=</span> SourcePCS<span class="uscript-operator">.</span>GetUsedMaps<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00254</span>          ProfileMutators <span class="uscript-operator">=</span> SourcePCS<span class="uscript-operator">.</span>GetUsedMutators<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00255</span>          ProfileServerActors <span class="uscript-operator">=</span> SourcePCS<span class="uscript-operator">.</span>GetUsedServerActors<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00256</span>          ProfileSettings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> SourcePCS<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00257</span>          <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> i <span class="uscript-operator">&lt;</span> SourcePCS<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00258</span>              SetProfileParam<span class="uscript-operator">(</span>i<span class="uscript-operator">,</span> SourcePCS<span class="uscript-operator">.</span>GetProfileParamName<span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">,</span> SourcePCS<span class="uscript-operator">.</span>GetProfileParam<span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00259</span>  
<span class="uscript-line">00260</span>          LoadSettings<span class="uscript-operator">(</span>GameClass<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00261</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00262</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00263</span>  
<span class="uscript-line">00264</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> CanEdit<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00265</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00266</span>      <span class="uscript-keyword">return</span> <span class="uscript-operator">!</span>bEdit<span class="uscript-operator">;</span>
<span class="uscript-line">00267</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00268</span>  
<span class="uscript-line">00269</span>  <span class="uscript-comment">// This profile was deleted, but PerObjectConfig config values cannot be completely removed from .ini (that I know of)</span>
<span class="uscript-line">00270</span>  <span class="uscript-comment">// We can, however, make the ini entry for this object as small as possible until it is reused.</span>
<span class="uscript-line">00271</span>  <span class="uscript-keyword">final</span> <span class="uscript-keyword">function</span> Wipe<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00272</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00273</span>  <span class="uscript-comment">//log("Wiping Profile"@Name);</span>
<span class="uscript-line">00274</span>      ActiveMaps<span class="uscript-operator">.</span>Reset<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00275</span>      ActiveMutators<span class="uscript-operator">.</span>Reset<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00276</span>  
<span class="uscript-line">00277</span>      MaxMaps <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">00278</span>  
<span class="uscript-line">00279</span>      ProfileMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">00280</span>      AllMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">00281</span>      ProfileMutators<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">00282</span>      AllMutators<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">00283</span>      ProfileServerActors<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">00284</span>      AllServerActors<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">00285</span>      ProfileSettings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">00286</span>      ActiveSettings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">00287</span>  
<span class="uscript-line">00288</span>      DefaultGameType <span class="uscript-operator">=</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
<span class="uscript-line">00289</span>      AccessClass <span class="uscript-operator">=</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
<span class="uscript-line">00290</span>      AllMapsPrefix <span class="uscript-operator">=</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
<span class="uscript-line">00291</span>      NextMutators <span class="uscript-operator">=</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
<span class="uscript-line">00292</span>  
<span class="uscript-line">00293</span>      GameClass <span class="uscript-operator">=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">;</span>
<span class="uscript-line">00294</span>      ACClass <span class="uscript-operator">=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">;</span>
<span class="uscript-line">00295</span>      Maps <span class="uscript-operator">=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">;</span>
<span class="uscript-line">00296</span>  
<span class="uscript-line">00297</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00298</span>  
<span class="uscript-line">00299</span>  <span class="uscript-comment">///////////////////////////////////////////////////////////////////</span>
<span class="uscript-line">00300</span>  <span class="uscript-comment">// Public GameType Information</span>
<span class="uscript-line">00301</span>  <span class="uscript-comment">///////////////////////////////////////////////////////////////////</span>
<span class="uscript-line">00302</span>  
<span class="uscript-line">00303</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> SetGameType<span class="uscript-operator">(</span><span class="uscript-keyword">optional</span> <span class="uscript-type">string</span> NewGameType<span class="uscript-operator">)</span>
<span class="uscript-line">00304</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00305</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">string</span> OldGameType<span class="uscript-operator">;</span>
<span class="uscript-line">00306</span>  
<span class="uscript-line">00307</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">00308</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00309</span>          log<span class="uscript-operator">(</span><span class="uscript-string">"SetGameType()"</span><span class="uscript-operator">@</span>DidNotStartEdit<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00310</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00311</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00312</span>  
<span class="uscript-line">00313</span>      OldGameType <span class="uscript-operator">=</span> DefaultGameType<span class="uscript-operator">;</span>
<span class="uscript-line">00314</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>NewGameType<span class="uscript-operator">==</span><span class="uscript-string">""</span><span class="uscript-operator">)</span>
<span class="uscript-line">00315</span>          NewGameType<span class="uscript-operator">=</span>DefaultGameType<span class="uscript-operator">;</span>
<span class="uscript-line">00316</span>      <span class="uscript-keyword">else</span> DefaultGameType <span class="uscript-operator">=</span> NewGameType<span class="uscript-operator">;</span>
<span class="uscript-line">00317</span>  
<span class="uscript-line">00318</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>AllGameTypes<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">==</span><span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00319</span>          LoadGameTypes<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00320</span>  
<span class="uscript-line">00321</span>      GameClass <span class="uscript-operator">=</span> FindGameType<span class="uscript-operator">(</span>NewGameType<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00322</span>  
<span class="uscript-line">00323</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>GameClass <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span> <span class="uscript-operator">&amp;&amp;</span> <span class="uscript-operator">(</span>NewGameType <span class="uscript-operator">!=</span> OldGameType<span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">00324</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00325</span>          AllMapsPrefix <span class="uscript-operator">=</span> GameClass<span class="uscript-operator">.</span><span class="uscript-keyword">default</span><span class="uscript-operator">.</span>MapPrefix<span class="uscript-operator">;</span>
<span class="uscript-line">00326</span>          ClearUsedMaps<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00327</span>          ClearAllMaps<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00328</span>          ClearProfile<span class="uscript-operator">(</span>ProfileSettings<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00329</span>          LoadSettings<span class="uscript-operator">(</span>GameClass<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00330</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00331</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00332</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00333</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00334</span>  
<span class="uscript-line">00335</span>  <span class="uscript-keyword">function</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>GameInfo<span class="uscript-operator">&gt;</span> GetGameClass<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00336</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00337</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>GameClass <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00338</span>          <span class="uscript-keyword">return</span> GameClass<span class="uscript-operator">;</span>
<span class="uscript-line">00339</span>  
<span class="uscript-line">00340</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">None</span><span class="uscript-operator">;</span>
<span class="uscript-line">00341</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00342</span>  
<span class="uscript-line">00343</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">string</span> GetGameAcronym<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00344</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00345</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>GameClass <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00346</span>          <span class="uscript-keyword">return</span> GameClass<span class="uscript-operator">.</span><span class="uscript-keyword">default</span><span class="uscript-operator">.</span>Acronym<span class="uscript-operator">;</span>
<span class="uscript-line">00347</span>  
<span class="uscript-line">00348</span>      <span class="uscript-keyword">return</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
<span class="uscript-line">00349</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00350</span>  
<span class="uscript-line">00351</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">string</span> GetAccessControl<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00352</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00353</span>      <span class="uscript-keyword">return</span> AccessClass<span class="uscript-operator">;</span>
<span class="uscript-line">00354</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00355</span>  
<span class="uscript-line">00356</span>  <span class="uscript-keyword">function</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>AccessControl<span class="uscript-operator">&gt;</span> GetAccessClass<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00357</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00358</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ACClass <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00359</span>          <span class="uscript-keyword">return</span> ACClass<span class="uscript-operator">;</span>
<span class="uscript-line">00360</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">None</span><span class="uscript-operator">;</span>
<span class="uscript-line">00361</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00362</span>  
<span class="uscript-line">00363</span>  <span class="uscript-comment">/////////////////////////////////////////////////////////////</span>
<span class="uscript-line">00364</span>  <span class="uscript-comment">// Public MapList Functions</span>
<span class="uscript-line">00365</span>  <span class="uscript-comment">/////////////////////////////////////////////////////////////</span>
<span class="uscript-line">00366</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> AddProfileMap<span class="uscript-operator">(</span><span class="uscript-type">string</span> MapMask<span class="uscript-operator">,</span> <span class="uscript-type">bool</span> bRequired<span class="uscript-operator">)</span>
<span class="uscript-line">00367</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00368</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00369</span>      <span class="uscript-keyword">local</span> ProfileMap tmp<span class="uscript-operator">;</span>
<span class="uscript-line">00370</span>  
<span class="uscript-line">00371</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">00372</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00373</span>          log<span class="uscript-operator">(</span><span class="uscript-string">"AddProfileMap()"</span><span class="uscript-operator">@</span>DidNotStartEdit<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00374</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00375</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00376</span>  
<span class="uscript-line">00377</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>AllMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00378</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00379</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>AllMaps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MapName <span class="uscript-operator">~=</span> MapMask<span class="uscript-operator">)</span>
<span class="uscript-line">00380</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00381</span>              AllMaps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>bRequired <span class="uscript-operator">=</span> bRequired<span class="uscript-operator">;</span>
<span class="uscript-line">00382</span>              <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00383</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00384</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00385</span>  
<span class="uscript-line">00386</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>GameMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00387</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00388</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>MapMask <span class="uscript-operator">~=</span> GameMaps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">)</span>
<span class="uscript-line">00389</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00390</span>              tmp<span class="uscript-operator">.</span>MapName <span class="uscript-operator">=</span> GameMaps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">;</span>
<span class="uscript-line">00391</span>              tmp<span class="uscript-operator">.</span>bRequired <span class="uscript-operator">=</span> bRequired<span class="uscript-operator">;</span>
<span class="uscript-line">00392</span>              AllMaps<span class="uscript-operator">[</span>AllMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> tmp<span class="uscript-operator">;</span>
<span class="uscript-line">00393</span>              <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00394</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00395</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00396</span>  
<span class="uscript-line">00397</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00398</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00399</span>  
<span class="uscript-line">00400</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> DelProfileMap<span class="uscript-operator">(</span><span class="uscript-type">string</span> MapName<span class="uscript-operator">)</span>
<span class="uscript-line">00401</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00402</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00403</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">string</span> Str<span class="uscript-operator">;</span>
<span class="uscript-line">00404</span>  
<span class="uscript-line">00405</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">00406</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00407</span>          log<span class="uscript-operator">(</span><span class="uscript-string">"DelProfileMap()"</span><span class="uscript-operator">@</span>DidNotStartEdit<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00408</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00409</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00410</span>  
<span class="uscript-line">00411</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>AllMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00412</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00413</span>          Str <span class="uscript-operator">=</span> AllMaps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MapName<span class="uscript-operator">;</span>
<span class="uscript-line">00414</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Str <span class="uscript-operator">~=</span> MapName<span class="uscript-operator">)</span>
<span class="uscript-line">00415</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00416</span>              AllMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Remove</span><span class="uscript-operator">(</span>i<span class="uscript-operator">,</span> <span class="uscript-number">1</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00417</span>              SetUsedMaps<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00418</span>              <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00419</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00420</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00421</span>  
<span class="uscript-line">00422</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00423</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00424</span>  
<span class="uscript-line">00425</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">string</span> AddMap<span class="uscript-operator">(</span><span class="uscript-type">string</span> MapMask<span class="uscript-operator">,</span> <span class="uscript-type">int</span> Order<span class="uscript-operator">)</span>
<span class="uscript-line">00426</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00427</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">,</span> j<span class="uscript-operator">,</span> k<span class="uscript-operator">;</span>
<span class="uscript-line">00428</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">bool</span> bFound<span class="uscript-operator">;</span>
<span class="uscript-line">00429</span>  
<span class="uscript-line">00430</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">00431</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00432</span>          log<span class="uscript-operator">(</span><span class="uscript-string">"AddMaps()"</span><span class="uscript-operator">@</span>DidNotStartEdit<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00433</span>          <span class="uscript-keyword">return</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
<span class="uscript-line">00434</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00435</span>  
<span class="uscript-line">00436</span>      k <span class="uscript-operator">=</span> ActiveMaps<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00437</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span>AllMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00438</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00439</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>AllMaps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MapName <span class="uscript-operator">~=</span> MapMask<span class="uscript-operator">)</span>
<span class="uscript-line">00440</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00441</span>              <span class="uscript-comment">// Found a matching map, see if its already in the Used Maps list</span>
<span class="uscript-line">00442</span>              bFound <span class="uscript-operator">=</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00443</span>              <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>j <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> j <span class="uscript-operator">&lt;</span> k<span class="uscript-operator">;</span> j<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00444</span>              <span class="uscript-operator">{</span>
<span class="uscript-line">00445</span>                  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ActiveMaps<span class="uscript-operator">.</span>GetTag<span class="uscript-operator">(</span>j<span class="uscript-operator">)</span> <span class="uscript-operator">~=</span> AllMaps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MapName<span class="uscript-operator">)</span>
<span class="uscript-line">00446</span>                  <span class="uscript-operator">{</span>
<span class="uscript-line">00447</span>                      bFound <span class="uscript-operator">=</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00448</span>                      AllMaps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MapListOrder <span class="uscript-operator">=</span> Order<span class="uscript-operator">;</span>
<span class="uscript-line">00449</span>                      <span class="uscript-keyword">break</span><span class="uscript-operator">;</span>
<span class="uscript-line">00450</span>                  <span class="uscript-operator">}</span>
<span class="uscript-line">00451</span>              <span class="uscript-operator">}</span>
<span class="uscript-line">00452</span>  
<span class="uscript-line">00453</span>              <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bFound <span class="uscript-operator">&amp;&amp;</span> <span class="uscript-operator">(</span><span class="uscript-operator">(</span>MaxMaps <span class="uscript-operator">==</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span> <span class="uscript-operator">||</span> <span class="uscript-operator">(</span>k <span class="uscript-operator">&lt;</span> MaxMaps<span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">00454</span>              <span class="uscript-operator">{</span>
<span class="uscript-line">00455</span>                  AllMaps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MapListOrder <span class="uscript-operator">=</span> ActiveMaps<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00456</span>                  ActiveMaps<span class="uscript-operator">.</span>Add<span class="uscript-operator">(</span><span class="uscript-type">string</span><span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">,</span> AllMaps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MapName<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00457</span>                  <span class="uscript-keyword">return</span> AllMaps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MapName<span class="uscript-operator">;</span>
<span class="uscript-line">00458</span>              <span class="uscript-operator">}</span>
<span class="uscript-line">00459</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00460</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00461</span>      <span class="uscript-keyword">return</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
<span class="uscript-line">00462</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00463</span>  
<span class="uscript-line">00464</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">string</span> RemoveMap<span class="uscript-operator">(</span><span class="uscript-type">string</span> MapName<span class="uscript-operator">)</span>
<span class="uscript-line">00465</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00466</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00467</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">string</span> TempStr<span class="uscript-operator">;</span>
<span class="uscript-line">00468</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">00469</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00470</span>          log<span class="uscript-operator">(</span><span class="uscript-string">"RemoveMaps()"</span><span class="uscript-operator">@</span>DidNotStartEdit<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00471</span>          <span class="uscript-keyword">return</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
<span class="uscript-line">00472</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00473</span>  
<span class="uscript-line">00474</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span>ActiveMaps<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00475</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00476</span>          TempStr <span class="uscript-operator">=</span> ActiveMaps<span class="uscript-operator">.</span>GetTag<span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00477</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>TempStr <span class="uscript-operator">~=</span> MapName<span class="uscript-operator">)</span>
<span class="uscript-line">00478</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00479</span>              ActiveMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Remove</span><span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00480</span>              <span class="uscript-keyword">return</span> TempStr<span class="uscript-operator">;</span>
<span class="uscript-line">00481</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00482</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00483</span>      <span class="uscript-keyword">return</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
<span class="uscript-line">00484</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00485</span>  
<span class="uscript-line">00486</span>  <span class="uscript-keyword">function</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> FindMaps<span class="uscript-operator">(</span><span class="uscript-type">string</span> MapMask<span class="uscript-operator">)</span>
<span class="uscript-line">00487</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00488</span>      <span class="uscript-keyword">local</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> FoundMasks<span class="uscript-operator">,</span> FoundMaps<span class="uscript-operator">;</span>
<span class="uscript-line">00489</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">,</span> j<span class="uscript-operator">,</span> k<span class="uscript-operator">;</span>
<span class="uscript-line">00490</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">bool</span> bFound<span class="uscript-operator">;</span>
<span class="uscript-line">00491</span>  
<span class="uscript-line">00492</span>      <span class="uscript-keyword">class</span><span class="uscript-name">'wUtils103.wString'</span><span class="uscript-operator">.</span><span class="uscript-keyword">static</span><span class="uscript-operator">.</span>Split2<span class="uscript-operator">(</span>MapMask<span class="uscript-operator">,</span> <span class="uscript-string">" "</span><span class="uscript-operator">,</span> FoundMasks<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00493</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>FoundMasks<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">&gt;</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00494</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00495</span>          <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span>AllMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00496</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00497</span>              <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>j <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> j<span class="uscript-operator">&lt;</span>FoundMasks<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span> j<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00498</span>              <span class="uscript-operator">{</span>
<span class="uscript-line">00499</span>                  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-keyword">class</span><span class="uscript-name">'wUtils103.wString'</span><span class="uscript-operator">.</span><span class="uscript-keyword">static</span><span class="uscript-operator">.</span>MaskedCompare<span class="uscript-operator">(</span>AllMaps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MapName<span class="uscript-operator">,</span> FoundMasks<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">00500</span>                  <span class="uscript-operator">{</span>
<span class="uscript-line">00501</span>                      <span class="uscript-comment">// Found a matching map, see if its already in the Used Maps list</span>
<span class="uscript-line">00502</span>                      bFound <span class="uscript-operator">=</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00503</span>                      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>k <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> k<span class="uscript-operator">&lt;</span>ActiveMaps<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span> k<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00504</span>                      <span class="uscript-operator">{</span>
<span class="uscript-line">00505</span>                          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ActiveMaps<span class="uscript-operator">.</span>GetTag<span class="uscript-operator">(</span>k<span class="uscript-operator">)</span> <span class="uscript-operator">~=</span> AllMaps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MapName<span class="uscript-operator">)</span>
<span class="uscript-line">00506</span>                          <span class="uscript-operator">{</span>
<span class="uscript-line">00507</span>                              bFound <span class="uscript-operator">=</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00508</span>                              <span class="uscript-keyword">break</span><span class="uscript-operator">;</span>
<span class="uscript-line">00509</span>                          <span class="uscript-operator">}</span>
<span class="uscript-line">00510</span>                      <span class="uscript-operator">}</span>
<span class="uscript-line">00511</span>  
<span class="uscript-line">00512</span>                      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>bFound<span class="uscript-operator">)</span>
<span class="uscript-line">00513</span>                          FoundMaps<span class="uscript-operator">[</span>FoundMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> <span class="uscript-string">"+"</span><span class="uscript-operator">$</span>AllMaps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MapName<span class="uscript-operator">;</span>
<span class="uscript-line">00514</span>                      <span class="uscript-keyword">else</span>
<span class="uscript-line">00515</span>                          FoundMaps<span class="uscript-operator">[</span>FoundMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> AllMaps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MapName<span class="uscript-operator">;</span>
<span class="uscript-line">00516</span>  
<span class="uscript-line">00517</span>                      <span class="uscript-keyword">break</span><span class="uscript-operator">;</span>
<span class="uscript-line">00518</span>                  <span class="uscript-operator">}</span>
<span class="uscript-line">00519</span>              <span class="uscript-operator">}</span>
<span class="uscript-line">00520</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00521</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00522</span>      <span class="uscript-keyword">return</span> FoundMaps<span class="uscript-operator">;</span>
<span class="uscript-line">00523</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00524</span>  
<span class="uscript-line">00525</span>  <span class="uscript-keyword">function</span> MapList GetMaps<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00526</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00527</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Maps<span class="uscript-operator">==</span><span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00528</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00529</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>GameClass<span class="uscript-operator">==</span><span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00530</span>              GameClass<span class="uscript-operator">=</span><span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>GameInfo<span class="uscript-operator">&gt;</span><span class="uscript-operator">(</span>DynamicLoadObject<span class="uscript-operator">(</span>DefaultGameType<span class="uscript-operator">,</span> <span class="uscript-keyword">class</span><span class="uscript-name">'Class'</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00531</span>  
<span class="uscript-line">00532</span>          Maps <span class="uscript-operator">=</span> Level<span class="uscript-operator">.</span>Game<span class="uscript-operator">.</span>GetMapList<span class="uscript-operator">(</span>AllMapsPrefix<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00533</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00534</span>  
<span class="uscript-line">00535</span>      <span class="uscript-keyword">return</span> Maps<span class="uscript-operator">;</span>
<span class="uscript-line">00536</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00537</span>  
<span class="uscript-line">00538</span>  <span class="uscript-keyword">function</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> GetUsedMaps<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00539</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00540</span>      <span class="uscript-keyword">local</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> Strings<span class="uscript-operator">;</span>
<span class="uscript-line">00541</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00542</span>  
<span class="uscript-line">00543</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ActiveMaps <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00544</span>          ActiveMaps <span class="uscript-operator">=</span> <span class="uscript-keyword">new</span><span class="uscript-operator">(</span><span class="uscript-keyword">None</span><span class="uscript-operator">)</span> <span class="uscript-keyword">class</span><span class="uscript-name">'StringArray'</span><span class="uscript-operator">;</span>
<span class="uscript-line">00545</span>  
<span class="uscript-line">00546</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span>ActiveMaps<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00547</span>          Strings<span class="uscript-operator">[</span>Strings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> ActiveMaps<span class="uscript-operator">.</span>GetTag<span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00548</span>  
<span class="uscript-line">00549</span>      <span class="uscript-keyword">return</span> Strings<span class="uscript-operator">;</span>
<span class="uscript-line">00550</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00551</span>  
<span class="uscript-line">00552</span>  <span class="uscript-keyword">function</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> GetUnusedMaps<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00553</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00554</span>      <span class="uscript-keyword">local</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> Strings<span class="uscript-operator">;</span>
<span class="uscript-line">00555</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00556</span>  
<span class="uscript-line">00557</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ActiveMaps <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00558</span>          ActiveMaps <span class="uscript-operator">=</span> <span class="uscript-keyword">new</span><span class="uscript-operator">(</span><span class="uscript-keyword">None</span><span class="uscript-operator">)</span> <span class="uscript-keyword">class</span><span class="uscript-name">'StringArray'</span><span class="uscript-operator">;</span>
<span class="uscript-line">00559</span>  
<span class="uscript-line">00560</span>      Strings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> AllMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>
<span class="uscript-line">00561</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span>AllMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00562</span>          Strings<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span> <span class="uscript-operator">=</span> AllMaps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MapName<span class="uscript-operator">;</span>
<span class="uscript-line">00563</span>  
<span class="uscript-line">00564</span>      <span class="uscript-comment">// Tag all used mutators</span>
<span class="uscript-line">00565</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span>ActiveMaps<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00566</span>          Strings<span class="uscript-operator">[</span><span class="uscript-type">int</span><span class="uscript-operator">(</span>ActiveMaps<span class="uscript-operator">.</span>GetItem<span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
<span class="uscript-line">00567</span>  
<span class="uscript-line">00568</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span>Strings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00569</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00570</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Strings<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span> <span class="uscript-operator">==</span> <span class="uscript-string">""</span><span class="uscript-operator">)</span>
<span class="uscript-line">00571</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00572</span>              Strings<span class="uscript-operator">.</span><span class="uscript-keyword">Remove</span><span class="uscript-operator">(</span>i<span class="uscript-operator">,</span> <span class="uscript-number">1</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00573</span>              i<span class="uscript-operator">--</span><span class="uscript-operator">;</span>
<span class="uscript-line">00574</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00575</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00576</span>      <span class="uscript-keyword">return</span> Strings<span class="uscript-operator">;</span>
<span class="uscript-line">00577</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00578</span>  
<span class="uscript-line">00579</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> MapIsRequired<span class="uscript-operator">(</span><span class="uscript-type">string</span> MapName<span class="uscript-operator">)</span>
<span class="uscript-line">00580</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00581</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00582</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>AllMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00583</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>MapName <span class="uscript-operator">~=</span> AllMaps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MapName <span class="uscript-operator">&amp;&amp;</span> AllMaps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>bRequired<span class="uscript-operator">)</span>
<span class="uscript-line">00584</span>              <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00585</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00586</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00587</span>  
<span class="uscript-line">00588</span>  <span class="uscript-keyword">function</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span>ProfileMap<span class="uscript-operator">&gt;</span> GetProfileMaps<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00589</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00590</span>      <span class="uscript-keyword">return</span> AllMaps<span class="uscript-operator">;</span>
<span class="uscript-line">00591</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00592</span>  
<span class="uscript-line">00593</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">int</span> GetMaxMaps<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00594</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00595</span>      <span class="uscript-keyword">return</span> MaxMaps<span class="uscript-operator">;</span>
<span class="uscript-line">00596</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00597</span>  
<span class="uscript-line">00598</span>  <span class="uscript-comment">/////////////////////////////////////////////////////////////////////</span>
<span class="uscript-line">00599</span>  <span class="uscript-comment">// Public Mutator list functions</span>
<span class="uscript-line">00600</span>  <span class="uscript-comment">/////////////////////////////////////////////////////////////////////</span>
<span class="uscript-line">00601</span>  
<span class="uscript-line">00602</span>  <span class="uscript-keyword">function</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span>ProfileMutator<span class="uscript-operator">&gt;</span> GetProfileMutators<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00603</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00604</span>      <span class="uscript-keyword">return</span> AllMutators<span class="uscript-operator">;</span>
<span class="uscript-line">00605</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00606</span>  
<span class="uscript-line">00607</span>  <span class="uscript-keyword">function</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> GetUsedMutators<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00608</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00609</span>      <span class="uscript-keyword">local</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> Strings<span class="uscript-operator">;</span>
<span class="uscript-line">00610</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00611</span>  
<span class="uscript-line">00612</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ActiveMutators <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00613</span>          ActiveMutators <span class="uscript-operator">=</span> <span class="uscript-keyword">new</span><span class="uscript-operator">(</span><span class="uscript-keyword">None</span><span class="uscript-operator">)</span> <span class="uscript-keyword">class</span><span class="uscript-name">'SortedStringArray'</span><span class="uscript-operator">;</span>
<span class="uscript-line">00614</span>  
<span class="uscript-line">00615</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span>ActiveMutators<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00616</span>          Strings<span class="uscript-operator">[</span>Strings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> ActiveMutators<span class="uscript-operator">.</span>GetTag<span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00617</span>  
<span class="uscript-line">00618</span>      <span class="uscript-keyword">return</span> Strings<span class="uscript-operator">;</span>
<span class="uscript-line">00619</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00620</span>  
<span class="uscript-line">00621</span>  <span class="uscript-keyword">function</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> GetUnusedMutators<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00622</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00623</span>      <span class="uscript-keyword">local</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> Strings<span class="uscript-operator">;</span>
<span class="uscript-line">00624</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00625</span>  
<span class="uscript-line">00626</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ActiveMutators <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00627</span>          ActiveMutators <span class="uscript-operator">=</span> <span class="uscript-keyword">new</span><span class="uscript-operator">(</span><span class="uscript-keyword">None</span><span class="uscript-operator">)</span> <span class="uscript-keyword">class</span><span class="uscript-name">'SortedStringArray'</span><span class="uscript-operator">;</span>
<span class="uscript-line">00628</span>  
<span class="uscript-line">00629</span>      Strings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> AllMutators<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>
<span class="uscript-line">00630</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span>AllMutators<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00631</span>          Strings<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span> <span class="uscript-operator">=</span> AllMutators<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MutatorName<span class="uscript-operator">;</span>
<span class="uscript-line">00632</span>  
<span class="uscript-line">00633</span>      <span class="uscript-comment">// Tag all used mutators</span>
<span class="uscript-line">00634</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span>ActiveMutators<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00635</span>          Strings<span class="uscript-operator">[</span><span class="uscript-type">int</span><span class="uscript-operator">(</span>ActiveMutators<span class="uscript-operator">.</span>GetItem<span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
<span class="uscript-line">00636</span>  
<span class="uscript-line">00637</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span>Strings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00638</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00639</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Strings<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span> <span class="uscript-operator">==</span> <span class="uscript-string">""</span><span class="uscript-operator">)</span>
<span class="uscript-line">00640</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00641</span>              Strings<span class="uscript-operator">.</span><span class="uscript-keyword">Remove</span><span class="uscript-operator">(</span>i<span class="uscript-operator">,</span> <span class="uscript-number">1</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00642</span>              i<span class="uscript-operator">--</span><span class="uscript-operator">;</span>
<span class="uscript-line">00643</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00644</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00645</span>      <span class="uscript-keyword">return</span> Strings<span class="uscript-operator">;</span>
<span class="uscript-line">00646</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00647</span>  
<span class="uscript-line">00648</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> AddMutator<span class="uscript-operator">(</span><span class="uscript-type">string</span> MutatorName<span class="uscript-operator">)</span>
<span class="uscript-line">00649</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00650</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00651</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">string</span> Str<span class="uscript-operator">;</span>
<span class="uscript-line">00652</span>  
<span class="uscript-line">00653</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">00654</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00655</span>          log<span class="uscript-operator">(</span><span class="uscript-string">"AddMutator()"</span><span class="uscript-operator">@</span>DidNotStartEdit<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00656</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00657</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00658</span>  
<span class="uscript-line">00659</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ActiveMutators<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-operator">==</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00660</span>          SetUsedMutators<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00661</span>  
<span class="uscript-line">00662</span>      <span class="uscript-comment">// First make sure it isnt in the list</span>
<span class="uscript-line">00663</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span>ActiveMutators<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00664</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00665</span>          Str <span class="uscript-operator">=</span> ActiveMutators<span class="uscript-operator">.</span>GetTag<span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00666</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Str <span class="uscript-operator">~=</span> MutatorName <span class="uscript-operator">||</span> Right<span class="uscript-operator">(</span>Str<span class="uscript-operator">,</span> Len<span class="uscript-operator">(</span>MutatorName<span class="uscript-operator">)</span> <span class="uscript-operator">+</span> <span class="uscript-number">1</span><span class="uscript-operator">)</span> <span class="uscript-operator">~=</span> <span class="uscript-operator">(</span><span class="uscript-string">"."</span><span class="uscript-operator">$</span>MutatorName<span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">00667</span>              <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00668</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00669</span>  
<span class="uscript-line">00670</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>AllMutators<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00671</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00672</span>          Str <span class="uscript-operator">=</span> AllMutators<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MutatorName<span class="uscript-operator">;</span>
<span class="uscript-line">00673</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Str <span class="uscript-operator">~=</span> MutatorName <span class="uscript-operator">||</span> Right<span class="uscript-operator">(</span>Str<span class="uscript-operator">,</span> Len<span class="uscript-operator">(</span>MutatorName<span class="uscript-operator">)</span> <span class="uscript-operator">+</span> <span class="uscript-number">1</span><span class="uscript-operator">)</span> <span class="uscript-operator">~=</span> <span class="uscript-operator">(</span><span class="uscript-string">"."</span><span class="uscript-operator">$</span>MutatorName<span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">00674</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00675</span>              ActiveMutators<span class="uscript-operator">.</span>Add<span class="uscript-operator">(</span><span class="uscript-type">string</span><span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">,</span> Str<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00676</span>              <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00677</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00678</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00679</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00680</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00681</span>  
<span class="uscript-line">00682</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> DelMutator<span class="uscript-operator">(</span><span class="uscript-type">string</span> MutatorName<span class="uscript-operator">)</span>
<span class="uscript-line">00683</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00684</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00685</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">string</span> Str<span class="uscript-operator">;</span>
<span class="uscript-line">00686</span>  
<span class="uscript-line">00687</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">00688</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00689</span>          log<span class="uscript-operator">(</span><span class="uscript-string">"DelMutator()"</span><span class="uscript-operator">@</span>DidNotStartEdit<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00690</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00691</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00692</span>  
<span class="uscript-line">00693</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>MutIsRequired<span class="uscript-operator">(</span>MutatorName<span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">00694</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00695</span>  
<span class="uscript-line">00696</span>      <span class="uscript-comment">// First make sure it is in the list</span>
<span class="uscript-line">00697</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span>ActiveMutators<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00698</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00699</span>          Str <span class="uscript-operator">=</span> ActiveMutators<span class="uscript-operator">.</span>GetTag<span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00700</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Str <span class="uscript-operator">~=</span> MutatorName <span class="uscript-operator">||</span> Right<span class="uscript-operator">(</span>Str<span class="uscript-operator">,</span> Len<span class="uscript-operator">(</span>MutatorName<span class="uscript-operator">)</span> <span class="uscript-operator">+</span> <span class="uscript-number">1</span><span class="uscript-operator">)</span> <span class="uscript-operator">~=</span> <span class="uscript-operator">(</span><span class="uscript-string">"."</span><span class="uscript-operator">$</span>MutatorName<span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">00701</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00702</span>              ActiveMutators<span class="uscript-operator">.</span><span class="uscript-keyword">Remove</span><span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00703</span>              <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00704</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00705</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00706</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00707</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00708</span>  
<span class="uscript-line">00709</span>  <span class="uscript-comment">// Add mutator to list of possible mutators</span>
<span class="uscript-line">00710</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> AddProfileMutator<span class="uscript-operator">(</span><span class="uscript-type">string</span> MutatorName<span class="uscript-operator">,</span> <span class="uscript-type">bool</span> bRequired<span class="uscript-operator">)</span>
<span class="uscript-line">00711</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00712</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">,</span>j<span class="uscript-operator">;</span>
<span class="uscript-line">00713</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">string</span> Str<span class="uscript-operator">;</span>
<span class="uscript-line">00714</span>      <span class="uscript-keyword">local</span> ProfileMutator tmp<span class="uscript-operator">;</span>
<span class="uscript-line">00715</span>  
<span class="uscript-line">00716</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">00717</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00718</span>          log<span class="uscript-operator">(</span><span class="uscript-string">"AddProfileMutator()"</span><span class="uscript-operator">@</span>DidNotStartEdit<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00719</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00720</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00721</span>  
<span class="uscript-line">00722</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>AllMutators<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00723</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00724</span>          Str <span class="uscript-operator">=</span> AllMutators<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MutatorName<span class="uscript-operator">;</span>
<span class="uscript-line">00725</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Str <span class="uscript-operator">~=</span> MutatorName <span class="uscript-operator">||</span> Right<span class="uscript-operator">(</span>Str<span class="uscript-operator">,</span> Len<span class="uscript-operator">(</span>MutatorName<span class="uscript-operator">)</span> <span class="uscript-operator">+</span> <span class="uscript-number">1</span><span class="uscript-operator">)</span> <span class="uscript-operator">~=</span> <span class="uscript-operator">(</span><span class="uscript-string">"."</span><span class="uscript-operator">$</span>MutatorName<span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">00726</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00727</span>              AllMutators<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>bRequired <span class="uscript-operator">=</span> bRequired<span class="uscript-operator">;</span>
<span class="uscript-line">00728</span>              <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00729</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00730</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00731</span>  
<span class="uscript-line">00732</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>j<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>j<span class="uscript-operator">&lt;</span>GameMutators<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>j<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00733</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00734</span>          Str <span class="uscript-operator">=</span> GameMutators<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">.</span>ClassName<span class="uscript-operator">;</span>
<span class="uscript-line">00735</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Str <span class="uscript-operator">~=</span> MutatorName <span class="uscript-operator">||</span> Right<span class="uscript-operator">(</span>Str<span class="uscript-operator">,</span> Len<span class="uscript-operator">(</span>MutatorName<span class="uscript-operator">)</span> <span class="uscript-operator">+</span> <span class="uscript-number">1</span><span class="uscript-operator">)</span> <span class="uscript-operator">~=</span> <span class="uscript-operator">(</span><span class="uscript-string">"."</span><span class="uscript-operator">$</span>MutatorName<span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">00736</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00737</span>              tmp<span class="uscript-operator">.</span>MutatorName <span class="uscript-operator">=</span> Str<span class="uscript-operator">;</span>
<span class="uscript-line">00738</span>              tmp<span class="uscript-operator">.</span>bRequired <span class="uscript-operator">=</span> bRequired<span class="uscript-operator">;</span>
<span class="uscript-line">00739</span>              AllMutators<span class="uscript-operator">[</span>AllMutators<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> tmp<span class="uscript-operator">;</span>
<span class="uscript-line">00740</span>              <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00741</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00742</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00743</span>  
<span class="uscript-line">00744</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00745</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00746</span>  
<span class="uscript-line">00747</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> DelProfileMutator<span class="uscript-operator">(</span><span class="uscript-type">string</span> MutatorName<span class="uscript-operator">)</span>
<span class="uscript-line">00748</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00749</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00750</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">string</span> Str<span class="uscript-operator">;</span>
<span class="uscript-line">00751</span>  
<span class="uscript-line">00752</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">00753</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00754</span>          log<span class="uscript-operator">(</span><span class="uscript-string">"DelProfileMutator()"</span><span class="uscript-operator">@</span>DidNotStartEdit<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00755</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00756</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00757</span>  
<span class="uscript-line">00758</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>AllMutators<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00759</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00760</span>          Str <span class="uscript-operator">=</span> AllMutators<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MutatorName<span class="uscript-operator">;</span>
<span class="uscript-line">00761</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Str <span class="uscript-operator">~=</span> MutatorName <span class="uscript-operator">||</span> Right<span class="uscript-operator">(</span>Str<span class="uscript-operator">,</span> Len<span class="uscript-operator">(</span>MutatorName<span class="uscript-operator">)</span><span class="uscript-operator">+</span><span class="uscript-number">1</span><span class="uscript-operator">)</span> <span class="uscript-operator">~=</span> <span class="uscript-operator">(</span><span class="uscript-string">"."</span><span class="uscript-operator">$</span>MutatorName<span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">00762</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00763</span>              AllMutators<span class="uscript-operator">.</span><span class="uscript-keyword">Remove</span><span class="uscript-operator">(</span>i<span class="uscript-operator">,</span> <span class="uscript-number">1</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00764</span>              SetUsedMutators<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00765</span>              <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00766</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00767</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00768</span>  
<span class="uscript-line">00769</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00770</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00771</span>  
<span class="uscript-line">00772</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> MutIsRequired<span class="uscript-operator">(</span><span class="uscript-type">string</span> MutatorName<span class="uscript-operator">)</span>
<span class="uscript-line">00773</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00774</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00775</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>AllMutators<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00776</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>MutatorName <span class="uscript-operator">~=</span> AllMutators<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MutatorName <span class="uscript-operator">&amp;&amp;</span> AllMutators<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>bRequired<span class="uscript-operator">)</span>
<span class="uscript-line">00777</span>              <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00778</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00779</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00780</span>  
<span class="uscript-line">00781</span>  <span class="uscript-comment">//////////////////////////////////</span>
<span class="uscript-line">00782</span>  <span class="uscript-comment">// Public ServerActor Functions</span>
<span class="uscript-line">00783</span>  <span class="uscript-comment">//////////////////////////////////</span>
<span class="uscript-line">00784</span>  
<span class="uscript-line">00785</span>  <span class="uscript-keyword">function</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span>ProfileSA<span class="uscript-operator">&gt;</span> GetProfileServerActors<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00786</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00787</span>      <span class="uscript-keyword">return</span> AllServerActors<span class="uscript-operator">;</span>
<span class="uscript-line">00788</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00789</span>  
<span class="uscript-line">00790</span>  <span class="uscript-keyword">function</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> GetUsedServerActors<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00791</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00792</span>      <span class="uscript-keyword">local</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> Strings<span class="uscript-operator">;</span>
<span class="uscript-line">00793</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00794</span>  
<span class="uscript-line">00795</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ActiveServerActors <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00796</span>          ActiveServerActors <span class="uscript-operator">=</span> <span class="uscript-keyword">new</span><span class="uscript-operator">(</span><span class="uscript-keyword">None</span><span class="uscript-operator">)</span> <span class="uscript-keyword">class</span><span class="uscript-name">'SortedStringArray'</span><span class="uscript-operator">;</span>
<span class="uscript-line">00797</span>  
<span class="uscript-line">00798</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span>ActiveServerActors<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00799</span>          Strings<span class="uscript-operator">[</span>Strings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> ActiveServerActors<span class="uscript-operator">.</span>GetTag<span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00800</span>  
<span class="uscript-line">00801</span>      <span class="uscript-keyword">return</span> Strings<span class="uscript-operator">;</span>
<span class="uscript-line">00802</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00803</span>  
<span class="uscript-line">00804</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> AddProfileServerActor<span class="uscript-operator">(</span><span class="uscript-type">string</span> ActorName<span class="uscript-operator">,</span> <span class="uscript-type">bool</span> bRequired<span class="uscript-operator">)</span>
<span class="uscript-line">00805</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00806</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00807</span>      <span class="uscript-keyword">local</span> ProfileSA tmp<span class="uscript-operator">;</span>
<span class="uscript-line">00808</span>  
<span class="uscript-line">00809</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">00810</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00811</span>          log<span class="uscript-operator">(</span><span class="uscript-string">"AddProfileServerActor()"</span><span class="uscript-operator">@</span>DidNotStartEdit<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00812</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00813</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00814</span>  
<span class="uscript-line">00815</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>AllServerActors<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00816</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00817</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>AllServerActors<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>ActorClass <span class="uscript-operator">~=</span> ActorName<span class="uscript-operator">)</span>
<span class="uscript-line">00818</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00819</span>              AllServerActors<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>bRequired <span class="uscript-operator">=</span> bRequired<span class="uscript-operator">;</span>
<span class="uscript-line">00820</span>              <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00821</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00822</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00823</span>  
<span class="uscript-line">00824</span>      tmp<span class="uscript-operator">.</span>ActorClass <span class="uscript-operator">=</span> ActorName<span class="uscript-operator">;</span>
<span class="uscript-line">00825</span>      tmp<span class="uscript-operator">.</span>bRequired <span class="uscript-operator">=</span> bRequired<span class="uscript-operator">;</span>
<span class="uscript-line">00826</span>      AllServerActors<span class="uscript-operator">[</span>AllServerActors<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> tmp<span class="uscript-operator">;</span>
<span class="uscript-line">00827</span>      SetUsedServerActors<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00828</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00829</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00830</span>  
<span class="uscript-line">00831</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> AddServerActor<span class="uscript-operator">(</span><span class="uscript-type">string</span> ActorName<span class="uscript-operator">)</span>
<span class="uscript-line">00832</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00833</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00834</span>  
<span class="uscript-line">00835</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">00836</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00837</span>          log<span class="uscript-operator">(</span><span class="uscript-string">"AddServerActor()"</span><span class="uscript-operator">@</span>DidNotStartEdit<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00838</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00839</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00840</span>  
<span class="uscript-line">00841</span>      <span class="uscript-comment">// Check for already exists</span>
<span class="uscript-line">00842</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>ProfileServerActors<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00843</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00844</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ProfileServerActors<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span> <span class="uscript-operator">~=</span> ActorName<span class="uscript-operator">)</span>
<span class="uscript-line">00845</span>              <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00846</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00847</span>  
<span class="uscript-line">00848</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>AllServerActors<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00849</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00850</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>AllServerActors<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>ActorClass <span class="uscript-operator">~=</span> ActorName<span class="uscript-operator">)</span>
<span class="uscript-line">00851</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00852</span>              ProfileServerActors<span class="uscript-operator">[</span>ProfileServerActors<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> ActorName<span class="uscript-operator">;</span>
<span class="uscript-line">00853</span>              SetUsedServerActors<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00854</span>              <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00855</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00856</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00857</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00858</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00859</span>  
<span class="uscript-line">00860</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> DelProfileServerActor<span class="uscript-operator">(</span><span class="uscript-type">string</span> ActorName<span class="uscript-operator">)</span>
<span class="uscript-line">00861</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00862</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00863</span>  
<span class="uscript-line">00864</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">00865</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00866</span>          log<span class="uscript-operator">(</span><span class="uscript-string">"DelProfileServerActor()"</span><span class="uscript-operator">@</span>DidNotStartEdit<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00867</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00868</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00869</span>  
<span class="uscript-line">00870</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>AllServerActors<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00871</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00872</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>AllServerActors<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>ActorClass <span class="uscript-operator">~=</span> ActorName<span class="uscript-operator">)</span>
<span class="uscript-line">00873</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00874</span>              AllServerActors<span class="uscript-operator">.</span><span class="uscript-keyword">Remove</span><span class="uscript-operator">(</span>i<span class="uscript-operator">,</span><span class="uscript-number">1</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00875</span>              SetUsedServerActors<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00876</span>              <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00877</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00878</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00879</span>  
<span class="uscript-line">00880</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00881</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00882</span>  
<span class="uscript-line">00883</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> DelServerActor<span class="uscript-operator">(</span><span class="uscript-type">string</span> ActorName<span class="uscript-operator">)</span>
<span class="uscript-line">00884</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00885</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00886</span>  
<span class="uscript-line">00887</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">00888</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00889</span>          log<span class="uscript-operator">(</span><span class="uscript-string">"DelServerActor()"</span><span class="uscript-operator">@</span>DidNotStartEdit<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00890</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00891</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00892</span>  
<span class="uscript-line">00893</span>      i <span class="uscript-operator">=</span> ActiveServerActors<span class="uscript-operator">.</span>FindTagId<span class="uscript-operator">(</span>ActorName<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00894</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">&gt;=</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00895</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00896</span>          ActiveServerActors<span class="uscript-operator">.</span><span class="uscript-keyword">Remove</span><span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00897</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00898</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00899</span>  
<span class="uscript-line">00900</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00901</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00902</span>  
<span class="uscript-line">00903</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> ServerActorIsRequired<span class="uscript-operator">(</span><span class="uscript-type">string</span> ActorName<span class="uscript-operator">)</span>
<span class="uscript-line">00904</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00905</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00906</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>AllServerActors<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00907</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ActorName <span class="uscript-operator">~=</span> AllServerActors<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>ActorClass<span class="uscript-operator">)</span>
<span class="uscript-line">00908</span>              <span class="uscript-keyword">return</span> AllServerActors<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>bRequired<span class="uscript-operator">;</span>
<span class="uscript-line">00909</span>  
<span class="uscript-line">00910</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00911</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00912</span>  
<span class="uscript-line">00913</span>  
<span class="uscript-line">00914</span>  <span class="uscript-comment">////////////////////////////////</span>
<span class="uscript-line">00915</span>  <span class="uscript-comment">// Protected Helping functions</span>
<span class="uscript-line">00916</span>  <span class="uscript-comment">////////////////////////////////</span>
<span class="uscript-line">00917</span>  
<span class="uscript-line">00918</span>  <span class="uscript-comment">// Always reload settings at StartEdit()</span>
<span class="uscript-line">00919</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> <span class="uscript-type">string</span> LoadSettings<span class="uscript-operator">(</span><span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>GameInfo<span class="uscript-operator">&gt;</span> GameClass<span class="uscript-operator">)</span>
<span class="uscript-line">00920</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00921</span>      <span class="uscript-keyword">local</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>Mutator<span class="uscript-operator">&gt;</span> MutClass<span class="uscript-operator">;</span>
<span class="uscript-line">00922</span>      <span class="uscript-keyword">local</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>Info<span class="uscript-operator">&gt;</span>   SAClass<span class="uscript-operator">;</span>
<span class="uscript-line">00923</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">,</span>j<span class="uscript-operator">;</span>
<span class="uscript-line">00924</span>  
<span class="uscript-line">00925</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">00926</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00927</span>          log<span class="uscript-operator">(</span><span class="uscript-string">"LoadSettings()"</span><span class="uscript-operator">@</span>DidNotStartEdit<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00928</span>          <span class="uscript-keyword">return</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
<span class="uscript-line">00929</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00930</span>  
<span class="uscript-line">00931</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>PInfo <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00932</span>          PInfo <span class="uscript-operator">=</span> <span class="uscript-keyword">new</span><span class="uscript-operator">(</span><span class="uscript-keyword">None</span><span class="uscript-operator">)</span> <span class="uscript-keyword">class</span><span class="uscript-name">'PlayInfo'</span><span class="uscript-operator">;</span>
<span class="uscript-line">00933</span>  
<span class="uscript-line">00934</span>      PInfo<span class="uscript-operator">.</span>Clear<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00935</span>  
<span class="uscript-line">00936</span>      <span class="uscript-comment">// Unhook GameInfo.FillPlayInfo()'s hook to BaseMutator.FillPlayInfo()</span>
<span class="uscript-line">00937</span>      <span class="uscript-comment">// Otherwise, we end up with mutator playinfo that we may not want</span>
<span class="uscript-line">00938</span>      GameClass<span class="uscript-operator">.</span><span class="uscript-keyword">static</span><span class="uscript-operator">.</span>FillPlayInfo<span class="uscript-operator">(</span>PInfo<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00939</span>      PInfo<span class="uscript-operator">.</span>PopClass<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00940</span>  
<span class="uscript-line">00941</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ACClass <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span> <span class="uscript-operator">&amp;&amp;</span> AccessClass <span class="uscript-operator">!=</span> <span class="uscript-string">""</span><span class="uscript-operator">)</span>
<span class="uscript-line">00942</span>          ACClass <span class="uscript-operator">=</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>AccessControl<span class="uscript-operator">&gt;</span><span class="uscript-operator">(</span>DynamicLoadObject<span class="uscript-operator">(</span>AccessClass<span class="uscript-operator">,</span><span class="uscript-keyword">class</span><span class="uscript-name">'Class'</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00943</span>  
<span class="uscript-line">00944</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ACClass<span class="uscript-operator">!=</span><span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00945</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00946</span>          ACClass<span class="uscript-operator">.</span><span class="uscript-keyword">static</span><span class="uscript-operator">.</span>FillPlayInfo<span class="uscript-operator">(</span>PInfo<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00947</span>          PInfo<span class="uscript-operator">.</span>PopClass<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00948</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00949</span>  
<span class="uscript-line">00950</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>GameClass<span class="uscript-operator">.</span><span class="uscript-keyword">default</span><span class="uscript-operator">.</span>MutatorClass <span class="uscript-operator">!=</span> <span class="uscript-string">""</span><span class="uscript-operator">)</span>
<span class="uscript-line">00951</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00952</span>          MutClass <span class="uscript-operator">=</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>Mutator<span class="uscript-operator">&gt;</span><span class="uscript-operator">(</span>DynamicLoadObject<span class="uscript-operator">(</span>GameClass<span class="uscript-operator">.</span><span class="uscript-keyword">default</span><span class="uscript-operator">.</span>MutatorClass<span class="uscript-operator">,</span><span class="uscript-keyword">class</span><span class="uscript-name">'Class'</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00953</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>MutClass <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00954</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00955</span>              MutClass<span class="uscript-operator">.</span><span class="uscript-keyword">static</span><span class="uscript-operator">.</span>FillPlayInfo<span class="uscript-operator">(</span>PInfo<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00956</span>              PInfo<span class="uscript-operator">.</span>PopClass<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00957</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00958</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00959</span>  
<span class="uscript-line">00960</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ActiveMutators<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-operator">==</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00961</span>          SetUsedMutators<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00962</span>  
<span class="uscript-line">00963</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ActiveServerActors<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-operator">==</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00964</span>          SetUsedServerActors<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00965</span>  
<span class="uscript-line">00966</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>ActiveMutators<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00967</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00968</span>          MutClass<span class="uscript-operator">=</span><span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>Mutator<span class="uscript-operator">&gt;</span><span class="uscript-operator">(</span>DynamicLoadObject<span class="uscript-operator">(</span>AllMutators<span class="uscript-operator">[</span><span class="uscript-type">int</span><span class="uscript-operator">(</span>ActiveMutators<span class="uscript-operator">.</span>GetItem<span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">]</span><span class="uscript-operator">.</span>MutatorName<span class="uscript-operator">,</span><span class="uscript-keyword">class</span><span class="uscript-name">'class'</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00969</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>MutClass<span class="uscript-operator">!=</span><span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00970</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00971</span>              MutClass<span class="uscript-operator">.</span><span class="uscript-keyword">static</span><span class="uscript-operator">.</span>FillPlayInfo<span class="uscript-operator">(</span>PInfo<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00972</span>              PInfo<span class="uscript-operator">.</span>PopClass<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00973</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00974</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00975</span>  
<span class="uscript-line">00976</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>ActiveServerActors<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00977</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00978</span>          j <span class="uscript-operator">=</span> <span class="uscript-type">int</span><span class="uscript-operator">(</span>ActiveServerActors<span class="uscript-operator">.</span>GetItem<span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00979</span>          SAClass <span class="uscript-operator">=</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>Info<span class="uscript-operator">&gt;</span><span class="uscript-operator">(</span>DynamicLoadObject<span class="uscript-operator">(</span>AllServerActors<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">.</span>ActorClass<span class="uscript-operator">,</span><span class="uscript-keyword">class</span><span class="uscript-name">'Class'</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00980</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>SAClass <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00981</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00982</span>              SAClass<span class="uscript-operator">.</span><span class="uscript-keyword">static</span><span class="uscript-operator">.</span>FillPlayInfo<span class="uscript-operator">(</span>PInfo<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00983</span>              PInfo<span class="uscript-operator">.</span>PopClass<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00984</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00985</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00986</span>  
<span class="uscript-line">00987</span>      <span class="uscript-comment">// Create active profile array</span>
<span class="uscript-line">00988</span>      InitializeProfile<span class="uscript-operator">(</span>ActiveSettings<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00989</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ProfileSettings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">&gt;</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00990</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00991</span>          ActiveSettings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> ProfileSettings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>
<span class="uscript-line">00992</span>          <span class="uscript-comment">// Then retrieve all stored values from saved profile</span>
<span class="uscript-line">00993</span>          <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>ProfileSettings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00994</span>              ActiveSettings<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span> <span class="uscript-operator">=</span> ProfileSettings<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">;</span>
<span class="uscript-line">00995</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00996</span>      <span class="uscript-keyword">else</span> <span class="uscript-comment">// Copy active profile to saved profile.</span>
<span class="uscript-line">00997</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00998</span>          ProfileSettings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> ActiveSettings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>
<span class="uscript-line">00999</span>          <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>ActiveSettings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01000</span>              SetProfileParam<span class="uscript-operator">(</span>i<span class="uscript-operator">,</span>ActiveSettings<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>SettingName<span class="uscript-operator">,</span>ActiveSettings<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>SettingValue<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01001</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">01002</span>  
<span class="uscript-line">01003</span>      <span class="uscript-keyword">return</span> <span class="uscript-type">string</span><span class="uscript-operator">(</span>GameClass<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01004</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01005</span>  
<span class="uscript-line">01006</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> LoadGameTypes<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">01007</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01008</span>      <span class="uscript-keyword">local</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>GameInfo<span class="uscript-operator">&gt;</span>   TempClass<span class="uscript-operator">;</span>
<span class="uscript-line">01009</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">String</span>            NextGame<span class="uscript-operator">;</span>
<span class="uscript-line">01010</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span>               i<span class="uscript-operator">;</span>
<span class="uscript-line">01011</span>  
<span class="uscript-line">01012</span>      <span class="uscript-comment">// Compile a list of all gametypes.</span>
<span class="uscript-line">01013</span>      i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">01014</span>      NextGame <span class="uscript-operator">=</span> Level<span class="uscript-operator">.</span>GetNextInt<span class="uscript-operator">(</span><span class="uscript-string">"Engine.GameInfo"</span><span class="uscript-operator">,</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01015</span>      AllGameTypes<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">01016</span>      <span class="uscript-keyword">while</span> <span class="uscript-operator">(</span>NextGame <span class="uscript-operator">!=</span> <span class="uscript-string">""</span><span class="uscript-operator">)</span>
<span class="uscript-line">01017</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">01018</span>          TempClass <span class="uscript-operator">=</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>GameInfo<span class="uscript-operator">&gt;</span><span class="uscript-operator">(</span>DynamicLoadObject<span class="uscript-operator">(</span>NextGame<span class="uscript-operator">,</span> <span class="uscript-keyword">class</span><span class="uscript-name">'Class'</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01019</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>TempClass <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">01020</span>              AllGameTypes<span class="uscript-operator">[</span>AllGameTypes<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> TempClass<span class="uscript-operator">;</span>
<span class="uscript-line">01021</span>  
<span class="uscript-line">01022</span>          NextGame <span class="uscript-operator">=</span> Level<span class="uscript-operator">.</span>GetNextInt<span class="uscript-operator">(</span><span class="uscript-string">"Engine.GameInfo"</span><span class="uscript-operator">,</span> <span class="uscript-operator">++</span>i<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01023</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">01024</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01025</span>  
<span class="uscript-line">01026</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>GameInfo<span class="uscript-operator">&gt;</span> FindGameType<span class="uscript-operator">(</span><span class="uscript-type">string</span> GameType<span class="uscript-operator">)</span>
<span class="uscript-line">01027</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01028</span>      <span class="uscript-keyword">local</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>GameInfo<span class="uscript-operator">&gt;</span> TempClass<span class="uscript-operator">;</span>
<span class="uscript-line">01029</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">01030</span>  
<span class="uscript-line">01031</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>AllGameTypes<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">==</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">01032</span>          LoadGameTypes<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01033</span>      TempClass <span class="uscript-operator">=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">;</span>
<span class="uscript-line">01034</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span>AllGameTypes<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01035</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">01036</span>          TempClass <span class="uscript-operator">=</span> AllGameTypes<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">;</span>
<span class="uscript-line">01037</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>GameType <span class="uscript-operator">~=</span> <span class="uscript-type">string</span><span class="uscript-operator">(</span>TempClass<span class="uscript-operator">)</span><span class="uscript-operator">)</span>              <span class="uscript-keyword">break</span><span class="uscript-operator">;</span>
<span class="uscript-line">01038</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>GameType <span class="uscript-operator">~=</span> TempClass<span class="uscript-operator">.</span><span class="uscript-keyword">default</span><span class="uscript-operator">.</span>Acronym<span class="uscript-operator">)</span>      <span class="uscript-keyword">break</span><span class="uscript-operator">;</span>
<span class="uscript-line">01039</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>GameType <span class="uscript-operator">~=</span> TempClass<span class="uscript-operator">.</span><span class="uscript-keyword">default</span><span class="uscript-operator">.</span>DecoTextName<span class="uscript-operator">)</span> <span class="uscript-keyword">break</span><span class="uscript-operator">;</span>
<span class="uscript-line">01040</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Right<span class="uscript-operator">(</span><span class="uscript-type">string</span><span class="uscript-operator">(</span>TempClass<span class="uscript-operator">)</span><span class="uscript-operator">,</span> Len<span class="uscript-operator">(</span>GameType<span class="uscript-operator">)</span><span class="uscript-operator">+</span><span class="uscript-number">1</span><span class="uscript-operator">)</span> <span class="uscript-operator">~=</span> <span class="uscript-operator">(</span><span class="uscript-string">"."</span><span class="uscript-operator">$</span>GameType<span class="uscript-operator">)</span><span class="uscript-operator">)</span>            <span class="uscript-keyword">break</span><span class="uscript-operator">;</span>
<span class="uscript-line">01041</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Right<span class="uscript-operator">(</span>TempClass<span class="uscript-operator">.</span><span class="uscript-keyword">default</span><span class="uscript-operator">.</span>DecoTextName<span class="uscript-operator">,</span> Len<span class="uscript-operator">(</span>GameType<span class="uscript-operator">)</span><span class="uscript-operator">+</span><span class="uscript-number">1</span><span class="uscript-operator">)</span> <span class="uscript-operator">~=</span> <span class="uscript-operator">(</span><span class="uscript-string">"."</span><span class="uscript-operator">$</span>GameType<span class="uscript-operator">)</span><span class="uscript-operator">)</span>   <span class="uscript-keyword">break</span><span class="uscript-operator">;</span>
<span class="uscript-line">01042</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">01043</span>      <span class="uscript-keyword">return</span> TempClass<span class="uscript-operator">;</span>
<span class="uscript-line">01044</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01045</span>  
<span class="uscript-line">01046</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> LoadAllMaps<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">01047</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01048</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>GameClass<span class="uscript-operator">==</span><span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">01049</span>          GameClass <span class="uscript-operator">=</span> FindGameType<span class="uscript-operator">(</span>DefaultGameType<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01050</span>  
<span class="uscript-line">01051</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>GameClass <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">01052</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">01053</span>  
<span class="uscript-line">01054</span>      GameMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">01055</span>      GameClass<span class="uscript-operator">.</span><span class="uscript-keyword">static</span><span class="uscript-operator">.</span>LoadMapList<span class="uscript-operator">(</span>GameClass<span class="uscript-operator">.</span><span class="uscript-keyword">default</span><span class="uscript-operator">.</span>MapPrefix<span class="uscript-operator">,</span> GameMaps<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01056</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01057</span>  
<span class="uscript-line">01058</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> LoadAllMutators<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">01059</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01060</span>      <span class="uscript-keyword">class</span><span class="uscript-name">'xUtil'</span><span class="uscript-operator">.</span><span class="uscript-keyword">static</span><span class="uscript-operator">.</span>GetMutatorList<span class="uscript-operator">(</span>GameMutators<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01061</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01062</span>  
<span class="uscript-line">01063</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> LoadAllServerActors<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">01064</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01065</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">01066</span>      <span class="uscript-keyword">local</span> ConfigMaster ConfigM<span class="uscript-operator">;</span>
<span class="uscript-line">01067</span>  
<span class="uscript-line">01068</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Level <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span> <span class="uscript-operator">&amp;&amp;</span> Level<span class="uscript-operator">.</span>Game <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span> <span class="uscript-operator">&amp;&amp;</span> Level<span class="uscript-operator">.</span>Game<span class="uscript-operator">.</span>BaseMutator <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span> <span class="uscript-operator">&amp;&amp;</span> ConfigMaster<span class="uscript-operator">(</span>Level<span class="uscript-operator">.</span>Game<span class="uscript-operator">.</span>BaseMutator<span class="uscript-operator">.</span>NextMutator<span class="uscript-operator">)</span> <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">01069</span>          ConfigM <span class="uscript-operator">=</span> ConfigMaster<span class="uscript-operator">(</span>Level<span class="uscript-operator">.</span>Game<span class="uscript-operator">.</span>BaseMutator<span class="uscript-operator">.</span>NextMutator<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01070</span>      <span class="uscript-keyword">else</span> <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">01071</span>  
<span class="uscript-line">01072</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>ConfigM<span class="uscript-operator">.</span>ManagedActors<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01073</span>          GameServerActors<span class="uscript-operator">[</span>GameServerActors<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> <span class="uscript-type">string</span><span class="uscript-operator">(</span>ConfigM<span class="uscript-operator">.</span>ManagedActors<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>SAClass<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01074</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01075</span>  
<span class="uscript-line">01076</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> MapIsValid<span class="uscript-operator">(</span><span class="uscript-type">string</span> MapName<span class="uscript-operator">)</span>
<span class="uscript-line">01077</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01078</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">string</span> Prefix<span class="uscript-operator">,</span> ShortName<span class="uscript-operator">;</span>
<span class="uscript-line">01079</span>  
<span class="uscript-line">01080</span>      Divide<span class="uscript-operator">(</span>MapName<span class="uscript-operator">,</span><span class="uscript-string">"-"</span><span class="uscript-operator">,</span>Prefix<span class="uscript-operator">,</span>ShortName<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01081</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Prefix <span class="uscript-operator">~=</span> AllMapsPrefix<span class="uscript-operator">)</span>
<span class="uscript-line">01082</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">01083</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">01084</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01085</span>  
<span class="uscript-line">01086</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> <span class="uscript-type">string</span> GetMutatorGroup<span class="uscript-operator">(</span><span class="uscript-type">string</span> MutName<span class="uscript-operator">)</span>
<span class="uscript-line">01087</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01088</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">01089</span>  
<span class="uscript-line">01090</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>GameMutators<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">==</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">01091</span>          LoadAllMutators<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01092</span>  
<span class="uscript-line">01093</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>GameMutators<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01094</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>GameMutators<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>ClassName <span class="uscript-operator">~=</span> MutName<span class="uscript-operator">)</span>
<span class="uscript-line">01095</span>              <span class="uscript-keyword">return</span> GameMutators<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>GroupName<span class="uscript-operator">;</span>
<span class="uscript-line">01096</span>  
<span class="uscript-line">01097</span>      <span class="uscript-keyword">return</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
<span class="uscript-line">01098</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01099</span>  
<span class="uscript-line">01100</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> SetUsedMaps<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">01101</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01102</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">,</span>j<span class="uscript-operator">;</span>
<span class="uscript-line">01103</span>  
<span class="uscript-line">01104</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">01105</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">01106</span>          log<span class="uscript-operator">(</span><span class="uscript-string">"SetUsedMaps()"</span><span class="uscript-operator">@</span>DidNotStartEdit<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01107</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">01108</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">01109</span>  
<span class="uscript-line">01110</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>AllMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">==</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">01111</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">01112</span>  
<span class="uscript-line">01113</span>      ActiveMaps<span class="uscript-operator">.</span>Reset<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01114</span>  
<span class="uscript-line">01115</span>      <span class="uscript-comment">// Add required maps first, up to MaxMaps count</span>
<span class="uscript-line">01116</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>AllMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01117</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">01118</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>MaxMaps <span class="uscript-operator">&gt;</span> <span class="uscript-number">0</span> <span class="uscript-operator">&amp;&amp;</span> ActiveMaps<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-operator">&gt;=</span> MaxMaps<span class="uscript-operator">)</span>
<span class="uscript-line">01119</span>              <span class="uscript-keyword">break</span><span class="uscript-operator">;</span>
<span class="uscript-line">01120</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>AllMaps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>bRequired<span class="uscript-operator">)</span>
<span class="uscript-line">01121</span>              ActiveMaps<span class="uscript-operator">.</span>Add<span class="uscript-operator">(</span><span class="uscript-type">string</span><span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">,</span>AllMaps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MapName<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01122</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">01123</span>  
<span class="uscript-line">01124</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">(</span><span class="uscript-operator">(</span><span class="uscript-operator">(</span>MaxMaps <span class="uscript-operator">&gt;</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span> <span class="uscript-operator">&amp;&amp;</span> <span class="uscript-operator">(</span>ActiveMaps<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-operator">&lt;</span> MaxMaps<span class="uscript-operator">)</span><span class="uscript-operator">)</span> <span class="uscript-operator">||</span> <span class="uscript-operator">(</span>MaxMaps <span class="uscript-operator">==</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">&amp;&amp;</span><span class="uscript-operator">(</span>ProfileMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">&gt;</span><span class="uscript-number">0</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">01125</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">01126</span>          <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>ProfileMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01127</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">01128</span>              <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>MapIsValid<span class="uscript-operator">(</span>ProfileMaps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">01129</span>              <span class="uscript-operator">{</span>
<span class="uscript-line">01130</span>                  ProfileMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Remove</span><span class="uscript-operator">(</span>i<span class="uscript-operator">,</span><span class="uscript-number">1</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01131</span>                  i<span class="uscript-operator">--</span><span class="uscript-operator">;</span>
<span class="uscript-line">01132</span>                  <span class="uscript-keyword">continue</span><span class="uscript-operator">;</span>
<span class="uscript-line">01133</span>              <span class="uscript-operator">}</span>
<span class="uscript-line">01134</span>  
<span class="uscript-line">01135</span>              <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>MaxMaps <span class="uscript-operator">&gt;</span> <span class="uscript-number">0</span> <span class="uscript-operator">&amp;&amp;</span> ActiveMaps<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-operator">&gt;=</span> MaxMaps<span class="uscript-operator">)</span>
<span class="uscript-line">01136</span>                  <span class="uscript-keyword">break</span><span class="uscript-operator">;</span>
<span class="uscript-line">01137</span>              <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>j<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>j<span class="uscript-operator">&lt;</span>AllMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>j<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01138</span>                  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">(</span>ProfileMaps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">~=</span>AllMaps<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MapName<span class="uscript-operator">)</span> <span class="uscript-operator">&amp;&amp;</span> <span class="uscript-operator">(</span>ActiveMaps<span class="uscript-operator">.</span>FindTagId<span class="uscript-operator">(</span>AllMaps<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MapName<span class="uscript-operator">)</span><span class="uscript-operator">&lt;</span><span class="uscript-number">0</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">01139</span>                      ActiveMaps<span class="uscript-operator">.</span>Add<span class="uscript-operator">(</span><span class="uscript-type">string</span><span class="uscript-operator">(</span>j<span class="uscript-operator">)</span><span class="uscript-operator">,</span> AllMaps<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MapName<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01140</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">01141</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">01142</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01143</span>  
<span class="uscript-line">01144</span>  <span class="uscript-comment">// Loads used mutators from ini into ActiveMutators StringArray</span>
<span class="uscript-line">01145</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> SetUsedMutators<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">01146</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01147</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">,</span>j<span class="uscript-operator">;</span>
<span class="uscript-line">01148</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">string</span> MutatorGroups<span class="uscript-operator">,</span> tmp<span class="uscript-operator">;</span>
<span class="uscript-line">01149</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">01150</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">01151</span>          log<span class="uscript-operator">(</span><span class="uscript-string">"SetUsedMutators()"</span><span class="uscript-operator">@</span>DidNotStartEdit<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01152</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">01153</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">01154</span>  
<span class="uscript-line">01155</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>AllMutators<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">==</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">01156</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">01157</span>  
<span class="uscript-line">01158</span>      ActiveMutators<span class="uscript-operator">.</span>Reset<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01159</span>      <span class="uscript-comment">// Add required mutators first</span>
<span class="uscript-line">01160</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>AllMutators<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01161</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">01162</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>AllMutators<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>bRequired<span class="uscript-operator">)</span>
<span class="uscript-line">01163</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">01164</span>              tmp <span class="uscript-operator">=</span> GetMutatorGroup<span class="uscript-operator">(</span>AllMutators<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MutatorName<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01165</span>              <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>InStr<span class="uscript-operator">(</span>MutatorGroups<span class="uscript-operator">,</span> tmp<span class="uscript-operator">)</span> <span class="uscript-operator">==</span> <span class="uscript-operator">-</span><span class="uscript-number">1</span><span class="uscript-operator">)</span>
<span class="uscript-line">01166</span>              <span class="uscript-operator">{</span>
<span class="uscript-line">01167</span>                  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>MutatorGroups <span class="uscript-operator">!=</span> <span class="uscript-string">""</span><span class="uscript-operator">)</span> MutatorGroups <span class="uscript-operator">=</span> MutatorGroups <span class="uscript-operator">$</span> <span class="uscript-string">","</span><span class="uscript-operator">;</span>
<span class="uscript-line">01168</span>                  MutatorGroups <span class="uscript-operator">=</span> MutatorGroups <span class="uscript-operator">$</span> tmp<span class="uscript-operator">;</span>
<span class="uscript-line">01169</span>                  ActiveMutators<span class="uscript-operator">.</span>Add<span class="uscript-operator">(</span><span class="uscript-type">string</span><span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">,</span> AllMutators<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MutatorName<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01170</span>              <span class="uscript-operator">}</span>
<span class="uscript-line">01171</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">01172</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">01173</span>  
<span class="uscript-line">01174</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>ProfileMutators<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01175</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">01176</span>          <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>j<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>j<span class="uscript-operator">&lt;</span>AllMutators<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>j<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01177</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">01178</span>              <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">(</span>AllMutators<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MutatorName <span class="uscript-operator">~=</span> ProfileMutators<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">)</span><span class="uscript-operator">&amp;&amp;</span><span class="uscript-operator">(</span>ActiveMutators<span class="uscript-operator">.</span>FindTagId<span class="uscript-operator">(</span>AllMutators<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MutatorName<span class="uscript-operator">)</span><span class="uscript-operator">&lt;</span><span class="uscript-number">0</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">01179</span>              <span class="uscript-operator">{</span>
<span class="uscript-line">01180</span>                  tmp <span class="uscript-operator">=</span> GetMutatorGroup<span class="uscript-operator">(</span>AllMutators<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MutatorName<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01181</span>                  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>InStr<span class="uscript-operator">(</span>MutatorGroups<span class="uscript-operator">,</span> tmp<span class="uscript-operator">)</span> <span class="uscript-operator">==</span> <span class="uscript-operator">-</span><span class="uscript-number">1</span><span class="uscript-operator">)</span>
<span class="uscript-line">01182</span>                  <span class="uscript-operator">{</span>
<span class="uscript-line">01183</span>                      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>MutatorGroups <span class="uscript-operator">!=</span> <span class="uscript-string">""</span><span class="uscript-operator">)</span> MutatorGroups <span class="uscript-operator">=</span> MutatorGroups <span class="uscript-operator">$</span> <span class="uscript-string">","</span><span class="uscript-operator">;</span>
<span class="uscript-line">01184</span>                      MutatorGroups <span class="uscript-operator">=</span> MutatorGroups <span class="uscript-operator">$</span> tmp<span class="uscript-operator">;</span>
<span class="uscript-line">01185</span>                      ActiveMutators<span class="uscript-operator">.</span>Add<span class="uscript-operator">(</span><span class="uscript-type">string</span><span class="uscript-operator">(</span>j<span class="uscript-operator">)</span><span class="uscript-operator">,</span> AllMutators<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">.</span>MutatorName<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01186</span>                  <span class="uscript-operator">}</span>
<span class="uscript-line">01187</span>              <span class="uscript-operator">}</span>
<span class="uscript-line">01188</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">01189</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">01190</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01191</span>  
<span class="uscript-line">01192</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> SetUsedServerActors<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">01193</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01194</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">,</span>j<span class="uscript-operator">;</span>
<span class="uscript-line">01195</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">01196</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">01197</span>          log<span class="uscript-operator">(</span><span class="uscript-string">"SetUsedServerActors()"</span><span class="uscript-operator">@</span>DidNotStartEdit<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01198</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">01199</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">01200</span>  
<span class="uscript-line">01201</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>AllServerActors<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">==</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">01202</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">01203</span>  
<span class="uscript-line">01204</span>      ActiveServerActors<span class="uscript-operator">.</span>Reset<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01205</span>      <span class="uscript-comment">// Add required server actors first</span>
<span class="uscript-line">01206</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>AllServerActors<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01207</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>AllServerActors<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>bRequired<span class="uscript-operator">)</span>
<span class="uscript-line">01208</span>              ActiveServerActors<span class="uscript-operator">.</span>Add<span class="uscript-operator">(</span><span class="uscript-type">string</span><span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">,</span> AllServerActors<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>ActorClass<span class="uscript-operator">,</span><span class="uscript-keyword">True</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01209</span>  
<span class="uscript-line">01210</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>ProfileServerActors<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01211</span>          <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>j<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>j<span class="uscript-operator">&lt;</span>AllServerActors<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>j<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01212</span>              <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>AllServerActors<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">.</span>ActorClass <span class="uscript-operator">~=</span> ProfileServerActors<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">)</span>
<span class="uscript-line">01213</span>                  ActiveServerActors<span class="uscript-operator">.</span>Add<span class="uscript-operator">(</span><span class="uscript-type">string</span><span class="uscript-operator">(</span>j<span class="uscript-operator">)</span><span class="uscript-operator">,</span>AllServerActors<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">.</span>ActorClass<span class="uscript-operator">,</span><span class="uscript-keyword">True</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01214</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01215</span>  
<span class="uscript-line">01216</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> ClearUsedMaps<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">01217</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01218</span>      ProfileMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">01219</span>      SaveConfig<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01220</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01221</span>  
<span class="uscript-line">01222</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> ClearUsedMutators<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">01223</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01224</span>      ProfileMutators<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">01225</span>      SaveConfig<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01226</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01227</span>  
<span class="uscript-line">01228</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> ClearUsedServerActors<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">01229</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01230</span>      ProfileServerActors<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">01231</span>      SaveConfig<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01232</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01233</span>  
<span class="uscript-line">01234</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> ClearAllMaps<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">01235</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01236</span>      AllMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">01237</span>      SaveConfig<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01238</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01239</span>  
<span class="uscript-line">01240</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> ClearAllMutators<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">01241</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01242</span>      AllMutators<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">01243</span>      SaveConfig<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01244</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01245</span>  
<span class="uscript-line">01246</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> ClearAllServerActors<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">01247</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01248</span>      AllServerActors<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">01249</span>      SaveConfig<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01250</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01251</span>  
<span class="uscript-line">01252</span>  <span class="uscript-comment">// Saves active maps for this profile to ini</span>
<span class="uscript-line">01253</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> SaveUsedMaps<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">01254</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01255</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">01256</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">01257</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">01258</span>          log<span class="uscript-operator">(</span><span class="uscript-string">"SaveUsedMaps()"</span><span class="uscript-operator">@</span>DidNotStartEdit<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01259</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">01260</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">01261</span>  
<span class="uscript-line">01262</span>      ClearUsedMaps<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01263</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>ActiveMaps<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01264</span>          ProfileMaps<span class="uscript-operator">[</span>ProfileMaps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> ActiveMaps<span class="uscript-operator">.</span>GetTag<span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01265</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01266</span>  
<span class="uscript-line">01267</span>  <span class="uscript-comment">// Saves ActiveMutators to ini</span>
<span class="uscript-line">01268</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> SaveUsedMutators<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">01269</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01270</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">01271</span>  
<span class="uscript-line">01272</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">01273</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">01274</span>          log<span class="uscript-operator">(</span><span class="uscript-string">"SaveUsedMutators()"</span><span class="uscript-operator">@</span>DidNotStartEdit<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01275</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">01276</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">01277</span>  
<span class="uscript-line">01278</span>      ClearUsedMutators<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01279</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>ActiveMutators<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01280</span>          ProfileMutators<span class="uscript-operator">[</span>ProfileMutators<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> ActiveMutators<span class="uscript-operator">.</span>GetTag<span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01281</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01282</span>  
<span class="uscript-line">01283</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> SaveUsedServerActors<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">01284</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01285</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">01286</span>  
<span class="uscript-line">01287</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">01288</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">01289</span>          log<span class="uscript-operator">(</span><span class="uscript-string">"SaveUsedServerActors()"</span><span class="uscript-operator">@</span>DidNotStartEdit<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01290</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">01291</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">01292</span>      ClearUsedServerActors<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01293</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>ActiveServerActors<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01294</span>          ProfileServerActors<span class="uscript-operator">[</span>ProfileServerActors<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> ActiveServerActors<span class="uscript-operator">.</span>GetTag<span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01295</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01296</span>  
<span class="uscript-line">01297</span>  <span class="uscript-comment">// Applies the active maps to the actual Game maplist</span>
<span class="uscript-line">01298</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> ApplyMapList<span class="uscript-operator">(</span><span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> NewMapList<span class="uscript-operator">)</span>
<span class="uscript-line">01299</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01300</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">01301</span>  
<span class="uscript-line">01302</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>GameClass <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">01303</span>          GameClass <span class="uscript-operator">=</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>GameInfo<span class="uscript-operator">&gt;</span><span class="uscript-operator">(</span>DynamicLoadObject<span class="uscript-operator">(</span>DefaultGameType<span class="uscript-operator">,</span><span class="uscript-keyword">class</span><span class="uscript-name">'Class'</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01304</span>  
<span class="uscript-line">01305</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Maps <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">01306</span>          GetMaps<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01307</span>  
<span class="uscript-line">01308</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Maps <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">01309</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">01310</span>  
<span class="uscript-line">01311</span>      Maps<span class="uscript-operator">.</span>Maps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">01312</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>NewMapList<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01313</span>          Maps<span class="uscript-operator">.</span>Maps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span> <span class="uscript-operator">=</span> NewMapList<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">;</span>
<span class="uscript-line">01314</span>  
<span class="uscript-line">01315</span>      Maps<span class="uscript-operator">.</span>SaveConfig<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01316</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01317</span>  
<span class="uscript-line">01318</span>  <span class="uscript-comment">// Applies ActiveMutators to actual Game mutator list</span>
<span class="uscript-line">01319</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> ApplyMutators<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">01320</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01321</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">01322</span>      <span class="uscript-keyword">local</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> TempMut<span class="uscript-operator">;</span>
<span class="uscript-line">01323</span>  
<span class="uscript-line">01324</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">01325</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">01326</span>          log<span class="uscript-operator">(</span><span class="uscript-string">"ApplyMutators()"</span><span class="uscript-operator">@</span>DidNotStartEdit<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01327</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">01328</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">01329</span>  
<span class="uscript-line">01330</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>ActiveMutators<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01331</span>          TempMut<span class="uscript-operator">[</span>TempMut<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> ActiveMutators<span class="uscript-operator">.</span>GetTag<span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01332</span>  
<span class="uscript-line">01333</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>TempMut<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">==</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">01334</span>          NextMutators <span class="uscript-operator">=</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
<span class="uscript-line">01335</span>  
<span class="uscript-line">01336</span>      <span class="uscript-keyword">else</span> NextMutators <span class="uscript-operator">=</span> <span class="uscript-keyword">class</span><span class="uscript-name">'wUtils103.wArray'</span><span class="uscript-operator">.</span><span class="uscript-keyword">static</span><span class="uscript-operator">.</span>Join<span class="uscript-operator">(</span>TempMut<span class="uscript-operator">,</span><span class="uscript-string">","</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01337</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01338</span>  
<span class="uscript-line">01339</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> ClearProfile<span class="uscript-operator">(</span><span class="uscript-keyword">out</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span>ProfileSetting<span class="uscript-operator">&gt;</span> OldProfile<span class="uscript-operator">)</span>
<span class="uscript-line">01340</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01341</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">01342</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">01343</span>          log<span class="uscript-operator">(</span><span class="uscript-string">"ClearProfile()"</span><span class="uscript-operator">@</span>DidNotStartEdit<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01344</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">01345</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">01346</span>  
<span class="uscript-line">01347</span>      OldProfile<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">01348</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01349</span>  
<span class="uscript-line">01350</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> InitializeProfile<span class="uscript-operator">(</span><span class="uscript-keyword">out</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span>ProfileSetting<span class="uscript-operator">&gt;</span> NewProfile<span class="uscript-operator">)</span>
<span class="uscript-line">01351</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01352</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">01353</span>      <span class="uscript-keyword">local</span> ProfileSetting NewSetting<span class="uscript-operator">;</span>
<span class="uscript-line">01354</span>  
<span class="uscript-line">01355</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">01356</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">01357</span>          log<span class="uscript-operator">(</span><span class="uscript-string">"InitializeProfile()"</span><span class="uscript-operator">@</span>DidNotStartEdit<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01358</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">01359</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">01360</span>  
<span class="uscript-line">01361</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>PInfo<span class="uscript-operator">==</span><span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">01362</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">01363</span>  
<span class="uscript-line">01364</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>NewProfile<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">&gt;</span><span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">01365</span>          ClearProfile<span class="uscript-operator">(</span>NewProfile<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01366</span>  
<span class="uscript-line">01367</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> i <span class="uscript-operator">&lt;</span> PInfo<span class="uscript-operator">.</span>Settings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01368</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">01369</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>InStr<span class="uscript-operator">(</span>PInfo<span class="uscript-operator">.</span>Settings<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>SettingName<span class="uscript-operator">,</span><span class="uscript-string">"AdminName"</span><span class="uscript-operator">)</span> <span class="uscript-operator">!=</span> <span class="uscript-operator">-</span><span class="uscript-number">1</span> <span class="uscript-operator">||</span> InStr<span class="uscript-operator">(</span>PInfo<span class="uscript-operator">.</span>Settings<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>SettingName<span class="uscript-operator">,</span><span class="uscript-string">"AdminEmail"</span><span class="uscript-operator">)</span> <span class="uscript-operator">!=</span> <span class="uscript-operator">-</span><span class="uscript-number">1</span><span class="uscript-operator">)</span>
<span class="uscript-line">01370</span>              <span class="uscript-keyword">continue</span><span class="uscript-operator">;</span>
<span class="uscript-line">01371</span>  
<span class="uscript-line">01372</span>          NewSetting<span class="uscript-operator">.</span>SettingName <span class="uscript-operator">=</span> PInfo<span class="uscript-operator">.</span>Settings<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>SettingName<span class="uscript-operator">;</span>
<span class="uscript-line">01373</span>          NewSetting<span class="uscript-operator">.</span>SettingValue <span class="uscript-operator">=</span> PInfo<span class="uscript-operator">.</span>Settings<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Value<span class="uscript-operator">;</span>
<span class="uscript-line">01374</span>  
<span class="uscript-line">01375</span>          NewProfile<span class="uscript-operator">[</span>NewProfile<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> NewSetting<span class="uscript-operator">;</span>
<span class="uscript-line">01376</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">01377</span>  
<span class="uscript-line">01378</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">01379</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01380</span>  
<span class="uscript-line">01381</span>  <span class="uscript-comment">////////////////////////////////////////////////////////////////////////////</span>
<span class="uscript-line">01382</span>  <span class="uscript-comment">// PlayInfo Query Functions</span>
<span class="uscript-line">01383</span>  <span class="uscript-comment">////////////////////////////////////////////////////////////////////////////</span>
<span class="uscript-line">01384</span>  
<span class="uscript-line">01385</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">string</span> GetParamName<span class="uscript-operator">(</span><span class="uscript-type">int</span> idx<span class="uscript-operator">)</span>
<span class="uscript-line">01386</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01387</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>idx <span class="uscript-operator">&lt;</span> <span class="uscript-number">0</span> <span class="uscript-operator">||</span> idx <span class="uscript-operator">&gt;=</span> PInfo<span class="uscript-operator">.</span>Settings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">)</span>
<span class="uscript-line">01388</span>          <span class="uscript-keyword">return</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
<span class="uscript-line">01389</span>  
<span class="uscript-line">01390</span>      <span class="uscript-keyword">return</span> PInfo<span class="uscript-operator">.</span>Settings<span class="uscript-operator">[</span>idx<span class="uscript-operator">]</span><span class="uscript-operator">.</span>SettingName<span class="uscript-operator">;</span>
<span class="uscript-line">01391</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01392</span>  
<span class="uscript-line">01393</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">int</span> GetParamIndex<span class="uscript-operator">(</span><span class="uscript-type">string</span> SettingName<span class="uscript-operator">)</span>
<span class="uscript-line">01394</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01395</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">01396</span>  
<span class="uscript-line">01397</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> i <span class="uscript-operator">&lt;</span> PInfo<span class="uscript-operator">.</span>Settings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01398</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>PInfo<span class="uscript-operator">.</span>Settings<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>SettingName <span class="uscript-operator">~=</span> SettingName<span class="uscript-operator">)</span>
<span class="uscript-line">01399</span>              <span class="uscript-keyword">break</span><span class="uscript-operator">;</span>
<span class="uscript-line">01400</span>  
<span class="uscript-line">01401</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">==</span>PInfo<span class="uscript-operator">.</span>Settings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">)</span>
<span class="uscript-line">01402</span>          <span class="uscript-keyword">return</span> <span class="uscript-operator">-</span><span class="uscript-number">1</span><span class="uscript-operator">;</span>
<span class="uscript-line">01403</span>  
<span class="uscript-line">01404</span>      <span class="uscript-keyword">return</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">01405</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01406</span>  
<span class="uscript-line">01407</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">string</span> GetParam<span class="uscript-operator">(</span><span class="uscript-type">int</span> idx<span class="uscript-operator">)</span>
<span class="uscript-line">01408</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01409</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>idx <span class="uscript-operator">&lt;</span> <span class="uscript-number">0</span> <span class="uscript-operator">||</span> idx <span class="uscript-operator">&gt;=</span> PInfo<span class="uscript-operator">.</span>Settings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">)</span>
<span class="uscript-line">01410</span>          <span class="uscript-keyword">return</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
<span class="uscript-line">01411</span>  
<span class="uscript-line">01412</span>      <span class="uscript-keyword">return</span> PInfo<span class="uscript-operator">.</span>Settings<span class="uscript-operator">[</span>idx<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Value<span class="uscript-operator">;</span>
<span class="uscript-line">01413</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01414</span>  
<span class="uscript-line">01415</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">string</span> GetNamedParam<span class="uscript-operator">(</span><span class="uscript-type">string</span> Parameter<span class="uscript-operator">)</span>
<span class="uscript-line">01416</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01417</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">01418</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">string</span> SettingName<span class="uscript-operator">;</span>
<span class="uscript-line">01419</span>  
<span class="uscript-line">01420</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> i <span class="uscript-operator">&lt;</span> PInfo<span class="uscript-operator">.</span>Settings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01421</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">01422</span>          SettingName <span class="uscript-operator">=</span> PInfo<span class="uscript-operator">.</span>Settings<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>SettingName<span class="uscript-operator">;</span>
<span class="uscript-line">01423</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>SettingName <span class="uscript-operator">~=</span> Parameter <span class="uscript-operator">||</span> Right<span class="uscript-operator">(</span>SettingName<span class="uscript-operator">,</span> Len<span class="uscript-operator">(</span>Parameter<span class="uscript-operator">)</span> <span class="uscript-operator">+</span> <span class="uscript-number">1</span><span class="uscript-operator">)</span> <span class="uscript-operator">~=</span> <span class="uscript-operator">(</span><span class="uscript-string">"."</span><span class="uscript-operator">$</span>Parameter<span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">01424</span>              <span class="uscript-keyword">return</span> PInfo<span class="uscript-operator">.</span>Settings<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Value<span class="uscript-operator">;</span>
<span class="uscript-line">01425</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">01426</span>      <span class="uscript-keyword">return</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
<span class="uscript-line">01427</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01428</span>  
<span class="uscript-line">01429</span>  <span class="uscript-keyword">function</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> GetMaskedParams<span class="uscript-operator">(</span><span class="uscript-type">string</span> ParamMask<span class="uscript-operator">)</span>
<span class="uscript-line">01430</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01431</span>      <span class="uscript-keyword">local</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> FoundParams<span class="uscript-operator">;</span>
<span class="uscript-line">01432</span>      <span class="uscript-keyword">local</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> FoundMasks<span class="uscript-operator">;</span>
<span class="uscript-line">01433</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">string</span> SettingName<span class="uscript-operator">,</span> ShortName<span class="uscript-operator">;</span>
<span class="uscript-line">01434</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">,</span> j<span class="uscript-operator">,</span> p<span class="uscript-operator">;</span>
<span class="uscript-line">01435</span>  
<span class="uscript-line">01436</span>      <span class="uscript-keyword">class</span><span class="uscript-name">'wUtils103.wString'</span><span class="uscript-operator">.</span><span class="uscript-keyword">static</span><span class="uscript-operator">.</span>Split2<span class="uscript-operator">(</span>ParamMask<span class="uscript-operator">,</span> <span class="uscript-string">" "</span><span class="uscript-operator">,</span> FoundMasks<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01437</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>FoundMasks<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">&gt;</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">01438</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">01439</span>          <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span>PInfo<span class="uscript-operator">.</span>Settings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01440</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">01441</span>              SettingName <span class="uscript-operator">=</span> PInfo<span class="uscript-operator">.</span>Settings<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>SettingName<span class="uscript-operator">;</span>
<span class="uscript-line">01442</span>  
<span class="uscript-line">01443</span>              ShortName <span class="uscript-operator">=</span> SettingName<span class="uscript-operator">;</span>
<span class="uscript-line">01444</span>              j <span class="uscript-operator">=</span> Instr<span class="uscript-operator">(</span>ShortName<span class="uscript-operator">,</span> <span class="uscript-string">"."</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01445</span>              <span class="uscript-keyword">while</span> <span class="uscript-operator">(</span>j <span class="uscript-operator">!=</span> <span class="uscript-operator">-</span><span class="uscript-number">1</span><span class="uscript-operator">)</span>
<span class="uscript-line">01446</span>              <span class="uscript-operator">{</span>
<span class="uscript-line">01447</span>                  ShortName <span class="uscript-operator">=</span> Mid<span class="uscript-operator">(</span>ShortName<span class="uscript-operator">,</span> p<span class="uscript-number">+1</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01448</span>                  j <span class="uscript-operator">=</span> Instr<span class="uscript-operator">(</span>ShortName<span class="uscript-operator">,</span> <span class="uscript-string">"."</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01449</span>              <span class="uscript-operator">}</span>
<span class="uscript-line">01450</span>  
<span class="uscript-line">01451</span>              <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>j <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> j<span class="uscript-operator">&lt;</span>FoundMasks<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span> j<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01452</span>              <span class="uscript-operator">{</span>
<span class="uscript-line">01453</span>                  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-keyword">class</span><span class="uscript-name">'wUtils103.wString'</span><span class="uscript-operator">.</span><span class="uscript-keyword">static</span><span class="uscript-operator">.</span>MaskedCompare<span class="uscript-operator">(</span>ShortName<span class="uscript-operator">,</span> FoundMasks<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">)</span> <span class="uscript-operator">||</span> <span class="uscript-keyword">class</span><span class="uscript-name">'wUtils103.wString'</span><span class="uscript-operator">.</span><span class="uscript-keyword">static</span><span class="uscript-operator">.</span>MaskedCompare<span class="uscript-operator">(</span>SettingName<span class="uscript-operator">,</span> FoundMasks<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">01454</span>                  <span class="uscript-operator">{</span>
<span class="uscript-line">01455</span>                      FoundParams<span class="uscript-operator">[</span>FoundParams<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> SettingName<span class="uscript-operator">;</span>
<span class="uscript-line">01456</span>                      FoundParams<span class="uscript-operator">[</span>FoundParams<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> PInfo<span class="uscript-operator">.</span>Settings<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Value<span class="uscript-operator">;</span>
<span class="uscript-line">01457</span>                      <span class="uscript-keyword">break</span><span class="uscript-operator">;</span>
<span class="uscript-line">01458</span>                  <span class="uscript-operator">}</span>
<span class="uscript-line">01459</span>              <span class="uscript-operator">}</span>
<span class="uscript-line">01460</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">01461</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">01462</span>      <span class="uscript-keyword">return</span> FoundParams<span class="uscript-operator">;</span>
<span class="uscript-line">01463</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01464</span>  
<span class="uscript-line">01465</span>  <span class="uscript-comment">/////////////////////////////////////////////////////////////////////</span>
<span class="uscript-line">01466</span>  <span class="uscript-comment">// Profile Query Functions</span>
<span class="uscript-line">01467</span>  <span class="uscript-comment">////////////////////////////////////////////////////////////////////</span>
<span class="uscript-line">01468</span>  
<span class="uscript-line">01469</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">int</span> GetProfileParamIndex<span class="uscript-operator">(</span><span class="uscript-type">string</span> SettingName<span class="uscript-operator">)</span>
<span class="uscript-line">01470</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01471</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">01472</span>  
<span class="uscript-line">01473</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>ProfileSettings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01474</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ProfileSettings<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>SettingName <span class="uscript-operator">~=</span> SettingName<span class="uscript-operator">)</span>
<span class="uscript-line">01475</span>              <span class="uscript-keyword">break</span><span class="uscript-operator">;</span>
<span class="uscript-line">01476</span>  
<span class="uscript-line">01477</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">==</span>ProfileSettings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">)</span>
<span class="uscript-line">01478</span>          <span class="uscript-keyword">return</span> <span class="uscript-operator">-</span><span class="uscript-number">1</span><span class="uscript-operator">;</span>
<span class="uscript-line">01479</span>  
<span class="uscript-line">01480</span>      <span class="uscript-keyword">return</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">01481</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01482</span>  
<span class="uscript-line">01483</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">string</span> GetProfileParamName<span class="uscript-operator">(</span><span class="uscript-type">int</span> idx<span class="uscript-operator">)</span>
<span class="uscript-line">01484</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01485</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>idx <span class="uscript-operator">&lt;</span> <span class="uscript-number">0</span> <span class="uscript-operator">||</span> idx <span class="uscript-operator">&gt;=</span> ProfileSettings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">)</span>
<span class="uscript-line">01486</span>          <span class="uscript-keyword">return</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
<span class="uscript-line">01487</span>  
<span class="uscript-line">01488</span>      <span class="uscript-keyword">return</span> ProfileSettings<span class="uscript-operator">[</span>idx<span class="uscript-operator">]</span><span class="uscript-operator">.</span>SettingName<span class="uscript-operator">;</span>
<span class="uscript-line">01489</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01490</span>  
<span class="uscript-line">01491</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">string</span> GetProfileParam<span class="uscript-operator">(</span><span class="uscript-type">int</span> idx<span class="uscript-operator">)</span>
<span class="uscript-line">01492</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01493</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>idx <span class="uscript-operator">&lt;</span> <span class="uscript-number">0</span> <span class="uscript-operator">||</span> idx <span class="uscript-operator">&gt;=</span> ProfileSettings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">)</span>
<span class="uscript-line">01494</span>          <span class="uscript-keyword">return</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
<span class="uscript-line">01495</span>  
<span class="uscript-line">01496</span>      <span class="uscript-keyword">return</span> ProfileSettings<span class="uscript-operator">[</span>idx<span class="uscript-operator">]</span><span class="uscript-operator">.</span>SettingValue<span class="uscript-operator">;</span>
<span class="uscript-line">01497</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01498</span>  
<span class="uscript-line">01499</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">string</span> GetProfileNamedParam<span class="uscript-operator">(</span><span class="uscript-type">string</span> Parameter<span class="uscript-operator">)</span>
<span class="uscript-line">01500</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01501</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">01502</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">string</span> SettingName<span class="uscript-operator">;</span>
<span class="uscript-line">01503</span>  
<span class="uscript-line">01504</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> i <span class="uscript-operator">&lt;</span> ProfileSettings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01505</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">01506</span>          SettingName <span class="uscript-operator">=</span> ProfileSettings<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>SettingName<span class="uscript-operator">;</span>
<span class="uscript-line">01507</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>SettingName <span class="uscript-operator">~=</span> Parameter <span class="uscript-operator">||</span> Right<span class="uscript-operator">(</span>SettingName<span class="uscript-operator">,</span> Len<span class="uscript-operator">(</span>Parameter<span class="uscript-operator">)</span><span class="uscript-operator">+</span><span class="uscript-number">1</span><span class="uscript-operator">)</span> <span class="uscript-operator">~=</span> <span class="uscript-operator">(</span><span class="uscript-string">"."</span><span class="uscript-operator">$</span>Parameter<span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">01508</span>              <span class="uscript-keyword">return</span> ProfileSettings<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>SettingValue<span class="uscript-operator">;</span>
<span class="uscript-line">01509</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">01510</span>  
<span class="uscript-line">01511</span>      <span class="uscript-keyword">return</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
<span class="uscript-line">01512</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01513</span>  
<span class="uscript-line">01514</span>  <span class="uscript-comment">/////////////////////////////////////////////////////////////////////</span>
<span class="uscript-line">01515</span>  <span class="uscript-comment">// PlayInfo Manipulation Functions</span>
<span class="uscript-line">01516</span>  <span class="uscript-comment">/////////////////////////////////////////////////////////////////////</span>
<span class="uscript-line">01517</span>  
<span class="uscript-line">01518</span>  <span class="uscript-keyword">function</span> SavePI<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">01519</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01520</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bEdit<span class="uscript-operator">)</span>
<span class="uscript-line">01521</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">01522</span>          log<span class="uscript-operator">(</span><span class="uscript-string">"SavePI()"</span><span class="uscript-operator">@</span>DidNotStartEdit<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01523</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">01524</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">01525</span>  
<span class="uscript-line">01526</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>PInfo <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">01527</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">01528</span>  
<span class="uscript-line">01529</span>      PInfo<span class="uscript-operator">.</span>SaveSettings<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01530</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01531</span>  
<span class="uscript-line">01532</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> SetParam<span class="uscript-operator">(</span><span class="uscript-type">int</span> idx<span class="uscript-operator">,</span> <span class="uscript-type">string</span> Value<span class="uscript-operator">)</span>
<span class="uscript-line">01533</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01534</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>PInfo <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span> <span class="uscript-operator">||</span> idx <span class="uscript-operator">&lt;</span> <span class="uscript-number">0</span> <span class="uscript-operator">||</span> idx <span class="uscript-operator">&gt;=</span> PInfo<span class="uscript-operator">.</span>Settings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">)</span>
<span class="uscript-line">01535</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">01536</span>  
<span class="uscript-line">01537</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>InStr<span class="uscript-operator">(</span>PInfo<span class="uscript-operator">.</span>Settings<span class="uscript-operator">[</span>idx<span class="uscript-operator">]</span><span class="uscript-operator">.</span>SettingName<span class="uscript-operator">,</span><span class="uscript-string">"AdminName"</span><span class="uscript-operator">)</span> <span class="uscript-operator">!=</span> <span class="uscript-operator">-</span><span class="uscript-number">1</span> <span class="uscript-operator">||</span> InStr<span class="uscript-operator">(</span>PInfo<span class="uscript-operator">.</span>Settings<span class="uscript-operator">[</span>idx<span class="uscript-operator">]</span><span class="uscript-operator">.</span>SettingName<span class="uscript-operator">,</span><span class="uscript-string">"AdminEmail"</span><span class="uscript-operator">)</span> <span class="uscript-operator">!=</span> <span class="uscript-operator">-</span><span class="uscript-number">1</span><span class="uscript-operator">)</span>
<span class="uscript-line">01538</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">01539</span>  
<span class="uscript-line">01540</span>      <span class="uscript-keyword">return</span> PInfo<span class="uscript-operator">.</span>StoreSetting<span class="uscript-operator">(</span>idx<span class="uscript-operator">,</span> Value<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01541</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01542</span>  
<span class="uscript-line">01543</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> SetNamedParam<span class="uscript-operator">(</span><span class="uscript-type">string</span> Parameter<span class="uscript-operator">,</span> <span class="uscript-type">string</span> Value<span class="uscript-operator">)</span>
<span class="uscript-line">01544</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01545</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">01546</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">string</span> SettingName<span class="uscript-operator">;</span>
<span class="uscript-line">01547</span>  
<span class="uscript-line">01548</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>PInfo <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span> <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">01549</span>  
<span class="uscript-line">01550</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> i <span class="uscript-operator">&lt;</span> PInfo<span class="uscript-operator">.</span>Settings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01551</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">01552</span>          SettingName <span class="uscript-operator">=</span> PInfo<span class="uscript-operator">.</span>Settings<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>SettingName<span class="uscript-operator">;</span>
<span class="uscript-line">01553</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>SettingName <span class="uscript-operator">~=</span> Parameter <span class="uscript-operator">||</span> Right<span class="uscript-operator">(</span>SettingName<span class="uscript-operator">,</span> Len<span class="uscript-operator">(</span>Parameter<span class="uscript-operator">)</span> <span class="uscript-operator">+</span> <span class="uscript-number">1</span><span class="uscript-operator">)</span> <span class="uscript-operator">~=</span> <span class="uscript-operator">(</span><span class="uscript-string">"."</span><span class="uscript-operator">$</span>Parameter<span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">01554</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">01555</span>              <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>InStr<span class="uscript-operator">(</span>PInfo<span class="uscript-operator">.</span>Settings<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>SettingName<span class="uscript-operator">,</span><span class="uscript-string">"AdminName"</span><span class="uscript-operator">)</span> <span class="uscript-operator">!=</span> <span class="uscript-operator">-</span><span class="uscript-number">1</span> <span class="uscript-operator">||</span> InStr<span class="uscript-operator">(</span>PInfo<span class="uscript-operator">.</span>Settings<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>SettingName<span class="uscript-operator">,</span><span class="uscript-string">"AdminEmail"</span><span class="uscript-operator">)</span> <span class="uscript-operator">!=</span> <span class="uscript-operator">-</span><span class="uscript-number">1</span><span class="uscript-operator">)</span>
<span class="uscript-line">01556</span>                  <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">01557</span>  
<span class="uscript-line">01558</span>              <span class="uscript-keyword">return</span> PInfo<span class="uscript-operator">.</span>StoreSetting<span class="uscript-operator">(</span>i<span class="uscript-operator">,</span> Value<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">01559</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">01560</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">01561</span>      <span class="uscript-comment">// Parameter not found</span>
<span class="uscript-line">01562</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">01563</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01564</span>  
<span class="uscript-line">01565</span>  <span class="uscript-comment">///////////////////////////////////////////////////////////////////////////</span>
<span class="uscript-line">01566</span>  <span class="uscript-comment">// Profile Manipulation Functions</span>
<span class="uscript-line">01567</span>  <span class="uscript-comment">///////////////////////////////////////////////////////////////////////////</span>
<span class="uscript-line">01568</span>  
<span class="uscript-line">01569</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">int</span> Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">01570</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01571</span>      <span class="uscript-keyword">return</span> ProfileSettings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>
<span class="uscript-line">01572</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01573</span>  
<span class="uscript-line">01574</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> SetProfileParam<span class="uscript-operator">(</span><span class="uscript-type">int</span> idx<span class="uscript-operator">,</span> <span class="uscript-type">string</span> SettingName<span class="uscript-operator">,</span> <span class="uscript-keyword">coerce</span> <span class="uscript-type">string</span> SettingValue<span class="uscript-operator">)</span>
<span class="uscript-line">01575</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01576</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>idx <span class="uscript-operator">&lt;</span> <span class="uscript-number">0</span> <span class="uscript-operator">||</span> idx <span class="uscript-operator">&gt;</span> ProfileSettings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">)</span>
<span class="uscript-line">01577</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">01578</span>  
<span class="uscript-line">01579</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ProfileSettings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">==</span> idx<span class="uscript-operator">)</span>
<span class="uscript-line">01580</span>          ProfileSettings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> ProfileSettings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-number">+1</span><span class="uscript-operator">;</span>
<span class="uscript-line">01581</span>  
<span class="uscript-line">01582</span>      ProfileSettings<span class="uscript-operator">[</span>idx<span class="uscript-operator">]</span><span class="uscript-operator">.</span>SettingName <span class="uscript-operator">=</span> SettingName<span class="uscript-operator">;</span>
<span class="uscript-line">01583</span>      ProfileSettings<span class="uscript-operator">[</span>idx<span class="uscript-operator">]</span><span class="uscript-operator">.</span>SettingValue <span class="uscript-operator">=</span> SettingValue<span class="uscript-operator">;</span>
<span class="uscript-line">01584</span>  
<span class="uscript-line">01585</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">01586</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">01587</span>  
<span class="uscript-line">01588</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> SetProfileNamedParam<span class="uscript-operator">(</span><span class="uscript-type">string</span> Parameter<span class="uscript-operator">,</span> <span class="uscript-type">string</span> Value<span class="uscript-operator">)</span>
<span class="uscript-line">01589</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">01590</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">01591</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">string</span> SettingName<span class="uscript-operator">;</span>
<span class="uscript-line">01592</span>  
<span class="uscript-line">01593</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>i <span class="uscript-operator">&lt;</span> ProfileSettings<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">01594</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">01595</span>          SettingName <span class="uscript-operator">=</span> ProfileSettings<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>SettingName<span class="uscript-operator">;</span>
<span class="uscript-line">01596</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>SettingName <span class="uscript-operator">~=</span> Parameter <span class="uscript-operator">||</span> Right<span class="uscript-operator">(</span>SettingName<span class="uscript-operator">,</span> Len<span class="uscript-operator">(</span>Parameter<span class="uscript-operator">)</span> <span class="uscript-operator">+</span> <span class="uscript-number">1</span><span class="uscript-operator">)</span> <span class="uscript-operator">~=</span> <span class="uscript-operator">(</span><span class="uscript-string">"."</span><span class="uscript-operator">$</span>Parameter<span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">01597</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">01598</span>              ProfileSettings<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>SettingValue <span class="uscript-operator">=</span> Value<span class="uscript-operator">;</span>
<span class="uscript-line">01599</span>              <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">01600</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">01601</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">01602</span>  
<span class="uscript-line">01603</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">01604</span>  <span class="uscript-operator">}</span></pre></div>
</div>

<div id="footer" class="bar">
	<p><form method="post" action="http://wiki.beyondunreal.com/wiki" enctype="application/x-www-form-urlencoded">
<a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a><br>
Last edited February 17, 2003 23:04 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=ProfileConfigSet">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/ProfileConfigSet">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>
</form>
	</p>
	<p>The three virtues of a programmer: Laziness, Impatience, and Hubris. (Larry Wall)
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="../index.html"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>


<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
