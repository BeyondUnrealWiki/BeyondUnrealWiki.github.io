<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: Setting Up VCPlusPlus/General Setup</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=Setting_Up_VCPlusPlus/General_Setup; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<input type="text" name="search"  size="14" /> <input type="button" onclick="location.href='../search-error/index.html';" value="search" />
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="setting-up-vcplusplus.html">Setting Up VCPlusPlus</a>/<a href="http://wiki.beyondunreal.com/wiki?back=Setting+Up+VCPlusPlus/General+Setup">General Setup</a></h1>
	<div class="wiki"><h2><a name="0.1"></a>Prerequisites</h2>
<p>In order to write native code (DLLs) for Unreal, you need the following:</p>
<ul><li>Unreal Engine</li>
<li>Unreal Headers</li>
<li>C Compiler for windows (I recommend Micro$oft Visual C++ 6)</li>
</ul>
<h2><a name="0.2"></a>Package folders</h2>
<p>To start, you should create a new Unreal <a href="package.html">package</a>. <a href="set-up-package-folders.html">Set up package folders</a> as normal, using a package name that describes your project, but add the following extra subfolders:</p>
<dl><dt>{<a href="base-directory.html">Base Directory</a>}\YourModPackage\C</dt><dd>contains your native C code</dd><dt>{<a href="base-directory.html">Base Directory</a>}\YourModPackage\Inc</dt><dd>contains your headers</dd><dt>{<a href="base-directory.html">Base Directory</a>}\YourModPackage\Proj</dt><dd>contains M$VC proprietary data</dd></dl>
<h2><a name="0.3"></a>Creating the project</h2>
<p>Open VC. Create a new project. Select "Win32 Dynamic-Link Library". Save it under $UNREALROOTDIR\YourModPackage\Proj . A wizard appears; select "An empty DLL project". Confirm the settings.</p>
<p>Add a new CPP file to your project. Save it in the $UNREALROOTDIR\SQLite\C directory.</p>
<p>Delete the debug version of your project; you will be better off with Release DLLs as the debug code may crash Unreal. Next, select Settings from the Project menu. Select the "C/C++" tab, Category: general. Delete all preprocessor directives, then add the following:</p>
<ul><li><em class="em2">WIN32</em>, <em class="em2">WINDOWS</em>, <em class="em2">_WINDOWS</em>   needed so the compiler+code knows it's supposed to run on the windows platform</li>
<li><em class="em2">UNICODE, _UNICODE</em>          we want unicode versions of our code</li>
<li><em class="em2">YourModPackage_API=DLL_EXPORT</em> ; DLL_EXPORT prefixed functions will get an entry in a special section of the DLL file, making it available to Unreal</li>
</ul>
<p>Go to the link tab; select general again. The output filename should be changed to $UNREALROOTDIR\System\YOURPACKAGENAME.dll. Delete everything listed in the Object/library modules text field, then add core.lib and engine.lib . If you're using other classes (like ones defined in deusex.h, you have to include the corresponding .lib file as well. People using your native class in their code will have to include your .lib file. <img alt=";)" src="emoticons/wink.gif" align="middle"></p>
<p><em class="em3">Next step:</em> <a href="setting-up-vcplusplus-the-u.html">/The UnrealScript Part</a></p>
<script type="text/javascript"><!--
 menuItemAdd("Prerequisites", "#0.1");
menuItemAdd("Package folders", "#0.2");
menuItemAdd("Creating the project", "#0.3");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p>
<a href="../index.html">Home Page</a> | <a href="setting-up-vcplusplus.html">Setting Up VCPlusPlus</a> | <a href="recent-changes.html">Recent Changes</a><br>
Last edited March 30, 2006 2:48 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=Setting_Up_VCPlusPlus/General_Setup">(diff)</a><br>Search: <input type="text" name="search"  size="14" /><input type="button" onclick="location.href='../search-error/index.html';" value="search" /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/Setting_Up_VCPlusPlus/General_Setup">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>

	</p>
	<p>Worst-case scenario: the UEd Goblin wipes the map and burns down your house.
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="../index.html"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>


<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
