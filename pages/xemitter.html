<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: XEmitter</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=XEmitter; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<form class="inline" method="post" action="/wiki" enctype="application/x-www-form-urlencoded"><input type="text" name="search"  size="20" /> <input type="submit" name="search" value="search" /></form>
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="http://wiki.beyondunreal.com/wiki?back=XEmitter">XEmitter</a></h1>
	<div class="wiki"><div class="classpath"><img src="shared//gameicons/icon-ut2003.png"> <a href="unreal-tournament-2003.html">UT2003</a> :: <a href="actor.html">Actor</a> &gt;&gt; <a href="xemitter.html">xEmitter</a> (Package: Engine)<br></div>
<p>The xEmitter class is one of several <a href="particle-system.html">Particle System</a>s in UT2003 and later. To make them animate in <a href="realtime-preview.html">realtime preview</a>, edit a variable (then change it back)</p>
<p><em class="em2">Dma:</em> I've found that the best way to test xEmitters is to bind a key to:</p>
<pre class="paraverbatim">     SUMMON MyPack.MyXEmitter</pre><p>and using the command:</p>
<pre class="paraverbatim">     EDITDEFAULT class=MyXEmitter</pre><p>to control the properties for all xEmitters that you will spawn.  This allows you to test the results without exiting the game.</p>
<p>The Display &rarr; Skin property sets the texture of the emitter. (Do these only emit sprites? How lame!) Display </p>
<h2><a name="0.1"></a>Properties </h2>
<h3><a name="0.1.1"></a>Main</h3>
<h4><a name="0.1.1.1"></a>Force</h4>
<dl><dt>bool bForceAffected</dt><dd>This causes the particles to be affected by passing objects (including players). This only has an effect with highest physics details.</dd></dl>
<h4><a name="0.1.1.2"></a>Pclbeam - Particle Beam Properties </h4>
<p>These are used if <em class="em2">mSpawningType</em> is <em class="em2">PT_Beam</em>.</p>
<dl><dt>float mBendStrength</dt><dd></dd><dt>float mWaveAmplitude</dt><dd></dd><dt>float mWaveFrequency</dt><dd></dd><dt>bool mWaveLockEnd</dt><dd></dd><dt>float mWaveShift</dt><dd></dd></dl>
<h4><a name="0.1.1.3"></a>Pclemitter - General Particle Emitter Properties </h4>
<dl><dt>bool bSuspendWhenNotVisible</dt><dd>Suspends emission of particles if the xEmitter is not visible. Useful for level optimization.</dd><dt>float mLifeRange[2]</dt><dd>The particles will live for a random duration that falls between these two values.</dd><dt>float mDelayRange[2]</dt><dd>Emission of particles will be delayed by a random duration that falls between these two values. </dd><dt>float mRegenRange[2]</dt><dd>The xEmitter regeneration cycles on and off for durations controlled by the following two variables:</dd><dt>float mRegenOnTime[2]</dt><dd>Emission ON cycle lasts for a random duration that falls between these two values.</dd><dt>float mRegenOffTime[2]</dt><dd>Emission OFF cycle lasts for a random duration that falls between these two values.  </dd><dt>Name mChildName</dt><dd>The Tag to give to child particles (or name? needs checking)</dd><dt>int mMaxParticles</dt><dd>Sets a limit on the number of particles emitted (please clarify!).</dd><dt>bool mRegen</dt><dd>Enables or disables regeneration. Note: changing this in UnrealEd somehow breaks the real time preview of the effect, and if you still want to see it in the editor you might have to re-create your emitter from scratch. IIRC Checker from DE pointed that out.</dd><dt>enum mParticleType</dt><dd>Sets the type of particle to emit:<dl><dt>PT_Sprite</dt><dd></dd><dt>PT_Stream</dt><dd></dd><dt>PT_Line</dt><dd></dd><dt>PT_Disc</dt><dd></dd><dt>PT_Mesh</dt><dd></dd><dt>PT_Branch</dt><dd></dd><dt>PT_Beam</dt><dd></dd></dl>
</dd><dt>float mRegenDist</dt><dd></dd><dt>bool mRegenPause</dt><dd>Effectively pauses emitter regeneration.  It remains ready for use but does not emit anything.  Existing particles are unaffected.</dd><dt>Name mSourceActor</dt><dd></dd><dt>ExSpawningTypes mSpawningType</dt><dd>Describes the manner in which particles are spawned.<dl><dt>ST_Sphere</dt><dd></dd><dt>ST_Line</dt><dd>Particles make a line. No idea what determines its length and direction though.</dd><dt>ST_Disc</dt><dd></dd><dt>ST_Cylinder</dt><dd></dd><dt>ST_AimedSphere</dt><dd></dd><dt>ST_StaticMesh</dt><dd></dd><dt>ST_Explode</dt><dd></dd><dt>ST_ExplodeRing</dt><dd></dd><dt>ST_OwnerSkeleton</dt><dd></dd><dt>ST_Test</dt><dd></dd></dl>
</dd><dt>StaticMeshActor SourceStaticMesh</dt><dd></dd></dl>
<h4><a name="0.1.1.4"></a>Pclmovement - Particle Movement Properties</h4>
<dl><dt>float mSpinRange[2]</dt><dd>The particles will have a random spin between the two values. Useful to have a slowly rotating snowflake or to make particles look more chaotic.</dd><dt>float mSpeedRange[2]</dt><dd>The particles will have a random scalar speed somewhere between these two values.  The direction is determined by the rotation of the xEmitter, its dirDev, and its physics/owner (see PHYS_Trailer).</dd><dt>float mMassRange[2]</dt><dd>The particles will have a random "mass" somewhere between these two values.  This determines the effect that gravity has on the particles.  In fact, negative values make the particles float upwards.  This basically controls the gravity.</dd><dt>float mAirResistance</dt><dd>Sets the effect that air resistance has on the particles.</dd><dt>float mAttraction</dt><dd>Attractive force between particles  </dd><dt>float mColElasticity</dt><dd>Bounciness of particle collision. (0-1)</dd><dt>bool mCollision</dt><dd>Enables collision for particles</dd><dt>bool mColMakeSound</dt><dd>? Enables the CollisionSound notification event. ?</dd><dt>vector mDirDev</dt><dd>Possible range of deviation in direction from the spawn location.</dd><dt>float mOwnerVelocityFactor</dt><dd>The owner's velocity is added to the particle velocity after being scaled by mOwnerVelocityFactor.</dd><dt>vector mPosDev</dt><dd>Possible range of deviation from the spawn location.</dd><dt>bool mPosRelative</dt><dd>Position is relative to the emitter, if the emitter moves, the particles move. (?? cursory experience with spheres/trailers someone else is welcome to verify). </dd><dt>vector mSpawnVecA</dt><dd></dd><dt>vector mSpawnVecB</dt><dd></dd></dl>
<h4><a name="0.1.1.5"></a>Pclsoftbody</h4>
<dl><dt>float springD</dt><dd></dd><dt>float springK</dt><dd></dd><dt>float springMaxCompress</dt><dd></dd><dt>float springMaxStretch</dt><dd></dd></dl>
<h4><a name="0.1.1.6"></a>Pclvisuals - Visual Particle Properties</h4>
<dl><dt>color mColorRange[2]</dt><dd></dd><dt>StaticMesh mMeshNodes[8]</dt><dd>if using meshes as particle nodes  </dd><dt>float mSizeRange[2]</dt><dd></dd><dt>EAttenFunc mAttenFunc</dt><dd>Attenuation function.</dd><dt>float mAttenKa</dt><dd>Attenuation constant A.</dd><dt>float mAttenKb</dt><dd>Attenuation constant B.</dd><dt>bool mAttenuate</dt><dd>Enable particle attenuation.</dd><dt>bool mDistanceAtten</dt><dd></dd><dt>float mGrowthRate</dt><dd>The rate at which the particles grow during their life. Think of a fountain/starburst, start with a small size, and add a high growth rate for the right effect.</dd><dt>Texture mLifeColorMap</dt><dd></dd><dt>int mNumTileColumns</dt><dd>The number of Columns in the texture.</dd><dt>int mNumTileRows</dt><dd>The number of Rows in the texture. </dd><dt>Texture mPosColorMapXY</dt><dd></dd><dt>Texture mPosColorMapXZ</dt><dd></dd><dt>bool mRandMeshes</dt><dd></dd><dt>bool mRandOrient</dt><dd>Orients each object randomly. i.e. _\|/_</dd><dt>bool mRandTextures</dt><dd>Choose a random texture for each instance of this emitter  </dd><dt>bool mTileAnimation</dt><dd>Animate the particle from the set of tiles throughout life  </dd><dt>bool mUseMeshNodes</dt><dd></dd></dl>
<h3><a name="0.1.2"></a>Hidden</h3>
<dl><dt>bool bCallPreSpawn</dt><dd>Call the PreSpawned event.</dd><dt>bool blockOnNet</dt><dd></dd><dt>int Expire</dt><dd></dd><dt>int mAtLeastOneFrame</dt><dd></dd><dt>Box mBounds</dt><dd></dd><dt>int mbSpinningNodes</dt><dd></dd><dt>xEmitter mChildEmitter</dt><dd></dd><dt>vector mDir</dt><dd></dd><dt>int mHeadIndex</dt><dd></dd><dt>float mInvTileCols</dt><dd></dd><dt>vector mLastPos</dt><dd></dd><dt>vector mLastVector</dt><dd></dd><dt>int mNumActivePcl</dt><dd></dd><dt>int mNumSprings</dt><dd></dd><dt>int mNumUpdates</dt><dd></dd><dt>int mpAttenFunc</dt><dd></dd><dt>float mPauseTimer</dt><dd></dd><dt>pointer mpIterator</dt><dd></dd><dt>pointer mpParticles</dt><dd>ptr to tarray  </dd><dt>pointer mpSprings</dt><dd>ptr to Spring class  </dd><dt>float mRegenBias</dt><dd></dd><dt>float mRegenTimer</dt><dd></dd><dt>int mRenderableVerts</dt><dd></dd><dt>plane mSphere</dt><dd></dd><dt>float mT</dt><dd>delta  </dd><dt>float mTexU</dt><dd></dd><dt>float mTexV</dt><dd></dd><dt>float mTime</dt><dd></dd><dt>float mTotalTiles</dt><dd></dd><dt>float mWavePhaseA</dt><dd></dd><dt>float mWavePhaseB</dt><dd></dd><dt>int SystemHandle</dt><dd></dd></dl>
<h2><a name="0.2"></a>Enums</h2>
<h3><a name="0.2.1"></a>EAttenFunc</h3>
<p>These functions work using <em class="em2">mAttenKa</em> and <em class="em2">mAttenKb</em>.</p>
<dl><dt>ATF_LerpInOut</dt><dd>Linearly interpolates in and out according to the following formula: (please verify, just a guess) <pre class="paraverbatim"> x(t) = mAttenKa + t(mAttenKb - mAttenka)</pre></dd><dt>ATF_ExpInOut</dt><dd></dd><dt>ATF_SmoothStep</dt><dd></dd><dt>ATF_Pulse</dt><dd></dd><dt>ATF_Random</dt><dd></dd><dt>ATF_None</dt><dd></dd></dl>
<h2><a name="0.3"></a>Events</h2>
<dl><dt>PreSpawned()</dt><dd>Called if bCallPreSpawn is true.  Used for detail level stuff, among other things.</dd><dt>CollisionSound()</dt><dd>I suppose that this is called if mColMakeSound is true.</dd></dl>
<h2><a name="0.4"></a>Links </h2>
<ul><li><a href="http://www.unrealops.com/modules.php?op=modload&name=Reviews&file=index&req=showcontent&id=23">http://www.unrealops.com/modules.php?op=modload&name=Reviews&file=index&req=showcontent&id=23</a></li>
</ul>
<h2><a name="0.5"></a>Discussion</h2>
<h3><a name="0.5.1"></a>xEmitters and Glass </h3>
<p>xEmitters seem to have problems with visibility through glass. It appears that the xEmitter will display through <em class="em1">one</em> translucent surface, but not through two. </p>
<p>In other words, a sheet would be fine (having only one face), but a box (having a bottom <em class="em1">and</em> a top face) would block its visiblity. (does this hold with other types of see-through surfaces like grates, or do these all count as the same sort of thing in UT2k3 anyway?)</p>
<p><em class="em2">GRAF1K:</em> Assuming you're talking about masked sheets when you say grates, I Don't Know&trade;. <img alt=";-)" src="emoticons/wink.gif" align="middle"> But, I'm 99.9% sure that masked sheets are treated as merely selectively translucent surfaces, making it the same.</p>
<p><em class="em2">Foxpaw:</em> I tried this in an attempt to answer your question, and found that I couldn't hide the xemitter no matter what I did. I made an x-shaped map with an xemitter in each leg, then isolated one with a sheet, one with double sheets, and one with a box (not sealed) and one with a box. (sealed off to form it's own zone) All the "blocking" things had a smoke texture with an alpha channel on it so I could see through it. In my experiment, the xemitters were visible behind all of the blocking devices.</p>
<p>Having said that, I suspect that the issue of the visibility is actually due to the "line of sight" being blocked, and not due to the actual number of faces between the two objets. A sheet doesnt block anything, so you could see it through the sheet, but a box blocks your line of sight, thus blocking the xemitter. Or at least, that's what I would think.</p>
<p><em class="em2">RDGDanClark:</em> I think it has something to do with a property setting somewhere in the xEmitter. I pulled up CTF-ComArray, and if you're familiar with that map, it uses xEmitters under the superstructure much the same way I tried to do with my map. On ComArray, you can see the xEmitter through everything; glass, grates, any texture with an alpha channel. I copied/pasted the xEmitter into my map and it worked fine through my glass floors. I'll start playing around with all the settings and post what I find.</p>
<h3><a name="0.5.2"></a>General</h3>
<p><em class="em2">AlphaOne:</em> Does bForceAffected actually work? I tried it with the Emitter class (not XEmitter) and nothing happens.</p>
<p><em class="em2">AlexAC:</em> on the subj of bForceAffected it does work a little on norm emitters, well they are affected by redemer shots, and xemitters react darn well to rockets, players and stuff i assume the setting is also bForceAffected.</p>
<p><em class="em2">Karp:</em> Is there anybody able to complete this list?</p>
<p><em class="em2">Tarquin:</em> Well... someone (not me, I'm too much of a grouch) could ask Rachel to come and help us on this page, maybe import some of what she wrote on UnrealOps. Or we could see what the UDN says, and write up the properties we've found there. Or we could each pick one property, play with it in UEd and try to work out what effect it has &amp; write it up here. All three would be good <img alt=":)" src="emoticons/smile.gif" align="middle"></p>
<p><em class="em2">Bob_The_Beheader:</em> Dumb question...I guess... but what is the difference between the xEmitter and the Emitter classes?</p>
<p><em class="em2">Tarquin:</em> see <a href="particle-system.html">Particle System</a>.</p>
<hr class="thin"><p><a href="category-class-ut2003.html">Category Class (UT2003)</a></p>
<p><a href="category-class-ut2004.html">Category Class (UT2004)</a></p>
<script type="text/javascript"><!--
 menuItemAdd("Properties ", "#0.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Main", "#0.1.1");
menuItemAdd("<tt>&nbsp;&nbsp;&nbsp;&nbsp;</tt>Force", "#0.1.1.1");
menuItemAdd("<tt>&nbsp;&nbsp;&nbsp;&nbsp;</tt>Pclbeam - Particle Beam Properties ", "#0.1.1.2");
menuItemAdd("<tt>&nbsp;&nbsp;&nbsp;&nbsp;</tt>Pclemitter - General Particle Emitter Properties ", "#0.1.1.3");
menuItemAdd("<tt>&nbsp;&nbsp;&nbsp;&nbsp;</tt>Pclmovement - Particle Movement Properties", "#0.1.1.4");
menuItemAdd("<tt>&nbsp;&nbsp;&nbsp;&nbsp;</tt>Pclsoftbody", "#0.1.1.5");
menuItemAdd("<tt>&nbsp;&nbsp;&nbsp;&nbsp;</tt>Pclvisuals - Visual Particle Properties", "#0.1.1.6");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Hidden", "#0.1.2");
menuItemAdd("Enums", "#0.2");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>EAttenFunc", "#0.2.1");
menuItemAdd("Events", "#0.3");
menuItemAdd("Links ", "#0.4");
menuItemAdd("Discussion", "#0.5");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>xEmitters and Glass ", "#0.5.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>General", "#0.5.2");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p><form method="post" action="http://wiki.beyondunreal.com/wiki" enctype="application/x-www-form-urlencoded">
<a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a><br>
Last edited November 21, 2005 14:29 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=XEmitter">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/XEmitter">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>
</form>
	</p>
	<p>Always snap to grid
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="../index.html"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>


<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
