<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: PlayInfo</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=PlayInfo; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<input type="text" name="search"  size="14" /> <input type="button" onclick="location.href='../search-error/index.html';" value="search" />
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="http://wiki.beyondunreal.com/wiki?back=PlayInfo">PlayInfo</a></h1>
	<div class="wiki"><div class="classpath"><img src="shared//gameicons/icon-ut2003.png"> <a href="unreal-tournament-2003.html">UT2003</a> :: <a href="object.html">Object</a> &gt;&gt; PlayInfo (Package: Engine)<br></div>
<p>Collects information about <a href="info.html">Info</a> classes for the web admin interface.</p>
<p><a href="gameinfo.html">GameInfo</a>, <a href="gamereplicationinfo.html">GameReplicationInfo</a>, <a href="accesscontrol.html">AccessControl</a> and all loaded <a href="mutator.html">Mutator</a> classes get the opportunity to add their user-editable properties to the PlayInfo object.  The web admin interface displays all those properties and allows users to modify them interactively.</p>
<table class="paratable-border" border=0 cellspacing=0 cellpadding=0><tr valign=top><td><em class="em2">Class</em></td>
<td><em class="em2">Function</em></td>
</tr>
<tr valign=top><td><a href="gameinfo.html">GameInfo</a></td>
<td>FillPlayInfo <em class="em1">(static)</em></td>
</tr>
<tr valign=top><td><a href="gamereplicationinfo.html">GameReplicationInfo</a></td>
<td>FillPlayInfo <em class="em1">(static)</em></td>
</tr>
<tr valign=top><td><a href="accesscontrol.html">AccessControl</a></td>
<td>FillPlayInfo <em class="em1">(static)</em></td>
</tr>
<tr valign=top><td><a href="mutator.html">Mutator</a></td>
<td>MutatorFillPlayInfo</td>
</tr>
</table>
<p>The implementation of MutatorFillPlayInfo in <a href="mutator.html">Mutator</a> was a little buggy in earlier versions of UT2003, so the mutator configuration options aren't registered reliably for the web admin interface. In version 2186 and later this has been fixed and you can implement it like in one of the following examples</p>
<p>Either directly overwrite MutatorFillPlayInfo...</p>
<pre class="uscript"><span class="uscript-keyword">function</span> MutatorFillPlayInfo<span class="uscript-operator">(</span>PlayInfo PlayInfo<span class="uscript-operator">)</span>
<span class="uscript-operator">{</span>
    <span class="uscript-comment">// add current class to stack</span>
    PlayInfo<span class="uscript-operator">.</span>AddClass<span class="uscript-operator">(</span><span class="uscript-keyword">Class</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>

    <span class="uscript-comment">// now register any mutator settings</span>
    PlayInfo<span class="uscript-operator">.</span>AddSetting<span class="uscript-operator">(</span><span class="uscript-string">"Mutators"</span><span class="uscript-operator">,</span> <span class="uscript-string">"bMyFirstSetting"</span><span class="uscript-operator">,</span>  <span class="uscript-string">"First mutator setting"</span><span class="uscript-operator">,</span>  <span class="uscript-number">0</span><span class="uscript-operator">,</span> <span class="uscript-number">0</span><span class="uscript-operator">,</span> <span class="uscript-string">"Check"</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
    PlayInfo<span class="uscript-operator">.</span>AddSetting<span class="uscript-operator">(</span><span class="uscript-string">"Mutators"</span><span class="uscript-operator">,</span> <span class="uscript-string">"bMySecondSetting"</span><span class="uscript-operator">,</span> <span class="uscript-string">"Second mutator setting"</span><span class="uscript-operator">,</span> <span class="uscript-number">0</span><span class="uscript-operator">,</span> <span class="uscript-number">0</span><span class="uscript-operator">,</span> <span class="uscript-string">"Check"</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>

    <span class="uscript-comment">// remove mutator class from class stack</span>
    PlayInfo<span class="uscript-operator">.</span>PopClass<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>

    <span class="uscript-comment">// call default implementation</span>
    <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>NextMutator <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
        NextMutator<span class="uscript-operator">.</span>MutatorFillPlayInfo<span class="uscript-operator">(</span>PlayInfo<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-operator">}</span></pre><p>...or FillPlayInfo.</p>
<pre class="uscript"><span class="uscript-keyword">static</span> <span class="uscript-keyword">function</span> FillPlayInfo<span class="uscript-operator">(</span>PlayInfo PlayInfo<span class="uscript-operator">)</span>
<span class="uscript-operator">{</span>
    <span class="uscript-comment">// call superclass implementation, which adds the mutator class to the stack</span>
    <span class="uscript-keyword">Super</span><span class="uscript-operator">.</span>FillPlayInfo<span class="uscript-operator">(</span>PlayInfo<span class="uscript-operator">)</span><span class="uscript-operator">;</span>

    <span class="uscript-comment">// now register any mutator settings</span>
    PlayInfo<span class="uscript-operator">.</span>AddSetting<span class="uscript-operator">(</span><span class="uscript-string">"Mutators"</span><span class="uscript-operator">,</span> <span class="uscript-string">"bMyFirstSetting"</span><span class="uscript-operator">,</span>  <span class="uscript-string">"First mutator setting"</span><span class="uscript-operator">,</span>  <span class="uscript-number">0</span><span class="uscript-operator">,</span> <span class="uscript-number">0</span><span class="uscript-operator">,</span> <span class="uscript-string">"Check"</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
    PlayInfo<span class="uscript-operator">.</span>AddSetting<span class="uscript-operator">(</span><span class="uscript-string">"Mutators"</span><span class="uscript-operator">,</span> <span class="uscript-string">"bMySecondSetting"</span><span class="uscript-operator">,</span> <span class="uscript-string">"Second mutator setting"</span><span class="uscript-operator">,</span> <span class="uscript-number">0</span><span class="uscript-operator">,</span> <span class="uscript-number">0</span><span class="uscript-operator">,</span> <span class="uscript-string">"Check"</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>

    <span class="uscript-comment">// remove mutator class from class stack</span>
    PlayInfo<span class="uscript-operator">.</span>PopClass<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-operator">}</span></pre><h2><a name="0.1"></a>Properties</h2>
<dl><dt>array&lt;PlayInfoData&gt; Settings (const)</dt><dd></dd><dt>array&lt;class&lt;<a href="info.html">Info</a>&gt; &gt; InfoClasses (const)</dt><dd></dd><dt>array&lt;int&gt; ClassStack (const)</dt><dd></dd><dt>array&lt;string&gt; Groups (const)</dt><dd></dd><dt>string LastError (const)</dt><dd></dd></dl>
<h2><a name="0.2"></a>Structs</h2>
<h3><a name="0.2.1"></a>PlayInfoData</h3>
<pre class="uscript"><span class="uscript-keyword">struct</span> PlayInfoData
<span class="uscript-operator">{</span>
    <span class="uscript-keyword">var</span> <span class="uscript-keyword">const</span> Property    ThisProp<span class="uscript-operator">;</span>    <span class="uscript-comment">// Pointer to property</span>
    <span class="uscript-keyword">var</span> <span class="uscript-keyword">const</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>Info<span class="uscript-operator">&gt;</span> ClassFrom<span class="uscript-operator">;</span>   <span class="uscript-comment">// Which class was this Property from</span>
    <span class="uscript-keyword">var</span> <span class="uscript-keyword">const</span> <span class="uscript-type">string</span>      SettingName<span class="uscript-operator">;</span> <span class="uscript-comment">// Name of the class member</span>
    <span class="uscript-keyword">var</span> <span class="uscript-keyword">const</span> <span class="uscript-type">string</span>      DisplayName<span class="uscript-operator">;</span> <span class="uscript-comment">// Display Name of the control (from .INT/.INI File ?)</span>
    <span class="uscript-keyword">var</span> <span class="uscript-keyword">const</span> <span class="uscript-type">string</span>      RenderType<span class="uscript-operator">;</span>  <span class="uscript-comment">// Type of rendered control</span>
    <span class="uscript-keyword">var</span> <span class="uscript-keyword">const</span> <span class="uscript-type">string</span>      Grouping<span class="uscript-operator">;</span>    <span class="uscript-comment">// Grouping for this parameter</span>
    <span class="uscript-keyword">var</span> <span class="uscript-keyword">const</span> <span class="uscript-type">string</span>      Data<span class="uscript-operator">;</span>        <span class="uscript-comment">// Extra Data (like Gore Level Texts)</span>
    <span class="uscript-keyword">var</span> <span class="uscript-keyword">const</span> <span class="uscript-type">string</span>      ExtraPriv<span class="uscript-operator">;</span>   <span class="uscript-comment">// Extra Privileges Required to set this parameter</span>
    <span class="uscript-keyword">var</span> <span class="uscript-keyword">const</span> <span class="uscript-type">byte</span>        SecLevel<span class="uscript-operator">;</span>    <span class="uscript-comment">// Sec Level Required to set this param. (Read from Ini file afterwards)</span>
    <span class="uscript-keyword">var</span> <span class="uscript-keyword">const</span> <span class="uscript-type">byte</span>        Weight<span class="uscript-operator">;</span>      <span class="uscript-comment">// Importance of the setting compared to others in its group</span>
    <span class="uscript-keyword">var</span> <span class="uscript-keyword">const</span> <span class="uscript-type">bool</span>        bGlobal<span class="uscript-operator">;</span>     <span class="uscript-comment">// GlobalConfig Property ? (Set by native function)</span>
    <span class="uscript-keyword">var</span> <span class="uscript-keyword">const</span> <span class="uscript-type">string</span>      Value<span class="uscript-operator">;</span>       <span class="uscript-comment">// Value of the setting</span>
<span class="uscript-operator">}</span><span class="uscript-operator">;</span></pre><h2><a name="0.3"></a>Methods</h2>
<p>All PlayInfo methods are native and final with the exception of Init() which is only final.</p>
<dl><dt>Clear()</dt><dd>Clears the <code>Settings</code> array.</dd><dt>AddClass(class&lt;<a href="info.html">Info</a>&gt; Class)</dt><dd>Prepares the PlayInfo object for subsequent AddSetting calls relating to the given class.</dd><dt>PopClass()</dt><dd>Removes the last class added to the class stack with the AddClass method, thus returning to the previously added class.</dd><dt>AddSetting(string Group, string PropertyName, string Description, byte SecLevel, byte Weight, string RenderType, optional string Extras, optional string ExtraPrivs)</dt><dd>Validates the given data and adds an entry to the <code>Settings</code> array.  The given PropertyName must correspond to an <em class="em2">existing config variable</em> in the current class.  (Existing entries can be changed with the StoreSetting function.)</dd><dt>bool SaveSettings()</dt><dd>Saves stored settings to an .ini file.</dd><dt>bool StoreSetting(int index, coerce string NewVal, optional string RangeData)</dt><dd>Validates the given data and sets an element of the <code>Settings</code> array.</dd><dt>int FindIndex(string SettingName)</dt><dd>Returns an index into the <code>Settings</code> array corresponding to the given property name.</dd><dt>SplitStringToArray(out array&lt;string&gt; AStr, string Str, string Divider)</dt><dd>Splits the given string into an array of elements that were separated by the given divider substring (for instance, a comma).</dd><dt>Init()</dt><dd>Prints a list of all currently stored settings to the log.</dd></dl>
<h2><a name="0.4"></a>RenderType</h2>
<p>This is an explaination of the render types. Render types tell WebAdmin which HTML widget to display for the variable.</p>
<dl><dt>Check</dt><dd>Checkbox. This is associated with variable with a boolean type. Whether it's checked, or not, is based on the value of the variable.</dd><dt>Text</dt><dd><p>Input field used for strings and numeric data. This render type can use the optional <em class="em2">Extras</em> parameter in <em class="em2">AddSetting</em> to determine the length of the field, and for the valid value range. </p>
<pre class="uscript"><span class="uscript-string">"Length;Min Value:Max Value"</span> <span class="uscript-comment">// for numerics</span>
<span class="uscript-string">"Length"</span> <span class="uscript-comment">// for alphanumerics</span></pre><p>For example, "3;0:200" would create an input field of length 3 and only accept values between 0 and 200. Values outside the range will default to closest minimum or maximum value.</p>
<p>For alphanumeric fields you can specify a maximum length or leave this out completely, which will most likely make the imput field too small.</p>
</dd><dt>Select</dt><dd><p>Drop down select box: This render type requires the optional <em class="em2">Extras</em> parameter in <em class="em2">AddSetting</em> for the selection list. The parameter is structured as follows:</p>
<pre class="uscript"><span class="uscript-string">"Value1;Text1;Value2;Text2; ... ValueN;TextN"</span></pre><p>For example, if I had three items with unique ids the parameter might look like this.</p>
<pre class="uscript"><span class="uscript-string">"0;Unreal Rifle Sound;1;UT Rifle Sound;2;Lightning Gun Sound"</span></pre><p>The value of the variable will determine which item is selected as the default.</p>
</dd></dl>
<hr class="thin"><p><a href="category-class-ut2003.html">Category Class (UT2003)</a></p>
<p><a href="category-class-ut2004.html">Category Class (UT2004)</a></p>
<script type="text/javascript"><!--
 menuItemAdd("Properties", "#0.1");
menuItemAdd("Structs", "#0.2");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>PlayInfoData", "#0.2.1");
menuItemAdd("Methods", "#0.3");
menuItemAdd("RenderType", "#0.4");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p>
<a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a><br>
Last edited January 3, 2006 19:15 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=PlayInfo">(diff)</a><br>Search: <input type="text" name="search"  size="14" /><input type="button" onclick="location.href='../search-error/index.html';" value="search" /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/PlayInfo">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>

	</p>
	<p>My program doesn't have bugs. It just develops random features.
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="../index.html"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>


<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
