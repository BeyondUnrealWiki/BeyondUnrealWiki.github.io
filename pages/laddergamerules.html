<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: LadderGameRules</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=LadderGameRules; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<input type="text" name="search"  size="14" /> <input type="button" onclick="location.href='../search-error/index.html';" value="search" />
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="http://wiki.beyondunreal.com/wiki?back=LadderGameRules">LadderGameRules</a></h1>
	<div class="wiki"><div class="classpath"><img src="shared//gameicons/icon-ut2003.png"> <a href="unreal-tournament-2003.html">UT2003</a> :: <a href="object.html">Object</a> &gt;&gt; <a href="actor.html">Actor</a> &gt;&gt; <a href="info.html">Info</a> &gt;&gt; <a href="gamerules.html">GameRules</a> &gt;&gt; LadderGameRules (<a href="ladder1-46.html">Ladder1.46</a>)<br></div>
<pre class="uscript"><span class="uscript-line">00001</span>  <span class="uscript-comment">//-----------------------------------------------------------</span>
<span class="uscript-line">00002</span>  <span class="uscript-comment">// Ladder.LadderGameRules</span>
<span class="uscript-line">00003</span>  <span class="uscript-comment">//</span>
<span class="uscript-line">00004</span>  <span class="uscript-comment">// Class responsible for maintenance of all profiles</span>
<span class="uscript-line">00005</span>  <span class="uscript-comment">//</span>
<span class="uscript-line">00006</span>  <span class="uscript-comment">// Handles all interface between game &amp; profiles</span>
<span class="uscript-line">00007</span>  <span class="uscript-comment">// Handles all interaction from webadmin interface &amp; adminmenu interface</span>
<span class="uscript-line">00008</span>  <span class="uscript-comment">//-----------------------------------------------------------</span>
<span class="uscript-line">00009</span>  
<span class="uscript-line">00010</span>  <span class="uscript-keyword">class</span> LadderGameRules <span class="uscript-keyword">extends</span> GameRules
<span class="uscript-line">00011</span>      <span class="uscript-keyword">config</span><span class="uscript-operator">;</span>
<span class="uscript-line">00012</span>  
<span class="uscript-line">00013</span>  <span class="uscript-keyword">const</span> LOGNAME   <span class="uscript-operator">=</span> <span class="uscript-name">'LadderGameRules'</span><span class="uscript-operator">;</span>
<span class="uscript-line">00014</span>  
<span class="uscript-line">00015</span>  <span class="uscript-comment">// Handles all ServerActors with PlayInfo</span>
<span class="uscript-line">00016</span>  <span class="uscript-keyword">var</span> ConfigMaster                SAManager<span class="uscript-operator">;</span>
<span class="uscript-line">00017</span>  
<span class="uscript-line">00018</span>  <span class="uscript-comment">// Server was shut down before game was finished</span>
<span class="uscript-line">00019</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">config</span> <span class="uscript-type">bool</span>                 bDirtyStart<span class="uscript-operator">;</span>
<span class="uscript-line">00020</span>  
<span class="uscript-line">00021</span>  <span class="uscript-comment">// Profiles</span>
<span class="uscript-line">00022</span>  <span class="uscript-keyword">struct</span> Profile
<span class="uscript-line">00023</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00024</span>      <span class="uscript-keyword">var</span> <span class="uscript-type">string</span>                  ProfileName<span class="uscript-operator">;</span>    <span class="uscript-comment">// Name of Profile</span>
<span class="uscript-line">00025</span>      <span class="uscript-keyword">var</span> <span class="uscript-type">bool</span>                    bActive<span class="uscript-operator">;</span>        <span class="uscript-comment">// This profile is currently in use</span>
<span class="uscript-line">00026</span>      <span class="uscript-keyword">var</span> <span class="uscript-type">bool</span>                    bReload<span class="uscript-operator">;</span>        <span class="uscript-comment">// This profile was the last profile to be used</span>
<span class="uscript-line">00027</span>  <span class="uscript-operator">}</span><span class="uscript-operator">;</span>
<span class="uscript-line">00028</span>  
<span class="uscript-line">00029</span>  <span class="uscript-comment">// Profile Storage</span>
<span class="uscript-line">00030</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">protected</span> <span class="uscript-keyword">config</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span>Profile<span class="uscript-operator">&gt;</span>     Profiles<span class="uscript-operator">;</span>
<span class="uscript-line">00031</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">protected</span> <span class="uscript-keyword">config</span> <span class="uscript-type">int</span>                NumRemainingMatches<span class="uscript-operator">;</span>
<span class="uscript-line">00032</span>  
<span class="uscript-line">00033</span>  <span class="uscript-comment">// Profile Usage Variables</span>
<span class="uscript-line">00034</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span>ProfileConfigSet<span class="uscript-operator">&gt;</span>     LadderProfiles<span class="uscript-operator">;</span>
<span class="uscript-line">00035</span>  <span class="uscript-keyword">var</span> ProfileConfigSet            CurrentProfile<span class="uscript-operator">;</span>         <span class="uscript-comment">// Currently Active Profile</span>
<span class="uscript-line">00036</span>  <span class="uscript-keyword">var</span>         StringArray         AllLadderProfiles<span class="uscript-operator">;</span>      <span class="uscript-comment">// Only used for sorting in switch profiles by name</span>
<span class="uscript-line">00037</span>  <span class="uscript-keyword">var</span>         StringArray         ProfileMaps<span class="uscript-operator">;</span>            <span class="uscript-comment">// Holds maplist for switching server to new profile</span>
<span class="uscript-line">00038</span>  <span class="uscript-keyword">var</span>         <span class="uscript-type">string</span>              ProfileMutators<span class="uscript-operator">;</span>        <span class="uscript-comment">// Holds mutator string for switch server to new profile</span>
<span class="uscript-line">00039</span>  <span class="uscript-keyword">var</span>         <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span>       ProfileActors<span class="uscript-operator">;</span>
<span class="uscript-line">00040</span>  <span class="uscript-keyword">var</span>         <span class="uscript-type">bool</span>                bWaitingToSwitch<span class="uscript-operator">;</span>       <span class="uscript-comment">// Waiting for end of match to switch server to new profile</span>
<span class="uscript-line">00041</span>  <span class="uscript-keyword">var</span>         <span class="uscript-type">int</span>                 Index<span class="uscript-operator">;</span>                  <span class="uscript-comment">// Index of currently active profile</span>
<span class="uscript-line">00042</span>  
<span class="uscript-line">00043</span>  <span class="uscript-keyword">var</span> <span class="uscript-type">string</span>                      LadderProfileClass<span class="uscript-operator">;</span>
<span class="uscript-line">00044</span>  <span class="uscript-keyword">var</span> <span class="uscript-type">string</span>                      DefaultProfileName<span class="uscript-operator">;</span>
<span class="uscript-line">00045</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>ProfileConfigSet<span class="uscript-operator">&gt;</span>     ProfileClass<span class="uscript-operator">;</span>
<span class="uscript-line">00046</span>  
<span class="uscript-line">00047</span>  <span class="uscript-keyword">struct</span> CommandLineParam <span class="uscript-operator">{</span> <span class="uscript-keyword">var</span> <span class="uscript-type">string</span> ParamName<span class="uscript-operator">;</span> <span class="uscript-keyword">var</span> <span class="uscript-type">string</span> Value<span class="uscript-operator">;</span> <span class="uscript-operator">}</span><span class="uscript-operator">;</span>
<span class="uscript-line">00048</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span>CommandLineParam<span class="uscript-operator">&gt;</span> CommandLineOptions<span class="uscript-operator">;</span>
<span class="uscript-line">00049</span>  
<span class="uscript-line">00050</span>  <span class="uscript-comment">// Localization</span>
<span class="uscript-line">00051</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">localized</span> <span class="uscript-type">string</span> ShutdownWhileTemporary<span class="uscript-operator">;</span>
<span class="uscript-line">00052</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">localized</span> <span class="uscript-type">string</span> ShutdownWhilePermanent<span class="uscript-operator">;</span>
<span class="uscript-line">00053</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">localized</span> <span class="uscript-type">string</span> ShutdownWhileWaiting<span class="uscript-operator">;</span>
<span class="uscript-line">00054</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">localized</span> <span class="uscript-type">string</span> ShutdownRemainingMatches<span class="uscript-operator">;</span>
<span class="uscript-line">00055</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">localized</span> <span class="uscript-type">string</span> ShutdownResumingTemporary<span class="uscript-operator">;</span>
<span class="uscript-line">00056</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">localized</span> <span class="uscript-type">string</span> ShutdownResumingPermanent<span class="uscript-operator">;</span>
<span class="uscript-line">00057</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">localized</span> <span class="uscript-type">string</span> ShutdownTrackingCorrupted<span class="uscript-operator">;</span>
<span class="uscript-line">00058</span>  
<span class="uscript-line">00059</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">localized</span> <span class="uscript-type">string</span> EndOfGame<span class="uscript-operator">;</span>
<span class="uscript-line">00060</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">localized</span> <span class="uscript-type">string</span> EndofGameIntercepting<span class="uscript-operator">;</span>
<span class="uscript-line">00061</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">localized</span> <span class="uscript-type">string</span> EndofGameNoRemainingMatches<span class="uscript-operator">;</span>
<span class="uscript-line">00062</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">localized</span> <span class="uscript-type">string</span> OverridingURL<span class="uscript-operator">;</span>
<span class="uscript-line">00063</span>  
<span class="uscript-line">00064</span>  <span class="uscript-comment">// Error Messages</span>
<span class="uscript-line">00065</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">localized</span> <span class="uscript-type">string</span> BadProfileClass<span class="uscript-operator">;</span>
<span class="uscript-line">00066</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">localized</span> <span class="uscript-type">string</span> CannotRemoveActive<span class="uscript-operator">;</span>
<span class="uscript-line">00067</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">localized</span> <span class="uscript-type">string</span> PreviousProfileRemoved<span class="uscript-operator">;</span>
<span class="uscript-line">00068</span>  
<span class="uscript-line">00069</span>  <span class="uscript-comment">// Warning Messages</span>
<span class="uscript-line">00070</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">localized</span> <span class="uscript-type">string</span> EmptyMaplist<span class="uscript-operator">;</span>
<span class="uscript-line">00071</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">localized</span> <span class="uscript-type">string</span> InvalidMaplist<span class="uscript-operator">;</span>
<span class="uscript-line">00072</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">localized</span> <span class="uscript-type">string</span> CancellingProfile<span class="uscript-operator">;</span>
<span class="uscript-line">00073</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">localized</span> <span class="uscript-type">string</span> BadIndex<span class="uscript-operator">;</span>
<span class="uscript-line">00074</span>  
<span class="uscript-line">00075</span>  <span class="uscript-comment">// Turns out there is a bug with the 2166 (and probably earlier) version</span>
<span class="uscript-line">00076</span>  <span class="uscript-comment">// of the MatchEnded state of DeathMatch:</span>
<span class="uscript-line">00077</span>  <span class="uscript-comment">// Once Level.TimeSeconds &gt; EndTime + RestartWait, MatchEnded.Timer() begins</span>
<span class="uscript-line">00078</span>  <span class="uscript-comment">// calling RestartGame().  This results in RestartGame (and thus GameRules.HandleRestartGame())</span>
<span class="uscript-line">00079</span>  <span class="uscript-comment">// getting called multiple times.</span>
<span class="uscript-line">00080</span>  <span class="uscript-keyword">var</span> <span class="uscript-type">bool</span>                        bRestartCalled<span class="uscript-operator">;</span>
<span class="uscript-line">00081</span>  
<span class="uscript-line">00082</span>  <span class="uscript-comment">//function bool AddTextParam(string ParamName, optional string DefaultValue, optional bool bAddIfNotExists)</span>
<span class="uscript-line">00083</span>  <span class="uscript-comment">//{</span>
<span class="uscript-line">00084</span>  <span class="uscript-comment">//  local int i;</span>
<span class="uscript-line">00085</span>  <span class="uscript-comment">//  local TextParam TmpT;</span>
<span class="uscript-line">00086</span>  
<span class="uscript-line">00087</span>  <span class="uscript-comment">//  for (</span>
<span class="uscript-line">00088</span>  <span class="uscript-comment">//}</span>
<span class="uscript-line">00089</span>  
<span class="uscript-line">00090</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> AddBoolParam<span class="uscript-operator">(</span><span class="uscript-type">string</span> ParamName<span class="uscript-operator">,</span> <span class="uscript-keyword">optional</span> <span class="uscript-type">bool</span> DefaultValue<span class="uscript-operator">,</span> <span class="uscript-keyword">optional</span> <span class="uscript-type">bool</span> bAddIfNotExists<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00091</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> AddSelectParam<span class="uscript-operator">(</span><span class="uscript-type">string</span> ParamName<span class="uscript-operator">,</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> VarOptions<span class="uscript-operator">,</span> <span class="uscript-keyword">optional</span> <span class="uscript-type">bool</span> bAddIfNotExists<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00092</span>  
<span class="uscript-line">00093</span>  <span class="uscript-keyword">event</span> Tick<span class="uscript-operator">(</span><span class="uscript-type">float</span> DeltaTime<span class="uscript-operator">)</span>
<span class="uscript-line">00094</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00095</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Level <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span> <span class="uscript-operator">&amp;&amp;</span> Level<span class="uscript-operator">.</span>NextURL <span class="uscript-operator">!=</span> <span class="uscript-string">""</span><span class="uscript-operator">)</span>
<span class="uscript-line">00096</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00097</span>          bDirtyStart <span class="uscript-operator">=</span> <span class="uscript-keyword">False</span><span class="uscript-operator">;</span>
<span class="uscript-line">00098</span>          SaveConfig<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00099</span>          Disable<span class="uscript-operator">(</span><span class="uscript-name">'Tick'</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00100</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00101</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00102</span>  
<span class="uscript-line">00103</span>  <span class="uscript-keyword">event</span> PreBeginPlay<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00104</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00105</span>      ProfileClass <span class="uscript-operator">=</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>ProfileConfigSet<span class="uscript-operator">&gt;</span><span class="uscript-operator">(</span>DynamicLoadObject<span class="uscript-operator">(</span>LadderProfileClass<span class="uscript-operator">,</span> <span class="uscript-keyword">class</span><span class="uscript-name">'Class'</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00106</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ProfileClass <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00107</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00108</span>          log<span class="uscript-operator">(</span>BadProfileClass<span class="uscript-operator">@</span><span class="uscript-string">"'"</span><span class="uscript-operator">$</span>LadderProfileClass<span class="uscript-operator">$</span><span class="uscript-string">"'"</span><span class="uscript-operator">,</span>LOGNAME<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00109</span>          Destroy<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00110</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">00111</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00112</span>  
<span class="uscript-line">00113</span>  <span class="uscript-comment">// Initialize String Arrays</span>
<span class="uscript-line">00114</span>      AllLadderProfiles <span class="uscript-operator">=</span> <span class="uscript-keyword">new</span><span class="uscript-operator">(</span><span class="uscript-keyword">None</span><span class="uscript-operator">)</span> <span class="uscript-keyword">class</span><span class="uscript-name">'SortedStringArray'</span><span class="uscript-operator">;</span>
<span class="uscript-line">00115</span>      ProfileMaps <span class="uscript-operator">=</span> <span class="uscript-keyword">new</span><span class="uscript-operator">(</span><span class="uscript-keyword">None</span><span class="uscript-operator">)</span> <span class="uscript-keyword">class</span><span class="uscript-name">'StringArray'</span><span class="uscript-operator">;</span>
<span class="uscript-line">00116</span>      InitializeProfileArray<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00117</span>  
<span class="uscript-line">00118</span>      <span class="uscript-keyword">Super</span><span class="uscript-operator">.</span>PreBeginPlay<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00119</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00120</span>  
<span class="uscript-line">00121</span>  <span class="uscript-keyword">event</span> PostBeginPlay<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00122</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00123</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">,</span> j<span class="uscript-operator">,</span> Matches<span class="uscript-operator">;</span>
<span class="uscript-line">00124</span>  
<span class="uscript-line">00125</span>      i <span class="uscript-operator">=</span> <span class="uscript-number">0</span> <span class="uscript-operator">-</span> <span class="uscript-number">1</span><span class="uscript-operator">;</span>
<span class="uscript-line">00126</span>      j <span class="uscript-operator">=</span> <span class="uscript-number">0</span> <span class="uscript-operator">-</span> <span class="uscript-number">1</span><span class="uscript-operator">;</span>
<span class="uscript-line">00127</span>  
<span class="uscript-line">00128</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Level<span class="uscript-operator">.</span>Game<span class="uscript-operator">.</span>BaseMutator <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span> <span class="uscript-operator">&amp;&amp;</span> ConfigMaster<span class="uscript-operator">(</span>Level<span class="uscript-operator">.</span>Game<span class="uscript-operator">.</span>BaseMutator<span class="uscript-operator">.</span>NextMutator<span class="uscript-operator">)</span> <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00129</span>          SAManager <span class="uscript-operator">=</span> ConfigMaster<span class="uscript-operator">(</span>Level<span class="uscript-operator">.</span>Game<span class="uscript-operator">.</span>BaseMutator<span class="uscript-operator">.</span>NextMutator<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00130</span>      <span class="uscript-keyword">Super</span><span class="uscript-operator">.</span>PostBeginPlay<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00131</span>  
<span class="uscript-line">00132</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>bDirtyStart<span class="uscript-operator">)</span>
<span class="uscript-line">00133</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00134</span>          i <span class="uscript-operator">=</span> FindPreviousProfile<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00135</span>          j <span class="uscript-operator">=</span> FindActiveProfile<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00136</span>          Matches <span class="uscript-operator">=</span> NumRemainingMatches<span class="uscript-operator">;</span>
<span class="uscript-line">00137</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">&gt;=</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span> <span class="uscript-comment">// Found a previous profile</span>
<span class="uscript-line">00138</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00139</span>              <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>j <span class="uscript-operator">&gt;=</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>  <span class="uscript-comment">// Found an active profile</span>
<span class="uscript-line">00140</span>              <span class="uscript-operator">{</span>
<span class="uscript-line">00141</span>                  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span> Matches <span class="uscript-operator">&gt;</span> <span class="uscript-number">0</span> <span class="uscript-operator">)</span>  <span class="uscript-comment">// Temporary profile was active</span>
<span class="uscript-line">00142</span>                  <span class="uscript-operator">{</span>
<span class="uscript-line">00143</span>                      log<span class="uscript-operator">(</span>ShutdownWhileTemporary<span class="uscript-operator">@</span><span class="uscript-string">"'"</span><span class="uscript-operator">$</span>Profiles<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">.</span>ProfileName<span class="uscript-operator">$</span><span class="uscript-string">"'."</span><span class="uscript-operator">,</span>LOGNAME<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00144</span>                      log<span class="uscript-operator">(</span>ShutdownRemainingMatches<span class="uscript-operator">$</span><span class="uscript-string">":"</span><span class="uscript-operator">@</span>NumRemainingMatches<span class="uscript-operator">$</span><span class="uscript-string">"."</span><span class="uscript-operator">@</span>ShutdownResumingTemporary<span class="uscript-operator">,</span>LOGNAME<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00145</span>                      ApplyProfile<span class="uscript-operator">(</span> j<span class="uscript-operator">,</span> Matches <span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00146</span>                  <span class="uscript-operator">}</span>
<span class="uscript-line">00147</span>  
<span class="uscript-line">00148</span>                  <span class="uscript-keyword">else</span>
<span class="uscript-line">00149</span>                  <span class="uscript-operator">{</span>
<span class="uscript-line">00150</span>                      log<span class="uscript-operator">(</span>ShutdownWhileTemporary<span class="uscript-operator">@</span><span class="uscript-string">"'"</span><span class="uscript-operator">$</span>Profiles<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">.</span>ProfileName<span class="uscript-operator">$</span><span class="uscript-string">"'."</span><span class="uscript-operator">,</span>LOGNAME<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00151</span>                      log<span class="uscript-operator">(</span>ShutdownRemainingMatches<span class="uscript-operator">$</span><span class="uscript-string">":"</span><span class="uscript-operator">@</span>NumRemainingMatches<span class="uscript-operator">$</span><span class="uscript-string">"."</span><span class="uscript-operator">@</span>ShutdownResumingPermanent<span class="uscript-operator">@</span><span class="uscript-string">"'"</span><span class="uscript-operator">$</span>Profiles<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>ProfileName<span class="uscript-operator">$</span><span class="uscript-string">"'."</span><span class="uscript-operator">,</span>LOGNAME<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00152</span>                      ApplyProfile<span class="uscript-operator">(</span> i<span class="uscript-operator">,</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00153</span>                  <span class="uscript-operator">}</span>
<span class="uscript-line">00154</span>  
<span class="uscript-line">00155</span>              <span class="uscript-operator">}</span>
<span class="uscript-line">00156</span>              <span class="uscript-keyword">else</span>
<span class="uscript-line">00157</span>              <span class="uscript-operator">{</span>
<span class="uscript-line">00158</span>                  log<span class="uscript-operator">(</span>ShutdownWhileWaiting<span class="uscript-operator">,</span>LOGNAME<span class="uscript-operator">)</span><span class="uscript-operator">;</span>  <span class="uscript-comment">// Shutdown while waiting to apply temporary profile - cancel</span>
<span class="uscript-line">00159</span>                  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span> Matches <span class="uscript-operator">&gt;</span> <span class="uscript-number">0</span> <span class="uscript-operator">)</span>
<span class="uscript-line">00160</span>                  <span class="uscript-operator">{</span>
<span class="uscript-line">00161</span>                      ResetTrackingValues<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00162</span>                      ApplyProfile<span class="uscript-operator">(</span>i<span class="uscript-operator">,</span>Matches<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00163</span>                  <span class="uscript-operator">}</span>
<span class="uscript-line">00164</span>                  <span class="uscript-keyword">else</span>
<span class="uscript-line">00165</span>                  <span class="uscript-operator">{</span>
<span class="uscript-line">00166</span>                      ResetTrackingValues<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00167</span>                      ApplyProfile<span class="uscript-operator">(</span>i<span class="uscript-operator">,</span><span class="uscript-number">0</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00168</span>                  <span class="uscript-operator">}</span>
<span class="uscript-line">00169</span>              <span class="uscript-operator">}</span>
<span class="uscript-line">00170</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00171</span>          <span class="uscript-keyword">else</span> <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>j <span class="uscript-operator">&gt;=</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span> <span class="uscript-comment">// no reload, but found active profile</span>
<span class="uscript-line">00172</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00173</span>              log<span class="uscript-operator">(</span>ShutdownWhilePermanent<span class="uscript-operator">@</span><span class="uscript-string">"'"</span><span class="uscript-operator">$</span>Profiles<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">.</span>ProfileName<span class="uscript-operator">$</span><span class="uscript-string">"'."</span><span class="uscript-operator">@</span>ShutdownResumingPermanent<span class="uscript-operator">@</span><span class="uscript-string">"'"</span><span class="uscript-operator">$</span>Profiles<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">.</span>ProfileName<span class="uscript-operator">$</span><span class="uscript-string">"'."</span><span class="uscript-operator">,</span>LOGNAME<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00174</span>              ApplyProfile<span class="uscript-operator">(</span> j<span class="uscript-operator">,</span> <span class="uscript-number">0</span> <span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00175</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00176</span>  
<span class="uscript-line">00177</span>          <span class="uscript-keyword">else</span> <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Matches <span class="uscript-operator">&gt;</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>   <span class="uscript-comment">// no reload, no active</span>
<span class="uscript-line">00178</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00179</span>              NumRemainingMatches <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">00180</span>              SaveConfig<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00181</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00182</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00183</span>      <span class="uscript-keyword">else</span>
<span class="uscript-line">00184</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00185</span>          bDirtyStart <span class="uscript-operator">=</span> <span class="uscript-keyword">True</span><span class="uscript-operator">;</span>
<span class="uscript-line">00186</span>          SaveConfig<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00187</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00188</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00189</span>  
<span class="uscript-line">00190</span>  <span class="uscript-comment">// Game has ended - even if we want to handle restart, cannot simply</span>
<span class="uscript-line">00191</span>  <span class="uscript-comment">// return True, or GameRulesModifiers later in the list do not recieve</span>
<span class="uscript-line">00192</span>  <span class="uscript-comment">// HandleRestartGame() calls</span>
<span class="uscript-line">00193</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> HandleRestartGame<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00194</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00195</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00196</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">bool</span> bHandleRestart<span class="uscript-operator">;</span>  <span class="uscript-comment">// True if we are handling restart</span>
<span class="uscript-line">00197</span>  
<span class="uscript-line">00198</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>bDirtyStart<span class="uscript-operator">)</span>
<span class="uscript-line">00199</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00200</span>          bDirtyStart <span class="uscript-operator">=</span> <span class="uscript-keyword">False</span><span class="uscript-operator">;</span>
<span class="uscript-line">00201</span>          SaveConfig<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00202</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00203</span>  
<span class="uscript-line">00204</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>Level<span class="uscript-operator">.</span>Game<span class="uscript-operator">.</span>bChangeLevels <span class="uscript-operator">||</span> Level<span class="uscript-operator">.</span>Game<span class="uscript-operator">.</span>bAlreadyChanged<span class="uscript-operator">)</span>
<span class="uscript-line">00205</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">Super</span><span class="uscript-operator">.</span>HandleRestartGame<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00206</span>  
<span class="uscript-line">00207</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>bRestartCalled<span class="uscript-operator">)</span>
<span class="uscript-line">00208</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">Super</span><span class="uscript-operator">.</span>HandleRestartGame<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00209</span>  
<span class="uscript-line">00210</span>      <span class="uscript-keyword">else</span> bRestartCalled <span class="uscript-operator">=</span> <span class="uscript-keyword">True</span><span class="uscript-operator">;</span>
<span class="uscript-line">00211</span>  
<span class="uscript-line">00212</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span> bWaitingToSwitch <span class="uscript-operator">)</span>
<span class="uscript-line">00213</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00214</span>          i <span class="uscript-operator">=</span> FindPreviousProfile<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00215</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">&gt;=</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00216</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00217</span>              log<span class="uscript-operator">(</span>EndOfGame<span class="uscript-operator">,</span>LOGNAME<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00218</span>              log<span class="uscript-operator">(</span>EndofGameIntercepting<span class="uscript-operator">@</span><span class="uscript-string">"'"</span><span class="uscript-operator">$</span>Profiles<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>ProfileName<span class="uscript-operator">$</span><span class="uscript-string">"'."</span><span class="uscript-operator">,</span>LOGNAME<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00219</span>              ApplyProfile<span class="uscript-operator">(</span>i<span class="uscript-operator">,</span>NumRemainingMatches<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00220</span>              bHandleRestart <span class="uscript-operator">=</span> <span class="uscript-keyword">True</span><span class="uscript-operator">;</span>
<span class="uscript-line">00221</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00222</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00223</span>  
<span class="uscript-line">00224</span>      <span class="uscript-keyword">else</span> <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span> NumRemainingMatches <span class="uscript-operator">&gt;</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00225</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00226</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>NumRemainingMatches <span class="uscript-operator">==</span> <span class="uscript-number">1</span><span class="uscript-operator">)</span>
<span class="uscript-line">00227</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00228</span>          <span class="uscript-comment">// Time to switch server to previous profile</span>
<span class="uscript-line">00229</span>              i <span class="uscript-operator">=</span> FindPreviousProfile<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00230</span>              <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">&gt;=</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00231</span>              <span class="uscript-operator">{</span>
<span class="uscript-line">00232</span>                  log<span class="uscript-operator">(</span>EndOfGame<span class="uscript-operator">,</span>LOGNAME<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00233</span>                  log<span class="uscript-operator">(</span>EndOfGameNoRemainingMatches<span class="uscript-operator">,</span>LOGNAME<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00234</span>                  log<span class="uscript-operator">(</span>EndOfGameIntercepting<span class="uscript-operator">@</span><span class="uscript-string">"'"</span><span class="uscript-operator">$</span>Profiles<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>ProfileName<span class="uscript-operator">$</span><span class="uscript-string">"'."</span><span class="uscript-operator">,</span>LOGNAME<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00235</span>                  ApplyProfile<span class="uscript-operator">(</span>i<span class="uscript-operator">,</span><span class="uscript-number">0</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00236</span>                  bHandleRestart <span class="uscript-operator">=</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00237</span>              <span class="uscript-operator">}</span>
<span class="uscript-line">00238</span>              <span class="uscript-keyword">else</span>
<span class="uscript-line">00239</span>              <span class="uscript-operator">{</span>
<span class="uscript-line">00240</span>                  log<span class="uscript-operator">(</span>EndOfGame<span class="uscript-operator">,</span>LOGNAME<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00241</span>                  log<span class="uscript-operator">(</span>PreviousProfileRemoved<span class="uscript-operator">,</span>LOGNAME<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00242</span>              <span class="uscript-operator">}</span>
<span class="uscript-line">00243</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00244</span>  
<span class="uscript-line">00245</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span> <span class="uscript-operator">!</span>bHandleRestart <span class="uscript-operator">)</span>
<span class="uscript-line">00246</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00247</span>              NumRemainingMatches<span class="uscript-operator">--</span><span class="uscript-operator">;</span>
<span class="uscript-line">00248</span>              SaveConfig<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00249</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00250</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00251</span>  
<span class="uscript-line">00252</span>      <span class="uscript-comment">// Returns true if either one is true</span>
<span class="uscript-line">00253</span>      <span class="uscript-keyword">return</span> <span class="uscript-operator">(</span><span class="uscript-keyword">Super</span><span class="uscript-operator">.</span>HandleRestartGame<span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-operator">||</span> bHandleRestart<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00254</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00255</span>  
<span class="uscript-line">00256</span>  <span class="uscript-comment">//#########################################</span>
<span class="uscript-line">00257</span>  <span class="uscript-comment">// Profile Management</span>
<span class="uscript-line">00258</span>  <span class="uscript-comment">//</span>
<span class="uscript-line">00259</span>  
<span class="uscript-line">00260</span>  <span class="uscript-comment">// Applies selected profile immediately</span>
<span class="uscript-line">00261</span>  <span class="uscript-keyword">function</span> ApplyProfile<span class="uscript-operator">(</span><span class="uscript-keyword">coerce</span> <span class="uscript-type">int</span> NewProfileIndex<span class="uscript-operator">,</span> <span class="uscript-type">int</span> NumberOfMatches<span class="uscript-operator">)</span>
<span class="uscript-line">00262</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00263</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> idx<span class="uscript-operator">,</span>i<span class="uscript-operator">,</span>j<span class="uscript-operator">;</span>
<span class="uscript-line">00264</span>      <span class="uscript-keyword">local</span> ProfileConfigSet TempPCS<span class="uscript-operator">;</span>
<span class="uscript-line">00265</span>      <span class="uscript-keyword">local</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> TempArr<span class="uscript-operator">;</span>
<span class="uscript-line">00266</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">string</span> GameType<span class="uscript-operator">,</span>ShortName<span class="uscript-operator">,</span>FirstMap<span class="uscript-operator">,</span>Tmp<span class="uscript-operator">,</span>TmpV<span class="uscript-operator">;</span>
<span class="uscript-line">00267</span>  
<span class="uscript-line">00268</span>      idx <span class="uscript-operator">=</span> ActivateProfile<span class="uscript-operator">(</span>NewProfileIndex<span class="uscript-operator">,</span> NumberOfMatches <span class="uscript-operator">&gt;</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00269</span>  
<span class="uscript-line">00270</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>idx <span class="uscript-operator">&lt;</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00271</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00272</span>          Warn<span class="uscript-operator">(</span>CancellingProfile<span class="uscript-operator">@</span><span class="uscript-string">"'"</span><span class="uscript-operator">$</span>Profiles<span class="uscript-operator">[</span>NewProfileIndex<span class="uscript-operator">]</span><span class="uscript-operator">.</span>ProfileName<span class="uscript-operator">$</span><span class="uscript-string">"'"</span><span class="uscript-operator">@</span><span class="uscript-string">"("</span><span class="uscript-operator">$</span>BadIndex<span class="uscript-operator">$</span><span class="uscript-string">")"</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00273</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ActivateProfile<span class="uscript-operator">(</span>Index<span class="uscript-operator">)</span> <span class="uscript-operator">&lt;</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00274</span>              ResetTrackingValues<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00275</span>  
<span class="uscript-line">00276</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">00277</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00278</span>  
<span class="uscript-line">00279</span>      TempPCS <span class="uscript-operator">=</span> LadderProfiles<span class="uscript-operator">[</span>idx<span class="uscript-operator">]</span><span class="uscript-operator">;</span>
<span class="uscript-line">00280</span>      <span class="uscript-keyword">class</span><span class="uscript-name">'Ladder.CommandLineParams'</span><span class="uscript-operator">.</span><span class="uscript-keyword">default</span><span class="uscript-operator">.</span>bRejectPlayInfo <span class="uscript-operator">=</span> <span class="uscript-keyword">True</span><span class="uscript-operator">;</span>
<span class="uscript-line">00281</span>      TempPCS<span class="uscript-operator">.</span>StartEdit<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00282</span>      GameType <span class="uscript-operator">=</span> <span class="uscript-type">string</span><span class="uscript-operator">(</span>TempPCS<span class="uscript-operator">.</span>GetGameClass<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00283</span>  
<span class="uscript-line">00284</span>  <span class="uscript-comment">// Set the maplist</span>
<span class="uscript-line">00285</span>      ProfileMaps<span class="uscript-operator">.</span>Reset<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00286</span>      TempArr <span class="uscript-operator">=</span> TempPCS<span class="uscript-operator">.</span>GetUsedMaps<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00287</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>TempArr<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">==</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00288</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00289</span>          Warn<span class="uscript-operator">(</span>CancellingProfile<span class="uscript-operator">@</span><span class="uscript-string">"'"</span><span class="uscript-operator">$</span>Profiles<span class="uscript-operator">[</span>idx<span class="uscript-operator">]</span><span class="uscript-operator">.</span>ProfileName<span class="uscript-operator">$</span><span class="uscript-string">"'"</span><span class="uscript-operator">@</span><span class="uscript-string">"("</span><span class="uscript-operator">$</span>EmptyMaplist<span class="uscript-operator">$</span><span class="uscript-string">")"</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00290</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Index <span class="uscript-operator">==</span> idx<span class="uscript-operator">)</span> DeactivateProfile<span class="uscript-operator">(</span>Index<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00291</span>  
<span class="uscript-line">00292</span>          <span class="uscript-keyword">else</span> <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ActivateProfile<span class="uscript-operator">(</span>Index<span class="uscript-operator">,</span> <span class="uscript-keyword">False</span><span class="uscript-operator">)</span> <span class="uscript-operator">&lt;</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00293</span>              ResetTrackingValues<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00294</span>  
<span class="uscript-line">00295</span>          TempPCS<span class="uscript-operator">.</span>EndEdit<span class="uscript-operator">(</span><span class="uscript-keyword">False</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00296</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">00297</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00298</span>  
<span class="uscript-line">00299</span>      NumRemainingMatches <span class="uscript-operator">=</span> NumberOfMatches<span class="uscript-operator">;</span>
<span class="uscript-line">00300</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>TempArr<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00301</span>          ProfileMaps<span class="uscript-operator">.</span>Add<span class="uscript-operator">(</span><span class="uscript-type">string</span><span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">,</span>TempArr<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00302</span>  
<span class="uscript-line">00303</span>      FirstMap <span class="uscript-operator">=</span> ProfileMaps<span class="uscript-operator">.</span>getTag<span class="uscript-operator">(</span><span class="uscript-number">0</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00304</span>      UpdateDefaultMaps<span class="uscript-operator">(</span>GameType<span class="uscript-operator">,</span>ProfileMaps<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00305</span>  <span class="uscript-comment">//log("TempPCS:"$TempPCS@"ConfigManager:"$SAManager,'ApplyProfile');</span>
<span class="uscript-line">00306</span>  <span class="uscript-comment">// Set the mutators</span>
<span class="uscript-line">00307</span>      ProfileMutators <span class="uscript-operator">=</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
<span class="uscript-line">00308</span>      ProfileMutators <span class="uscript-operator">=</span> UpdateMutatorString<span class="uscript-operator">(</span>TempPCS<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00309</span>  
<span class="uscript-line">00310</span>  <span class="uscript-comment">// Set the server actors</span>
<span class="uscript-line">00311</span>      ProfileActors <span class="uscript-operator">=</span> TempPCS<span class="uscript-operator">.</span>GetUsedServerActors<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00312</span>      TempArr <span class="uscript-operator">=</span> SAManager<span class="uscript-operator">.</span>GetAllManagedActors<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00313</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> i <span class="uscript-operator">&lt;</span> TempArr<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00314</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00315</span>          Tmp <span class="uscript-operator">=</span> Left<span class="uscript-operator">(</span>TempArr<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">,</span>InStr<span class="uscript-operator">(</span>TempArr<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">,</span><span class="uscript-string">","</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00316</span>          <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>j <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> j <span class="uscript-operator">&lt;</span> ProfileActors<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span> j<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00317</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00318</span>              <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Tmp <span class="uscript-operator">~=</span> ProfileActors<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">)</span>
<span class="uscript-line">00319</span>                  <span class="uscript-keyword">break</span><span class="uscript-operator">;</span>
<span class="uscript-line">00320</span>  
<span class="uscript-line">00321</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00322</span>  
<span class="uscript-line">00323</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>j <span class="uscript-operator">&lt;</span> ProfileActors<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">)</span>
<span class="uscript-line">00324</span>              EnableManagedActor<span class="uscript-operator">(</span>Tmp<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00325</span>  
<span class="uscript-line">00326</span>          <span class="uscript-keyword">else</span> DisableManagedActor<span class="uscript-operator">(</span>Tmp<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00327</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00328</span>  
<span class="uscript-line">00329</span>  <span class="uscript-comment">// Set the PlayInfo</span>
<span class="uscript-line">00330</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>TempPCS<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00331</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00332</span>          Tmp <span class="uscript-operator">=</span> TempPCS<span class="uscript-operator">.</span>GetProfileParamName<span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00333</span>          TmpV <span class="uscript-operator">=</span> TempPCS<span class="uscript-operator">.</span>GetProfileParam<span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00334</span>          ShortName <span class="uscript-operator">=</span> GetItemName<span class="uscript-operator">(</span>Tmp<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00335</span>  
<span class="uscript-line">00336</span>      <span class="uscript-comment">// If this parameter was specified at the URL,</span>
<span class="uscript-line">00337</span>      <span class="uscript-comment">// make sure to replace it, otherwise the URL value will</span>
<span class="uscript-line">00338</span>      <span class="uscript-comment">// override the profile value</span>
<span class="uscript-line">00339</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>HasURLOption<span class="uscript-operator">(</span>ShortName<span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">00340</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00341</span>              log<span class="uscript-operator">(</span>OverridingURL<span class="uscript-operator">@</span>ShortName<span class="uscript-operator">$</span><span class="uscript-string">"."</span><span class="uscript-operator">,</span>LOGNAME<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00342</span>              UpdateURL<span class="uscript-operator">(</span>ShortName<span class="uscript-operator">,</span> TmpV<span class="uscript-operator">,</span> <span class="uscript-keyword">false</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00343</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00344</span>  
<span class="uscript-line">00345</span>          <span class="uscript-keyword">else</span> <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>TempPCS<span class="uscript-operator">.</span>SetNamedParam<span class="uscript-operator">(</span>Tmp<span class="uscript-operator">,</span> TmpV<span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">00346</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00347</span>              <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>j <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> j <span class="uscript-operator">&lt;</span> CommandLineOptions<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span> j<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00348</span>              <span class="uscript-operator">{</span>
<span class="uscript-line">00349</span>                  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Tmp <span class="uscript-operator">~=</span> CommandLineOptions<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">.</span>ParamName <span class="uscript-operator">&amp;&amp;</span> TmpV <span class="uscript-operator">!=</span> <span class="uscript-string">""</span><span class="uscript-operator">)</span>
<span class="uscript-line">00350</span>                      UpdateURL<span class="uscript-operator">(</span>ShortName<span class="uscript-operator">,</span> TmpV<span class="uscript-operator">,</span> <span class="uscript-keyword">false</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00351</span>              <span class="uscript-operator">}</span>
<span class="uscript-line">00352</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00353</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00354</span>  
<span class="uscript-line">00355</span>      TempPCS<span class="uscript-operator">.</span>SavePI<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00356</span>      TempPCS<span class="uscript-operator">.</span>EndEdit<span class="uscript-operator">(</span><span class="uscript-keyword">False</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00357</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>bDirtyStart<span class="uscript-operator">)</span>
<span class="uscript-line">00358</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00359</span>          bDirtyStart <span class="uscript-operator">=</span> <span class="uscript-keyword">False</span><span class="uscript-operator">;</span>
<span class="uscript-line">00360</span>          SaveConfig<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00361</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00362</span>  
<span class="uscript-line">00363</span>      Level<span class="uscript-operator">.</span>ServerTravel<span class="uscript-operator">(</span>FirstMap<span class="uscript-operator">$</span><span class="uscript-string">"?Game="</span><span class="uscript-operator">$</span>GameType<span class="uscript-operator">$</span><span class="uscript-string">"?Mutator="</span><span class="uscript-operator">$</span>ProfileMutators<span class="uscript-operator">,</span> <span class="uscript-keyword">False</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00364</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00365</span>  
<span class="uscript-line">00366</span>  <span class="uscript-comment">// Applies selected profile at the end of the current match</span>
<span class="uscript-line">00367</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> WaitApplyProfile<span class="uscript-operator">(</span><span class="uscript-keyword">coerce</span> <span class="uscript-type">int</span> NewProfileIndex<span class="uscript-operator">,</span> <span class="uscript-type">int</span> NumberOfMatches<span class="uscript-operator">)</span>
<span class="uscript-line">00368</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00369</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00370</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> CurrentActive<span class="uscript-operator">;</span>
<span class="uscript-line">00371</span>  
<span class="uscript-line">00372</span>      CurrentActive <span class="uscript-operator">=</span> FindActiveProfile<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00373</span>  <span class="uscript-comment">// Check to make sure we aren't attempting to switch to the currently active profile</span>
<span class="uscript-line">00374</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span> NewProfileIndex <span class="uscript-operator">==</span> CurrentActive<span class="uscript-operator">)</span>
<span class="uscript-line">00375</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00376</span>  
<span class="uscript-line">00377</span>  <span class="uscript-comment">// Clean up any other profiles that were supposed to be reloaded</span>
<span class="uscript-line">00378</span>      i <span class="uscript-operator">=</span> FindPreviousProfile<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00379</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">&gt;=</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span> Profiles<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>bReload <span class="uscript-operator">=</span> <span class="uscript-keyword">False</span><span class="uscript-operator">;</span>
<span class="uscript-line">00380</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>CurrentActive <span class="uscript-operator">&gt;=</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span> Profiles<span class="uscript-operator">[</span>CurrentActive<span class="uscript-operator">]</span><span class="uscript-operator">.</span>bActive <span class="uscript-operator">=</span> <span class="uscript-keyword">False</span><span class="uscript-operator">;</span>
<span class="uscript-line">00381</span>      Profiles<span class="uscript-operator">[</span>NewProfileIndex<span class="uscript-operator">]</span><span class="uscript-operator">.</span>bReload <span class="uscript-operator">=</span> <span class="uscript-keyword">True</span><span class="uscript-operator">;</span>
<span class="uscript-line">00382</span>      bWaitingToSwitch <span class="uscript-operator">=</span> <span class="uscript-keyword">True</span><span class="uscript-operator">;</span>
<span class="uscript-line">00383</span>      NumRemainingMatches <span class="uscript-operator">=</span> NumberOfMatches<span class="uscript-operator">;</span>
<span class="uscript-line">00384</span>      SaveConfig<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00385</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00386</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00387</span>  
<span class="uscript-line">00388</span>  <span class="uscript-comment">// Add new profile</span>
<span class="uscript-line">00389</span>  <span class="uscript-keyword">function</span> ProfileConfigSet AddProfile<span class="uscript-operator">(</span><span class="uscript-type">string</span> PCSName<span class="uscript-operator">,</span> <span class="uscript-keyword">optional</span> <span class="uscript-type">string</span> GameType<span class="uscript-operator">)</span>
<span class="uscript-line">00390</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00391</span>      <span class="uscript-keyword">local</span> Profile TempP<span class="uscript-operator">;</span>
<span class="uscript-line">00392</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">,</span> NumProfiles<span class="uscript-operator">;</span>
<span class="uscript-line">00393</span>  
<span class="uscript-line">00394</span>      NumProfiles <span class="uscript-operator">=</span> Profiles<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>
<span class="uscript-line">00395</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> i <span class="uscript-operator">&lt;</span> NumProfiles<span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00396</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Profiles<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>ProfileName <span class="uscript-operator">~=</span> PCSName<span class="uscript-operator">)</span>
<span class="uscript-line">00397</span>              <span class="uscript-keyword">return</span> <span class="uscript-keyword">None</span><span class="uscript-operator">;</span>
<span class="uscript-line">00398</span>  
<span class="uscript-line">00399</span>      TempP<span class="uscript-operator">.</span>ProfileName <span class="uscript-operator">=</span> PCSName<span class="uscript-operator">;</span>
<span class="uscript-line">00400</span>      Profiles<span class="uscript-operator">[</span>Profiles<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> TempP<span class="uscript-operator">;</span>
<span class="uscript-line">00401</span>  
<span class="uscript-line">00402</span>      LoadProfile<span class="uscript-operator">(</span>TempP<span class="uscript-operator">,</span>GameType<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00403</span>      SaveConfig<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00404</span>  
<span class="uscript-line">00405</span>      <span class="uscript-keyword">return</span> LadderProfiles<span class="uscript-operator">[</span>NumProfiles<span class="uscript-operator">]</span><span class="uscript-operator">;</span>
<span class="uscript-line">00406</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00407</span>  
<span class="uscript-line">00408</span>  <span class="uscript-comment">// Copy profile - NewProfileName must be unique</span>
<span class="uscript-line">00409</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> CopyProfile<span class="uscript-operator">(</span><span class="uscript-type">int</span> SourceProfileIndex<span class="uscript-operator">,</span> <span class="uscript-type">string</span> NewProfileName<span class="uscript-operator">)</span>
<span class="uscript-line">00410</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00411</span>      <span class="uscript-keyword">local</span> ProfileConfigSet PCS<span class="uscript-operator">;</span>
<span class="uscript-line">00412</span>  
<span class="uscript-line">00413</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>SourceProfileIndex <span class="uscript-operator">&lt;</span> <span class="uscript-number">0</span> <span class="uscript-operator">||</span> SourceProfileIndex <span class="uscript-operator">&gt;=</span> Profiles<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">)</span>
<span class="uscript-line">00414</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00415</span>  
<span class="uscript-line">00416</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>LadderProfiles<span class="uscript-operator">[</span>SourceProfileIndex<span class="uscript-operator">]</span> <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00417</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00418</span>  
<span class="uscript-line">00419</span>      PCS <span class="uscript-operator">=</span> AddProfile<span class="uscript-operator">(</span>NewProfileName<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00420</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>PCS <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00421</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00422</span>          LadderProfiles<span class="uscript-operator">[</span>SourceProfileIndex<span class="uscript-operator">]</span><span class="uscript-operator">.</span>StartEdit<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00423</span>          PCS<span class="uscript-operator">.</span>StartEdit<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00424</span>          PCS<span class="uscript-operator">.</span>ReplaceWith<span class="uscript-operator">(</span>LadderProfiles<span class="uscript-operator">[</span>SourceProfileIndex<span class="uscript-operator">]</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00425</span>          PCS<span class="uscript-operator">.</span>EndEdit<span class="uscript-operator">(</span><span class="uscript-keyword">True</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00426</span>          LadderProfiles<span class="uscript-operator">[</span>SourceProfileIndex<span class="uscript-operator">]</span><span class="uscript-operator">.</span>EndEdit<span class="uscript-operator">(</span><span class="uscript-keyword">False</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00427</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00428</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00429</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00430</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00431</span>  
<span class="uscript-line">00432</span>  <span class="uscript-comment">// Remove profile</span>
<span class="uscript-line">00433</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> RemoveProfile<span class="uscript-operator">(</span><span class="uscript-type">int</span> idx<span class="uscript-operator">)</span>
<span class="uscript-line">00434</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00435</span>      <span class="uscript-keyword">local</span> ProfileConfigSet LastPCS<span class="uscript-operator">;</span>
<span class="uscript-line">00436</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> LastIDX<span class="uscript-operator">;</span>
<span class="uscript-line">00437</span>  
<span class="uscript-line">00438</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>idx <span class="uscript-operator">&lt;</span> <span class="uscript-number">0</span> <span class="uscript-operator">||</span> idx <span class="uscript-operator">&gt;=</span> LadderProfiles<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">)</span>
<span class="uscript-line">00439</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00440</span>  
<span class="uscript-line">00441</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Profiles<span class="uscript-operator">[</span>idx<span class="uscript-operator">]</span><span class="uscript-operator">.</span>bActive<span class="uscript-operator">)</span>
<span class="uscript-line">00442</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00443</span>          log<span class="uscript-operator">(</span>CannotRemoveActive<span class="uscript-operator">,</span>LOGNAME<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00444</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00445</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00446</span>  
<span class="uscript-line">00447</span>      LastIDX <span class="uscript-operator">=</span> LadderProfiles<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">-</span> <span class="uscript-number">1</span><span class="uscript-operator">;</span>
<span class="uscript-line">00448</span>      LastPCS <span class="uscript-operator">=</span> LadderProfiles<span class="uscript-operator">[</span>LastIDX<span class="uscript-operator">]</span><span class="uscript-operator">;</span>
<span class="uscript-line">00449</span>      LastPCS<span class="uscript-operator">.</span>StartEdit<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00450</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>idx <span class="uscript-operator">&lt;</span> LastIDX<span class="uscript-operator">)</span>
<span class="uscript-line">00451</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00452</span>          Profiles<span class="uscript-operator">[</span>idx<span class="uscript-operator">]</span> <span class="uscript-operator">=</span> Profiles<span class="uscript-operator">[</span>LastIDX<span class="uscript-operator">]</span><span class="uscript-operator">;</span>
<span class="uscript-line">00453</span>  
<span class="uscript-line">00454</span>          LadderProfiles<span class="uscript-operator">[</span>idx<span class="uscript-operator">]</span><span class="uscript-operator">.</span>StartEdit<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00455</span>          LadderProfiles<span class="uscript-operator">[</span>idx<span class="uscript-operator">]</span><span class="uscript-operator">.</span>ReplaceWith<span class="uscript-operator">(</span>LastPCS<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00456</span>          LadderProfiles<span class="uscript-operator">[</span>idx<span class="uscript-operator">]</span><span class="uscript-operator">.</span>EndEdit<span class="uscript-operator">(</span><span class="uscript-keyword">True</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00457</span>  
<span class="uscript-line">00458</span>          AllLadderProfiles<span class="uscript-operator">.</span><span class="uscript-keyword">Remove</span><span class="uscript-operator">(</span>AllLadderProfiles<span class="uscript-operator">.</span>FindItemId<span class="uscript-operator">(</span><span class="uscript-type">string</span><span class="uscript-operator">(</span>idx<span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00459</span>          AllLadderProfiles<span class="uscript-operator">.</span>Add<span class="uscript-operator">(</span><span class="uscript-type">string</span><span class="uscript-operator">(</span>idx<span class="uscript-operator">)</span><span class="uscript-operator">,</span>Profiles<span class="uscript-operator">[</span>LastIDX<span class="uscript-operator">]</span><span class="uscript-operator">.</span>ProfileName<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00460</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00461</span>  
<span class="uscript-line">00462</span>      LastPCS<span class="uscript-operator">.</span>Wipe<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00463</span>      LastPCS<span class="uscript-operator">.</span>EndEdit<span class="uscript-operator">(</span><span class="uscript-keyword">True</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00464</span>      Profiles<span class="uscript-operator">.</span><span class="uscript-keyword">Remove</span><span class="uscript-operator">(</span>LastIDX<span class="uscript-operator">,</span><span class="uscript-number">1</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00465</span>      LadderProfiles<span class="uscript-operator">.</span><span class="uscript-keyword">Remove</span><span class="uscript-operator">(</span>LastIDX<span class="uscript-operator">,</span><span class="uscript-number">1</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00466</span>      AllLadderProfiles<span class="uscript-operator">.</span><span class="uscript-keyword">Remove</span><span class="uscript-operator">(</span>AllLadderProfiles<span class="uscript-operator">.</span>FindItemId<span class="uscript-operator">(</span><span class="uscript-type">string</span><span class="uscript-operator">(</span>LastIDX<span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00467</span>      SaveConfig<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00468</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00469</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00470</span>  
<span class="uscript-line">00471</span>  <span class="uscript-comment">// Returns index of currently active profile</span>
<span class="uscript-line">00472</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">int</span> FindActiveProfile<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00473</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00474</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00475</span>  
<span class="uscript-line">00476</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Index <span class="uscript-operator">&lt;</span> <span class="uscript-operator">-</span><span class="uscript-number">1</span><span class="uscript-operator">)</span>
<span class="uscript-line">00477</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00478</span>          <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>Profiles<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00479</span>              <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Profiles<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>bActive<span class="uscript-operator">)</span>
<span class="uscript-line">00480</span>                  Index <span class="uscript-operator">=</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00481</span>  
<span class="uscript-line">00482</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Index <span class="uscript-operator">&lt;</span> <span class="uscript-operator">-</span><span class="uscript-number">1</span><span class="uscript-operator">)</span> Index<span class="uscript-operator">++</span><span class="uscript-operator">;</span>
<span class="uscript-line">00483</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00484</span>  
<span class="uscript-line">00485</span>      <span class="uscript-keyword">return</span> Index<span class="uscript-operator">;</span>
<span class="uscript-line">00486</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00487</span>  
<span class="uscript-line">00488</span>  <span class="uscript-comment">// Returns index of previously active profile</span>
<span class="uscript-line">00489</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">int</span> FindPreviousProfile<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00490</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00491</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00492</span>  
<span class="uscript-line">00493</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>Profiles<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00494</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Profiles<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>bReload<span class="uscript-operator">)</span>
<span class="uscript-line">00495</span>              <span class="uscript-keyword">return</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00496</span>  
<span class="uscript-line">00497</span>      <span class="uscript-keyword">return</span> <span class="uscript-operator">-</span><span class="uscript-number">1</span><span class="uscript-operator">;</span>
<span class="uscript-line">00498</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00499</span>  
<span class="uscript-line">00500</span>  <span class="uscript-comment">//#####################################################</span>
<span class="uscript-line">00501</span>  <span class="uscript-comment">// Profile Interface</span>
<span class="uscript-line">00502</span>  <span class="uscript-comment">//</span>
<span class="uscript-line">00503</span>  
<span class="uscript-line">00504</span>  <span class="uscript-comment">// Returns an array of map names that in the maplist for this profile</span>
<span class="uscript-line">00505</span>  <span class="uscript-keyword">function</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> GetProfileMaps<span class="uscript-operator">(</span><span class="uscript-keyword">optional</span> <span class="uscript-type">string</span> CurrentProfileItem<span class="uscript-operator">)</span>
<span class="uscript-line">00506</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00507</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> j<span class="uscript-operator">;</span>
<span class="uscript-line">00508</span>      <span class="uscript-keyword">local</span> ProfileConfigSet PCS<span class="uscript-operator">;</span>
<span class="uscript-line">00509</span>      <span class="uscript-keyword">local</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> TempMaps<span class="uscript-operator">;</span>
<span class="uscript-line">00510</span>  
<span class="uscript-line">00511</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>CurrentProfileItem <span class="uscript-operator">!=</span> <span class="uscript-string">""</span><span class="uscript-operator">)</span>
<span class="uscript-line">00512</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00513</span>          j <span class="uscript-operator">=</span> <span class="uscript-type">int</span><span class="uscript-operator">(</span>CurrentProfileItem<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00514</span>          PCS <span class="uscript-operator">=</span> LadderProfiles<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">;</span>
<span class="uscript-line">00515</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00516</span>  
<span class="uscript-line">00517</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>PCS <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span> <span class="uscript-operator">&amp;&amp;</span> CurrentProfile<span class="uscript-operator">!=</span><span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00518</span>          PCS <span class="uscript-operator">=</span> CurrentProfile<span class="uscript-operator">;</span>
<span class="uscript-line">00519</span>  
<span class="uscript-line">00520</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>PCS <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00521</span>          TempMaps <span class="uscript-operator">=</span> PCS<span class="uscript-operator">.</span>GetUsedMaps<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00522</span>  
<span class="uscript-line">00523</span>      <span class="uscript-keyword">return</span> TempMaps<span class="uscript-operator">;</span>
<span class="uscript-line">00524</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00525</span>  
<span class="uscript-line">00526</span>  <span class="uscript-comment">// Returns an array of class names for mutators that this profile will use in the game</span>
<span class="uscript-line">00527</span>  <span class="uscript-keyword">function</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> GetProfileMutators<span class="uscript-operator">(</span><span class="uscript-keyword">optional</span> <span class="uscript-type">string</span> CurrentProfileItem<span class="uscript-operator">)</span>
<span class="uscript-line">00528</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00529</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> j<span class="uscript-operator">;</span>
<span class="uscript-line">00530</span>      <span class="uscript-keyword">local</span> ProfileConfigSet PCS<span class="uscript-operator">;</span>
<span class="uscript-line">00531</span>      <span class="uscript-keyword">local</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> TempString<span class="uscript-operator">;</span>
<span class="uscript-line">00532</span>  
<span class="uscript-line">00533</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>CurrentProfileItem <span class="uscript-operator">!=</span> <span class="uscript-string">""</span><span class="uscript-operator">)</span>
<span class="uscript-line">00534</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00535</span>          j <span class="uscript-operator">=</span> <span class="uscript-type">int</span><span class="uscript-operator">(</span>CurrentProfileItem<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00536</span>          PCS <span class="uscript-operator">=</span> LadderProfiles<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">;</span>
<span class="uscript-line">00537</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00538</span>  
<span class="uscript-line">00539</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>PCS <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span> <span class="uscript-operator">&amp;&amp;</span> CurrentProfile <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00540</span>          PCS <span class="uscript-operator">=</span> CurrentProfile<span class="uscript-operator">;</span>
<span class="uscript-line">00541</span>  
<span class="uscript-line">00542</span>      <span class="uscript-comment">// Query profile for mutators to display</span>
<span class="uscript-line">00543</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>PCS <span class="uscript-operator">!=</span> <span class="uscript-keyword">none</span><span class="uscript-operator">)</span>
<span class="uscript-line">00544</span>          TempString <span class="uscript-operator">=</span> PCS<span class="uscript-operator">.</span>GetUsedMutators<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00545</span>  
<span class="uscript-line">00546</span>      <span class="uscript-keyword">return</span> TempString<span class="uscript-operator">;</span>
<span class="uscript-line">00547</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00548</span>  
<span class="uscript-line">00549</span>  <span class="uscript-keyword">function</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> GetProfileServerActors<span class="uscript-operator">(</span><span class="uscript-keyword">optional</span> <span class="uscript-type">string</span> CurrentProfileItem<span class="uscript-operator">)</span>
<span class="uscript-line">00550</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00551</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> j<span class="uscript-operator">;</span>
<span class="uscript-line">00552</span>      <span class="uscript-keyword">local</span> ProfileConfigSet PCS<span class="uscript-operator">;</span>
<span class="uscript-line">00553</span>      <span class="uscript-keyword">local</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> Temp<span class="uscript-operator">;</span>
<span class="uscript-line">00554</span>  
<span class="uscript-line">00555</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>CurrentProfileItem <span class="uscript-operator">!=</span> <span class="uscript-string">""</span><span class="uscript-operator">)</span>
<span class="uscript-line">00556</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00557</span>          j <span class="uscript-operator">=</span> <span class="uscript-type">int</span><span class="uscript-operator">(</span>CurrentProfileItem<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00558</span>          PCS <span class="uscript-operator">=</span> LadderProfiles<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">;</span>
<span class="uscript-line">00559</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00560</span>  
<span class="uscript-line">00561</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>PCS <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span> <span class="uscript-operator">&amp;&amp;</span> CurrentProfile <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00562</span>          PCS <span class="uscript-operator">=</span> CurrentProfile<span class="uscript-operator">;</span>
<span class="uscript-line">00563</span>  
<span class="uscript-line">00564</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>PCS <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00565</span>          Temp <span class="uscript-operator">=</span> PCS<span class="uscript-operator">.</span>GetUsedServerActors<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00566</span>  
<span class="uscript-line">00567</span>      <span class="uscript-keyword">return</span> Temp<span class="uscript-operator">;</span>
<span class="uscript-line">00568</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00569</span>  
<span class="uscript-line">00570</span>  <span class="uscript-comment">//#####################################################</span>
<span class="uscript-line">00571</span>  <span class="uscript-comment">// Protected helper functions</span>
<span class="uscript-line">00572</span>  <span class="uscript-comment">//</span>
<span class="uscript-line">00573</span>  
<span class="uscript-line">00574</span>  <span class="uscript-comment">// Clears LadderProfiles array and loads each stored (Profiles array)</span>
<span class="uscript-line">00575</span>  <span class="uscript-comment">// profile to the LadderProfiles array</span>
<span class="uscript-line">00576</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> InitializeProfileArray<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00577</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00578</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00579</span>  
<span class="uscript-line">00580</span>      LadderProfiles<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">00581</span>  
<span class="uscript-line">00582</span>  <span class="uscript-comment">// Load all profiles immediately</span>
<span class="uscript-line">00583</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> i <span class="uscript-operator">&lt;</span> Profiles<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00584</span>          LoadProfile<span class="uscript-operator">(</span>Profiles<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00585</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00586</span>  
<span class="uscript-line">00587</span>  <span class="uscript-comment">// Adds a profile to the LadderProfiles array &amp; initializes the profile</span>
<span class="uscript-line">00588</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> LoadProfile<span class="uscript-operator">(</span>Profile NewProfile<span class="uscript-operator">,</span> <span class="uscript-keyword">optional</span> <span class="uscript-type">string</span> GameType<span class="uscript-operator">)</span>
<span class="uscript-line">00589</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00590</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00591</span>  
<span class="uscript-line">00592</span>      i <span class="uscript-operator">=</span> LadderProfiles<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>
<span class="uscript-line">00593</span>      LadderProfiles<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> LadderProfiles<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">+</span> <span class="uscript-number">1</span><span class="uscript-operator">;</span>
<span class="uscript-line">00594</span>  
<span class="uscript-line">00595</span>      LadderProfiles<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span> <span class="uscript-operator">=</span> <span class="uscript-keyword">new</span><span class="uscript-operator">(</span><span class="uscript-keyword">None</span><span class="uscript-operator">,</span><span class="uscript-string">"Profile"</span><span class="uscript-operator">$</span><span class="uscript-type">string</span><span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">)</span> ProfileClass<span class="uscript-operator">;</span>
<span class="uscript-line">00596</span>  
<span class="uscript-line">00597</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>LadderProfiles<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>GetGameClass<span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00598</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00599</span>          LadderProfiles<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>StartEdit<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00600</span>          LadderProfiles<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Wipe<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00601</span>          LadderProfiles<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>EndEdit<span class="uscript-operator">(</span><span class="uscript-keyword">True</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00602</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00603</span>  
<span class="uscript-line">00604</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>GameType <span class="uscript-operator">==</span> <span class="uscript-string">""</span><span class="uscript-operator">)</span> LadderProfiles<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Init<span class="uscript-operator">(</span>Level<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00605</span>      <span class="uscript-keyword">else</span> LadderProfiles<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Init<span class="uscript-operator">(</span>Level<span class="uscript-operator">,</span>GameType<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00606</span>  
<span class="uscript-line">00607</span>      AllLadderProfiles<span class="uscript-operator">.</span>Add<span class="uscript-operator">(</span><span class="uscript-type">string</span><span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">,</span> NewProfile<span class="uscript-operator">.</span>ProfileName<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00608</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00609</span>  
<span class="uscript-line">00610</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> <span class="uscript-type">int</span> ActivateProfile<span class="uscript-operator">(</span><span class="uscript-keyword">coerce</span> <span class="uscript-type">int</span> ProfileId<span class="uscript-operator">,</span> <span class="uscript-keyword">optional</span> <span class="uscript-type">bool</span> bStoreLast<span class="uscript-operator">)</span>
<span class="uscript-line">00611</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00612</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">,</span>j<span class="uscript-operator">;</span>
<span class="uscript-line">00613</span>  
<span class="uscript-line">00614</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ProfileId <span class="uscript-operator">&lt;</span> <span class="uscript-number">0</span> <span class="uscript-operator">||</span> ProfileId <span class="uscript-operator">&gt;=</span> Profiles<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">)</span>
<span class="uscript-line">00615</span>          <span class="uscript-keyword">return</span> <span class="uscript-operator">-</span><span class="uscript-number">1</span><span class="uscript-operator">;</span>
<span class="uscript-line">00616</span>  
<span class="uscript-line">00617</span>      i <span class="uscript-operator">=</span> FindActiveProfile<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00618</span>  
<span class="uscript-line">00619</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">==</span> ProfileId<span class="uscript-operator">)</span> <span class="uscript-keyword">return</span> ProfileId<span class="uscript-operator">;</span>
<span class="uscript-line">00620</span>      j <span class="uscript-operator">=</span> <span class="uscript-number">0</span> <span class="uscript-operator">-</span> <span class="uscript-number">1</span><span class="uscript-operator">;</span>
<span class="uscript-line">00621</span>  
<span class="uscript-line">00622</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">&gt;=</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span> j <span class="uscript-operator">=</span> DeactivateProfile<span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00623</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>j <span class="uscript-operator">&gt;=</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00624</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00625</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>bStoreLast<span class="uscript-operator">)</span> Profiles<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">.</span>bReload <span class="uscript-operator">=</span> <span class="uscript-keyword">True</span><span class="uscript-operator">;</span>
<span class="uscript-line">00626</span>          <span class="uscript-keyword">else</span> Profiles<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">.</span>bReload <span class="uscript-operator">=</span> <span class="uscript-keyword">False</span><span class="uscript-operator">;</span>
<span class="uscript-line">00627</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00628</span>  
<span class="uscript-line">00629</span>      Profiles<span class="uscript-operator">[</span>ProfileId<span class="uscript-operator">]</span><span class="uscript-operator">.</span>bActive <span class="uscript-operator">=</span> <span class="uscript-keyword">True</span><span class="uscript-operator">;</span>
<span class="uscript-line">00630</span>      Profiles<span class="uscript-operator">[</span>ProfileId<span class="uscript-operator">]</span><span class="uscript-operator">.</span>bReload <span class="uscript-operator">=</span> <span class="uscript-keyword">False</span><span class="uscript-operator">;</span>
<span class="uscript-line">00631</span>      SaveConfig<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00632</span>      <span class="uscript-keyword">return</span> ProfileId<span class="uscript-operator">;</span>
<span class="uscript-line">00633</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00634</span>  
<span class="uscript-line">00635</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> <span class="uscript-type">int</span> DeactivateProfile<span class="uscript-operator">(</span><span class="uscript-keyword">coerce</span> <span class="uscript-type">int</span> j<span class="uscript-operator">)</span>
<span class="uscript-line">00636</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00637</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>j <span class="uscript-operator">&lt;</span> <span class="uscript-number">0</span> <span class="uscript-operator">||</span> j <span class="uscript-operator">&gt;</span> Profiles<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">)</span>
<span class="uscript-line">00638</span>          <span class="uscript-keyword">return</span> <span class="uscript-operator">-</span><span class="uscript-number">1</span><span class="uscript-operator">;</span>
<span class="uscript-line">00639</span>  
<span class="uscript-line">00640</span>      Profiles<span class="uscript-operator">[</span>j<span class="uscript-operator">]</span><span class="uscript-operator">.</span>bActive <span class="uscript-operator">=</span> <span class="uscript-keyword">False</span><span class="uscript-operator">;</span>
<span class="uscript-line">00641</span>      Index <span class="uscript-operator">=</span> <span class="uscript-keyword">default</span><span class="uscript-operator">.</span>Index<span class="uscript-operator">;</span>
<span class="uscript-line">00642</span>      <span class="uscript-keyword">return</span> j<span class="uscript-operator">;</span>
<span class="uscript-line">00643</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00644</span>  
<span class="uscript-line">00645</span>  <span class="uscript-comment">// Copied from UTServerAdmin - Applies the profile's maplist to the server's maplist</span>
<span class="uscript-line">00646</span>  <span class="uscript-keyword">function</span> UpdateDefaultMaps<span class="uscript-operator">(</span><span class="uscript-type">String</span> GameType<span class="uscript-operator">,</span> StringArray Maps<span class="uscript-operator">)</span>
<span class="uscript-line">00647</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00648</span>      <span class="uscript-keyword">local</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>GameInfo<span class="uscript-operator">&gt;</span> GameClass<span class="uscript-operator">;</span>
<span class="uscript-line">00649</span>      <span class="uscript-keyword">local</span> MapList List<span class="uscript-operator">;</span>
<span class="uscript-line">00650</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00651</span>  
<span class="uscript-line">00652</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Maps <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00653</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00654</span>          Warn<span class="uscript-operator">(</span>InvalidMaplist<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00655</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">00656</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00657</span>      GameClass <span class="uscript-operator">=</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>GameInfo<span class="uscript-operator">&gt;</span><span class="uscript-operator">(</span>DynamicLoadObject<span class="uscript-operator">(</span>GameType<span class="uscript-operator">,</span> <span class="uscript-keyword">class</span><span class="uscript-name">'Class'</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00658</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>GameClass <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span> <span class="uscript-operator">&amp;&amp;</span> GameClass<span class="uscript-operator">.</span><span class="uscript-keyword">Default</span><span class="uscript-operator">.</span>MapListType <span class="uscript-operator">!=</span> <span class="uscript-string">""</span><span class="uscript-operator">)</span>
<span class="uscript-line">00659</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00660</span>          List <span class="uscript-operator">=</span> Level<span class="uscript-operator">.</span>Game<span class="uscript-operator">.</span>GetMapList<span class="uscript-operator">(</span>GameClass<span class="uscript-operator">.</span><span class="uscript-keyword">Default</span><span class="uscript-operator">.</span>MapListType<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00661</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>List <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00662</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00663</span>              List<span class="uscript-operator">.</span>Maps<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">00664</span>              <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span>Maps<span class="uscript-operator">.</span>Count<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00665</span>                  List<span class="uscript-operator">.</span>Maps<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span> <span class="uscript-operator">=</span> Maps<span class="uscript-operator">.</span>GetTag<span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00666</span>  
<span class="uscript-line">00667</span>              List<span class="uscript-operator">.</span>MapNum <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">00668</span>              List<span class="uscript-operator">.</span>SaveConfig<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00669</span>              List<span class="uscript-operator">.</span>Destroy<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00670</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00671</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00672</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00673</span>  
<span class="uscript-line">00674</span>  <span class="uscript-keyword">function</span> EnableManagedActor<span class="uscript-operator">(</span><span class="uscript-type">string</span> ActorName<span class="uscript-operator">)</span>
<span class="uscript-line">00675</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00676</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00677</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">string</span> S<span class="uscript-operator">;</span>
<span class="uscript-line">00678</span>      <span class="uscript-keyword">local</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>AutoLoader<span class="uscript-operator">&gt;</span> A<span class="uscript-operator">;</span>
<span class="uscript-line">00679</span>      <span class="uscript-keyword">local</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> Arr<span class="uscript-operator">;</span>
<span class="uscript-line">00680</span>  
<span class="uscript-line">00681</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>SAManager <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span> <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">00682</span>  
<span class="uscript-line">00683</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> i <span class="uscript-operator">&lt;</span> SAManager<span class="uscript-operator">.</span>LoaderClasses<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00684</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00685</span>          A <span class="uscript-operator">=</span> SAManager<span class="uscript-operator">.</span>LoaderClasses<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>AutoLoaderClass<span class="uscript-operator">;</span>
<span class="uscript-line">00686</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>A <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span> <span class="uscript-keyword">continue</span><span class="uscript-operator">;</span>
<span class="uscript-line">00687</span>  
<span class="uscript-line">00688</span>          Arr <span class="uscript-operator">=</span> A<span class="uscript-operator">.</span><span class="uscript-keyword">static</span><span class="uscript-operator">.</span>GetManagedActors<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00689</span>          <span class="uscript-keyword">while</span> <span class="uscript-operator">(</span>Arr<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">&gt;</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00690</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00691</span>              S <span class="uscript-operator">=</span> <span class="uscript-keyword">class</span><span class="uscript-name">'wUtils103.wArray'</span><span class="uscript-operator">.</span><span class="uscript-keyword">static</span><span class="uscript-operator">.</span>ShiftS<span class="uscript-operator">(</span>Arr<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00692</span>              <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ActorName <span class="uscript-operator">~=</span> Left<span class="uscript-operator">(</span>S<span class="uscript-operator">,</span> InStr<span class="uscript-operator">(</span>S<span class="uscript-operator">,</span><span class="uscript-string">","</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">00693</span>              <span class="uscript-operator">{</span>
<span class="uscript-line">00694</span>                  A<span class="uscript-operator">.</span><span class="uscript-keyword">static</span><span class="uscript-operator">.</span>EnableLoader<span class="uscript-operator">(</span>ActorName<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00695</span>                  <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">00696</span>              <span class="uscript-operator">}</span>
<span class="uscript-line">00697</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00698</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00699</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00700</span>  
<span class="uscript-line">00701</span>  <span class="uscript-keyword">function</span> DisableManagedActor<span class="uscript-operator">(</span><span class="uscript-type">string</span> ActorName<span class="uscript-operator">)</span>
<span class="uscript-line">00702</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00703</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00704</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">string</span> S<span class="uscript-operator">;</span>
<span class="uscript-line">00705</span>      <span class="uscript-keyword">local</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>AutoLoader<span class="uscript-operator">&gt;</span> A<span class="uscript-operator">;</span>
<span class="uscript-line">00706</span>      <span class="uscript-keyword">local</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> Arr<span class="uscript-operator">;</span>
<span class="uscript-line">00707</span>  
<span class="uscript-line">00708</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>SAManager <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span> <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">00709</span>  
<span class="uscript-line">00710</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> i <span class="uscript-operator">&lt;</span> SAManager<span class="uscript-operator">.</span>LoaderClasses<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00711</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00712</span>          A <span class="uscript-operator">=</span> SAManager<span class="uscript-operator">.</span>LoaderClasses<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>AutoLoaderClass<span class="uscript-operator">;</span>
<span class="uscript-line">00713</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>A <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span> <span class="uscript-keyword">continue</span><span class="uscript-operator">;</span>
<span class="uscript-line">00714</span>  
<span class="uscript-line">00715</span>          Arr <span class="uscript-operator">=</span> A<span class="uscript-operator">.</span><span class="uscript-keyword">static</span><span class="uscript-operator">.</span>GetManagedActors<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00716</span>          <span class="uscript-keyword">while</span> <span class="uscript-operator">(</span>Arr<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">&gt;</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00717</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00718</span>              S <span class="uscript-operator">=</span> <span class="uscript-keyword">class</span><span class="uscript-name">'wUtils103.wArray'</span><span class="uscript-operator">.</span><span class="uscript-keyword">static</span><span class="uscript-operator">.</span>ShiftS<span class="uscript-operator">(</span>Arr<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00719</span>              <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ActorName <span class="uscript-operator">~=</span> Left<span class="uscript-operator">(</span>S<span class="uscript-operator">,</span> InStr<span class="uscript-operator">(</span>S<span class="uscript-operator">,</span><span class="uscript-string">","</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">00720</span>              <span class="uscript-operator">{</span>
<span class="uscript-line">00721</span>                  A<span class="uscript-operator">.</span><span class="uscript-keyword">static</span><span class="uscript-operator">.</span>DisableLoader<span class="uscript-operator">(</span>ActorName<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00722</span>                  <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">00723</span>              <span class="uscript-operator">}</span>
<span class="uscript-line">00724</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00725</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00726</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00727</span>  
<span class="uscript-line">00728</span>  <span class="uscript-comment">// Replaces the ?mutator= command line parameter with this profile's configured mutators</span>
<span class="uscript-line">00729</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">string</span> UpdateMutatorString<span class="uscript-operator">(</span>ProfileConfigSet PCS<span class="uscript-operator">)</span>
<span class="uscript-line">00730</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00731</span>      <span class="uscript-keyword">local</span> <span class="uscript-keyword">array</span><span class="uscript-operator">&lt;</span><span class="uscript-type">string</span><span class="uscript-operator">&gt;</span> Mutators<span class="uscript-operator">;</span>
<span class="uscript-line">00732</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">string</span> MutatorString<span class="uscript-operator">;</span>
<span class="uscript-line">00733</span>  
<span class="uscript-line">00734</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>PCS <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00735</span>          <span class="uscript-keyword">return</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
<span class="uscript-line">00736</span>  
<span class="uscript-line">00737</span>      Mutators <span class="uscript-operator">=</span> PCS<span class="uscript-operator">.</span>GetUsedMutators<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00738</span>      MutatorString <span class="uscript-operator">=</span> <span class="uscript-keyword">class</span><span class="uscript-name">'wUtils103.wArray'</span><span class="uscript-operator">.</span><span class="uscript-keyword">static</span><span class="uscript-operator">.</span>Join<span class="uscript-operator">(</span>Mutators<span class="uscript-operator">,</span><span class="uscript-string">","</span><span class="uscript-operator">,</span><span class="uscript-keyword">True</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00739</span>      <span class="uscript-keyword">return</span> MutatorString<span class="uscript-operator">;</span>
<span class="uscript-line">00740</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00741</span>  
<span class="uscript-line">00742</span>  <span class="uscript-comment">// Copied from UTServerAdmin and modified</span>
<span class="uscript-line">00743</span>  <span class="uscript-keyword">final</span> <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> HasURLOption<span class="uscript-operator">(</span><span class="uscript-type">string</span> ParamName<span class="uscript-operator">)</span>
<span class="uscript-line">00744</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00745</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">string</span> Param<span class="uscript-operator">,</span> Value<span class="uscript-operator">;</span>
<span class="uscript-line">00746</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00747</span>  
<span class="uscript-line">00748</span>      Param <span class="uscript-operator">=</span> ParamName<span class="uscript-operator">;</span>
<span class="uscript-line">00749</span>      <span class="uscript-keyword">while</span> <span class="uscript-operator">(</span><span class="uscript-keyword">true</span><span class="uscript-operator">)</span>
<span class="uscript-line">00750</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00751</span>          i <span class="uscript-operator">=</span> Instr<span class="uscript-operator">(</span>Param<span class="uscript-operator">,</span> <span class="uscript-string">"."</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00752</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>i <span class="uscript-operator">&lt;</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00753</span>              <span class="uscript-keyword">break</span><span class="uscript-operator">;</span>
<span class="uscript-line">00754</span>  
<span class="uscript-line">00755</span>          Param <span class="uscript-operator">=</span> Mid<span class="uscript-operator">(</span>Param<span class="uscript-operator">,</span> i<span class="uscript-number">+1</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00756</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00757</span>  
<span class="uscript-line">00758</span>      Value <span class="uscript-operator">=</span> Level<span class="uscript-operator">.</span>GetUrlOption<span class="uscript-operator">(</span>Param<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00759</span>      <span class="uscript-keyword">return</span> Value <span class="uscript-operator">!=</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
<span class="uscript-line">00760</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00761</span>  
<span class="uscript-line">00762</span>  <span class="uscript-keyword">protected</span> <span class="uscript-keyword">function</span> ResetTrackingValues<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00763</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00764</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00765</span>      <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>Profiles<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00766</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00767</span>          Profiles<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>bActive <span class="uscript-operator">=</span> <span class="uscript-keyword">False</span><span class="uscript-operator">;</span>
<span class="uscript-line">00768</span>          Profiles<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>bReload <span class="uscript-operator">=</span> <span class="uscript-keyword">False</span><span class="uscript-operator">;</span>
<span class="uscript-line">00769</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00770</span>  
<span class="uscript-line">00771</span>      NumRemainingMatches <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">00772</span>      SaveConfig<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00773</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00774</span>  
<span class="uscript-line">00775</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">int</span> GetRemainingMatches<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00776</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00777</span>      <span class="uscript-keyword">return</span> NumRemainingMatches<span class="uscript-operator">;</span>
<span class="uscript-line">00778</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00779</span>  
<span class="uscript-line">00780</span>  <span class="uscript-keyword">defaultproperties</span>
<span class="uscript-line">00781</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00782</span>      Index<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">2</span>
<span class="uscript-line">00783</span>      LadderProfileClass<span class="uscript-operator">=</span><span class="uscript-string">"Ladder.ProfileConfigSet"</span>
<span class="uscript-line">00784</span>      ShutdownWhileTemporary<span class="uscript-operator">=</span><span class="uscript-string">"Server was shutdown with active temporary profile"</span>
<span class="uscript-line">00785</span>      ShutdownWhilePermanent<span class="uscript-operator">=</span><span class="uscript-string">"Server was shutdown with active profile"</span>
<span class="uscript-line">00786</span>      ShutdownWhileWaiting<span class="uscript-operator">=</span><span class="uscript-string">"Server was shutdown while waiting to apply a profile. Now applying new profile."</span>
<span class="uscript-line">00787</span>      ShutdownRemainingMatches<span class="uscript-operator">=</span><span class="uscript-string">"Number of matches remaining for this profile"</span>
<span class="uscript-line">00788</span>      ShutdownResumingTemporary<span class="uscript-operator">=</span><span class="uscript-string">"Reactivating temporary profile with remaining number of matches."</span>
<span class="uscript-line">00789</span>      ShutdownResumingPermanent<span class="uscript-operator">=</span><span class="uscript-string">"Reactivating standard profile"</span>
<span class="uscript-line">00790</span>      ShutdownTrackingCorrupted<span class="uscript-operator">=</span><span class="uscript-string">"Profile tracking was corrupted.  Resetting profile tracking values."</span>
<span class="uscript-line">00791</span>      EndOfGame<span class="uscript-operator">=</span><span class="uscript-string">"END OF GAME DETECTED."</span>
<span class="uscript-line">00792</span>      EndofGameIntercepting<span class="uscript-operator">=</span><span class="uscript-string">"Intercepting map change &amp; activating profile"</span>
<span class="uscript-line">00793</span>      EndofGameNoRemainingMatches<span class="uscript-operator">=</span><span class="uscript-string">"Profile match limit reached. Reactivating previous profile."</span>
<span class="uscript-line">00794</span>      OverridingURL<span class="uscript-operator">=</span><span class="uscript-string">"Overriding command line value for parameter"</span>
<span class="uscript-line">00795</span>      BadProfileClass<span class="uscript-operator">=</span><span class="uscript-string">"Bad Profile Class"</span>
<span class="uscript-line">00796</span>      CannotRemoveActive<span class="uscript-operator">=</span><span class="uscript-string">"Removal of active profile not allowed! Please switch server to a different profile, then try again."</span>
<span class="uscript-line">00797</span>      PreviousProfileRemoved<span class="uscript-operator">=</span><span class="uscript-string">"Attempted to return server to previous profile, but no previous profile was found.  Leaving server set to current profile."</span>
<span class="uscript-line">00798</span>      BadIndex<span class="uscript-operator">=</span><span class="uscript-string">"Invalid profile index"</span>
<span class="uscript-line">00799</span>      CancellingProfile<span class="uscript-operator">=</span><span class="uscript-string">"Cancelling activation of profile"</span>
<span class="uscript-line">00800</span>      EmptyMaplist<span class="uscript-operator">=</span><span class="uscript-string">"Profile maplist is empty"</span>
<span class="uscript-line">00801</span>      InvalidMaplist<span class="uscript-operator">=</span><span class="uscript-string">"Attempting to load profile with invalid maplist!"</span>
<span class="uscript-line">00802</span>      CommandLineOptions<span class="uscript-operator">(</span><span class="uscript-number">0</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-operator">(</span>ParamName<span class="uscript-operator">=</span><span class="uscript-string">"CommandLineParams.AdminUserName"</span><span class="uscript-operator">,</span>Value<span class="uscript-operator">=</span><span class="uscript-string">""</span><span class="uscript-operator">)</span>
<span class="uscript-line">00803</span>      CommandLineOptions<span class="uscript-operator">(</span><span class="uscript-number">1</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-operator">(</span>ParamName<span class="uscript-operator">=</span><span class="uscript-string">"CommandLineParams.AdminPassword"</span><span class="uscript-operator">,</span>Value<span class="uscript-operator">=</span><span class="uscript-string">""</span><span class="uscript-operator">)</span>
<span class="uscript-line">00804</span>      CommandLineOptions<span class="uscript-operator">(</span><span class="uscript-number">2</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-operator">(</span>ParamName<span class="uscript-operator">=</span><span class="uscript-string">"CommandLineParams.GameRules"</span><span class="uscript-operator">,</span>Value<span class="uscript-operator">=</span><span class="uscript-string">""</span><span class="uscript-operator">)</span>
<span class="uscript-line">00805</span>      CommandLineOptions<span class="uscript-operator">(</span><span class="uscript-number">3</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-operator">(</span>ParamName<span class="uscript-operator">=</span><span class="uscript-string">"CommandLineParams.DemoRec"</span><span class="uscript-operator">,</span>Value<span class="uscript-operator">=</span><span class="uscript-string">""</span><span class="uscript-operator">)</span>
<span class="uscript-line">00806</span>      CommandLineOptions<span class="uscript-operator">(</span><span class="uscript-number">4</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-operator">(</span>ParamName<span class="uscript-operator">=</span><span class="uscript-string">"CommandLineParams.bAutoNumBots"</span><span class="uscript-operator">,</span>Value<span class="uscript-operator">=</span><span class="uscript-string">""</span><span class="uscript-operator">)</span>
<span class="uscript-line">00807</span>      CommandLineOptions<span class="uscript-operator">(</span><span class="uscript-number">5</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-operator">(</span>ParamName<span class="uscript-operator">=</span><span class="uscript-string">"CommandLineParams.QuickStart"</span><span class="uscript-operator">,</span>Value<span class="uscript-operator">=</span><span class="uscript-string">""</span><span class="uscript-operator">)</span>
<span class="uscript-line">00808</span>      CommandLineOptions<span class="uscript-operator">(</span><span class="uscript-number">6</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-operator">(</span>ParamName<span class="uscript-operator">=</span><span class="uscript-string">"CommandLineParams.RedTeamAI"</span><span class="uscript-operator">,</span>Value<span class="uscript-operator">=</span><span class="uscript-string">"UnrealGame.TeamAI"</span><span class="uscript-operator">)</span>
<span class="uscript-line">00809</span>      CommandLineOptions<span class="uscript-operator">(</span><span class="uscript-number">7</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-operator">(</span>ParamName<span class="uscript-operator">=</span><span class="uscript-string">"CommandLineParams.BlueTeamAI"</span><span class="uscript-operator">,</span>Value<span class="uscript-operator">=</span><span class="uscript-string">"UnrealGame.TeamAI"</span><span class="uscript-operator">)</span>
<span class="uscript-line">00810</span>      CommandLineOptions<span class="uscript-operator">(</span><span class="uscript-number">8</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-operator">(</span>ParamName<span class="uscript-operator">=</span><span class="uscript-string">"CommandLineParams.RedTeamSymbol"</span><span class="uscript-operator">,</span>Value<span class="uscript-operator">=</span><span class="uscript-string">""</span><span class="uscript-operator">)</span>
<span class="uscript-line">00811</span>      CommandLineOptions<span class="uscript-operator">(</span><span class="uscript-number">9</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-operator">(</span>ParamName<span class="uscript-operator">=</span><span class="uscript-string">"CommandLineParams.BlueTeamSymbol"</span><span class="uscript-operator">,</span>Value<span class="uscript-operator">=</span><span class="uscript-string">""</span><span class="uscript-operator">)</span>
<span class="uscript-line">00812</span>  <span class="uscript-operator">}</span></pre></div>
</div>

<div id="footer" class="bar">
	<p>
<a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a><br>
Last edited March 19, 2003 18:29 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=LadderGameRules">(diff)</a><br>Search: <input type="text" name="search"  size="14" /><input type="button" onclick="location.href='../search-error/index.html';" value="search" /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/LadderGameRules">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>

	</p>
	<p>Mostly Harmless
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="../index.html"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>


<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
