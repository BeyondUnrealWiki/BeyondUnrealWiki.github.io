<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: NPC Support</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=NPC_Support; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<form class="inline" method="post" action="/wiki" enctype="application/x-www-form-urlencoded"><input type="text" name="search"  size="20" /> <input type="submit" name="search" value="search" /></form>
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="http://wiki.beyondunreal.com/wiki?back=NPC Support">NPC Support</a></h1>
	<div class="wiki"><p>This page is a hub for support of <em class="em2">Non-Player Characters (NPCs)</em>: any artificially intelligent agent or character that is <u>not</u> meant to act as a player.  NPCs can be ambient creatures, various animals, character "extras", neutral individuals, helpful characters, etc.  NPCs use a custom AI construct that will serve their unique goals and tasks, whether that be self-preservation, conversation, navigation, etc.</p>
<p>Monsters can be easily considered a specific variety of NPC whose sole purpose is to hunt down and attack players.  See <a href="monster-support.html">Monster Support</a>.  This page, however, will focus on custom non-monster NPCs.</p>
<p>The NPC is created to support the game world, to enrich it and either give the player a stronger sense of realism within it or to support the player in their game objectives.  For this reason, each NPC class is a product of the game world it lives in; a unique entity whose purpose is directly tied to that world.  </p>
<h2><a name="0.1"></a>Design</h2>
<h3><a name="0.1.1"></a>Purpose</h3>
<p>The NPC must have a reason to exist in the game.  They may provide the players with information, inventory or immersion in the game.  The purpose is normally dictated by the <a href="gameplay.html">gameplay</a> itself; the goals of the game, the theme, the rules, etc.  Keep in mind those elements and concepts of gameplay, such as Balance and Chance, as you design the NPC.</p>
<h4><a name="0.1.1.1"></a>Immersion</h4>
<p>This purpose is simply to support the believability of the game world by existing within it.  The NPC "lives" in this world and therefore adds to the illusion that this game world is a real one that the player live in as well.  Ambient creatures and other animals can serve this purpose well as they will follow their own rules within this world and largely ignore the goals of the player, but still give the player plenty of opportunity for interaction.  But, another common example is citizen NPCs that live out their own lives, but do not interact with the players in a way that impact their gameplay.</p>
<h4><a name="0.1.1.2"></a>Information</h4>
<p>Here the NPC's reason to exist is loosely tied to the goals of the player.  Through some combonation of conditions, the player may recieve information from this NPC that will impact their gameplay.  Some common examples of this are the "guide" characters that provide the novice player with the most basic instructions for this particular game (where to buy food or weapons in town, who can heal you, how to save your progress), or the character who will give you critical information to allow progress in the game (after paying them a bribe, they tell you where to find the entrance to the dungeon).  </p>
<h4><a name="0.1.1.3"></a>Inventory</h4>
<p>This purpose is directly tied to the player's gameplay, where the NPC is to give the player a key piece of inventory, which gives them extra ability.  A very common example of this might be the storekeeper who sells you weapons for a price.  Another example could be the "sage" character, who can give you a special item that can protect you during the next stage of the game or a key that unlocks the next series of tasks to perform.</p>
<h3><a name="0.1.2"></a>Behavior</h3>
<p>The NPC behavior will be designed to serve it's unique purpose.  Their behavior may be simple, as in the actions of a song bird, or complex, as in a mentor who directs the player's progress from beginner through mastery.  Designing the behavior for your NPC can be difficult, as all possible conditions and posibilities should be considered and factored into the design.  Common ways to keep it simple include limiting the behavior to it's essential purpose and limiting the conditions the NPC will have to face.  For example, a barkeep who tells local gossip for a price might be a great NPC to give your players information about their game world, but designing a behavior that would be able to believably answer any question the player might ask is virutally impossible.  The barkeep's behavior can be limited to just talking about the most probable questions it will be asked.  The conditions that the barkeep will engage in conversation can be limited as well by telling the player, "I'm busy right now, come back later.", or, "Hey, I'm just a simple barkeep, I don't know everything."</p>
<h4><a name="0.1.2.1"></a>Self-Preservation</h4>
<p>The most basic NPC behavior to consider is self-preservation.  Animals, characters, and just about every other living thing is capable of this behavior.  A defense mechanism such as stealth, evasion, or protection should be considered first.  Is this the type of creature to run if startled or will it roll up into a ball and show spikes on it's back for defense?  Offensive behavior is common, most creatures have some means of attacking in self-defense, even herbavores.  Does this character throw a punch if backed into a corner?</p>
<h4><a name="0.1.2.2"></a>Navigation</h4>
<p>The Unreal engine already has a well-designed method of allowing AI agents to navigate: the bot path network. (See also <a href="bot-pathing.html">Bot Pathing</a>)  However, because the bot path network is designed for bot players, many NPCs will have a purpose that dictates they use another way to navigate; away from the combat or one that allows movement to any space, not just spaces defined by the mapper.  While it is possible to design a new method of intelligent navigation; one that doesn't use the bot path network, it will most likely be much more work than the rest of the behavior.  It's recommended that navigation behavior be simplified, using any existing methods (such as the bot path network or some simple variation) as much as possible.</p>
<h4><a name="0.1.2.3"></a>Conversation</h4>
<p>As mentioned above, this can be an incredibly complex behavior to design, if all possible situations and conditions are accounted for.  The design should be complex enough to carry the illusion of intelligent speech with the NPC, but simple enough that the designer isn't wasting effort on situations or conditions that are rarely met or will not yield a relevant result.  For example, you'll want a damsel in distress to yell, "Help!", at the appropriate time, as the train approaches, and to say, "My hero!", once saved by the player, but you'd want to avoid designing her behavior to account for her her response to an obscure question like, "What kind of music do you like?".  Again, by limiting the NPC's behavior and at the same time limiting the conditions the NPC will have to face, you avoid having to design too much.  Once the damsel is saved, she may insist that she run home, which conveniently avoids any further conversation.</p>
<h4><a name="0.1.2.4"></a>Special Behavior</h4>
<p>This is a unique task this NPC performs.  It will most likely be tied directly to the story of the game and the main purpose for this NPC to exist.  Perhaps this NPC character is the catburglar that the player is supposed to track down, so their unique behavior is to sneak around at night, steal stuff and leave clues.  Maybe this NPC critter is a pack rat that steals a key item from the player at a critical point in the game.  The special behavior is less likely to be as simplified as the other major (more common) behaviors, and that's to be expected.  The designer may spend the most time developing this behavior.</p>
<h3><a name="0.1.3"></a>Appearance</h3>
<p>This is the visual design of the NPC.  It should be in line with the overall visual design of the game, the player characters and the other NPCs.  It's best to have the tone of the visual design suggest the NPCs purpose and behavior.  For example, a simple forest creature's visual design might be basic, with no extra-ordinary consideration, while a unique NPC, critical to the advancement of the game, such as the hostage character the player is to escort through enemy territory, should appear obviously unarmed or hurt, have distinctive facial features or clothing and should generally stand out from the look of other NPCs, player characters and enemies.</p>
<h3><a name="0.1.4"></a>Movement and Sound</h3>
<p>The movement and sound design is the acting of the NPC.  Will it act like a real animal?  Does this NPC character call attention to himself by having an odd voice or moving in a unique way or do they blend into the crowd?  Is this NPC subtle, like the bluffing gambler in the saloon, or over the top, like the cartoonish side-kick robot that gives you game hints when the player is stuck.  The movement and sound design will be closely tied it's visual design and should likewise suggest both the NPC's purpose and behavior.</p>
<h3><a name="0.1.5"></a>Effects, Props and Vehicles</h3>
<p>It is possible for an NPC to have unique effects, props or vehicles in addition to their base design.  These are extra pieces to the design, parts that are separate from the NPC itself.  By in large, these elements will be spawned or emitted from the NPC (effect), attached to the NPC (prop) or the NPC will be attached to the object (vehicle).  Any abilities that the NPC gains by these items would be dependent on their availablity.  A gunslinger might have a black hat that falls off once the player has killed him.  An ogre may carry an oversized club that he lays down when he sleeps.  A gnome may ride a cat or bird.  A Egyptian god may drive a charriot made of gold mist.  While it's concievable that a player may also use these props or vehicles, by making them unique to the NPC (either too small, too large or otherwise unavailble to the player), the designer can avoid the extra work of creating new player items that may also throw off the game balance.</p>
<h2><a name="0.2"></a>Construction</h2>
<p>Once a design is formulated, it's time to begin to bring it to life.  The physical appearance is achieved through modeling, the acting is achieved through animation and the behavior and special actions are achieved through coding.</p>
<h3><a name="0.2.1"></a>Modeling</h3>
<p>Modeling is the process of creating a <a href="mesh.html">Mesh</a> or <a href="skeletal-mesh.html">Skeletal Mesh</a> for a character design.  This will be the visual representation of that character and the basis for its animations.  The model is made up of several triangle polygons (or Faces) that are oriented in 3D space to make up the whole shape of the character.  That polygon Mesh also contains the information necessary to properly display one or more Skins (or materials, textures) over the surface of the character model, which is typically called UV mapping.</p>
<p>There are several Third-Party Applications that can handle creation of the polygon model and it's UV mapping, including <a href="maya.html">Maya</a>PLE, a free Personal Learning Edition of a professional 3D modeling and animation program, which is included with Unreal Tournament 2003 and beyond.</p>
<p>See also <a href="player-modeling.html">Player Modeling</a> and <a href="unreal-modeling-faq.html">Unreal Modeling FAQ</a>.</p>
<h3><a name="0.2.2"></a>Rigging</h3>
<p>Rigging is the process of setting up the polygonal model for animation.  Depending on the animation requirements of the character's design, each model will have unique rigging requirements with varying levels of complexity.  Generally, a character model will be rigged using a Skeleton deformer (sometimes called, Joints, Bones, etc.) to deform the polygon mesh as if it had an internal skeletal structure with hinged connections.  A Skeletal deformer allows basic character model manipulation, such as bending of arms and legs, as well as complex manipulation, such as a tail or spine.  The individual joints (or bones) of the Skeleton deformer can be connected to create an overal skeletal hierachy, with each appendage (and sub-appendages) recieving inherited movement from it's parent joint.</p>
<p>Rigging models can also use other deformer tools such as Shape deformers, Spline deformers, Lattice deformers, etc., depending on the tools available in the Third-Party Application used.  The common element in all these deformer tools is that they will move the individual points that make up the connecting polygonal faces, thereby changing the shape of the overall model.</p>
<h3><a name="0.2.3"></a>Animating</h3>
<p>Animating is the process of manipulating the rigging of the character model within a timeline to create a series of sequences that represent various actions the character can make.  Typically, the character rigging (skeletal hierarchy or the like) will be positioned and "keyed" at various points in the timeline, just like the keys of a <a href="mover.html">Mover</a>.  As the animator moves (or "scrubs") along the timeline, the keyed animation will be played back and the model's rigging will animate the character.</p>
<p>Although the basic premise is the same, depending on the Third-Party Application used, the process of keying positions and saving animated sequences will differ slightly.  The main idea is to make sure that the character model moves appropriately in terms of timing, attitude and acting for each animation sequence.  Once animation is completed, these series of sequences, that represent each possible action the character can make, will be exported from the Third-Party Application to the Unreal Editor's <a href="animation-browser.html">Animation Browser</a>.</p>
<p>See also <a href="animation.html">Animation</a>.</p>
<h3><a name="0.2.4"></a>Coding</h3>
<p>Based on the design of the character's behavior and the character's abilities, the coding will entail a unique degree of complexity, in order to believably represent the chatacter's Artificial Intelligence as well as it's movements, combat abilities, special effects, etc.  Once the character animations are available to the Unreal Editor, various Object classes can be created to use those sequences to display the character's existance and behavior.  Typically, simple characters can use one class, a <a href="pawn.html">Pawn</a> subclass, to represent that character.  The Pawn classes are specifically designed to represent characters in the Unreal gamespace, handling Movement, Damage, Dying and other typical character functions as well as the inherited Animation, Physics and Sound functions from <a href="actor.html">Actor</a>.  More complex characters (like Player Characters) will require extra Object classes to complete their behavior and potential actions, such as <a href="controller.html">Controller</a>s, <a href="weapon.html">Weapon</a>s, <a href="inventoryattachment.html">InventoryAttachment</a>s, etc.</p>
<h4><a name="0.2.4.1"></a>Controllers</h4>
<p>UT2003 introduced the use of Controllers in collaboration with Pawns to represent all characters, including AI controlled entities, whereas UT used <a href="scriptedpawn.html">ScriptedPawn</a>s alone (or in conjunction with a <a href="scriptedsequence.html">ScriptedSequence</a> for special control of individual characters per map).  Controller classes are used to dictate the actions of a Pawn and handle it's non-physical elements.  While the Pawn is the visual and physical representation of a character, the Controller is the "mind" or "soul" of the character; both the decision making element and the entity that persists if that character Pawn is killed and respawned.</p>
<p>See also <a href="controller-overview.html">Controller Overview</a>.</p>
<h2><a name="0.3"></a>Testing and Integration</h2>
<p>Once your NPC is available, begin to itegrate it into the game world and among the other players and NPCs.  Test it thoroughly to ensure it will serve it's purpose adequately, behave properly under all possible considitions and situations it might face, and will appear, move and sound appropriate to it's purpose and behavior.</p>
<h2><a name="0.4"></a>Tutorials</h2>
<ul><li><a href="maya-ple-character-model-tu.html">Maya PLE Character Model Tutorial</a> &ndash; A tutorial covering modeling, rigging, animation and import of skeletal mesh characters.</li>
<li><a href="basic-ai-scripting-tutorial.html">Basic AI Scripting Tutorial</a> &ndash; A tutorial detailing the (re)creation of the NaliCow NPC for UT2004.</li>
</ul>
<h2><a name="0.5"></a>Examples</h2>
<ul><li><a href="nali.html">Nali</a> and <a href="cow.html">Cow</a> &ndash; Stock non-Monster NPCs for UT</li>
<li><a href="tankvictim.html">TankVictim</a> &ndash; A stock NPC for UT200x found in DM-Insidious</li>
<li>The <a href="http://wiki.beyondunreal.com/wiki/SuperApe#0.2.4">[ROOs]</a> &ndash; Kangaroo Non-Player Characters for UT2004 mappers.  And the <a href="http://forums.unrealplayground.com/showthread.php?t=36679">[ROOtator]</a> : A mutator designed to populate any map with ROOs; also includes the Australian RooLette and RooHunt minigames.</li>
</ul>
<h2><a name="0.6"></a>Related Topics</h2>
<ul><li><a href="gameplay.html">Gameplay</a> &ndash; Concepts and elements of satisfying game design.</li>
<li><a href="scriptedpawn.html">ScriptedPawn</a> &ndash; The parent UT class for NPCs</li>
<li><a href="xintropawn.html">xIntroPawn</a> &ndash; UT200x NPC Pawns used to act in intro scenes, cut scenes, etc.</li>
<li><a href="artificial-intelligence.html">Artificial Intelligence</a> &ndash; A super topic for all AI (bots, monsters, etc.)<ul><li><a href="monster-support.html">Monster Support</a> &ndash; A hub for monster support<ul><li><a href="an-ai-concept.html">An AI Concept</a> &ndash; Exploration of a custom monster AI construct.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3><a name="0.6.1"></a>Custom Content</h3>
<ul><li><a href="superape-old-skool-monsta-t.html">Old Skool Monsta Toolz</a> &ndash; A mod/mapping toolset for implementing complex monster/NPC behavior in UT2004.</li>
</ul>
<h2><a name="0.7"></a>Discussion</h2>
<p><em class="em2">SuperApe:</em> This page is in progress.  It will contain information on creating custom NPCs in the unreal engine. (critters, neutral individuals, helpful NPCs, etc.)  <u>The idea will be to give general concepts (not a tutorial) and to link to any relevant pages.</u>  Working...</p>
<p><em class="em2">SuperApe:</em> The structure of this page is complete.  Please give your thoughts here.</p>
<script type="text/javascript"><!--
 menuItemAdd("Design", "#0.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Purpose", "#0.1.1");
menuItemAdd("<tt>&nbsp;&nbsp;&nbsp;&nbsp;</tt>Immersion", "#0.1.1.1");
menuItemAdd("<tt>&nbsp;&nbsp;&nbsp;&nbsp;</tt>Information", "#0.1.1.2");
menuItemAdd("<tt>&nbsp;&nbsp;&nbsp;&nbsp;</tt>Inventory", "#0.1.1.3");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Behavior", "#0.1.2");
menuItemAdd("<tt>&nbsp;&nbsp;&nbsp;&nbsp;</tt>Self-Preservation", "#0.1.2.1");
menuItemAdd("<tt>&nbsp;&nbsp;&nbsp;&nbsp;</tt>Navigation", "#0.1.2.2");
menuItemAdd("<tt>&nbsp;&nbsp;&nbsp;&nbsp;</tt>Conversation", "#0.1.2.3");
menuItemAdd("<tt>&nbsp;&nbsp;&nbsp;&nbsp;</tt>Special Behavior", "#0.1.2.4");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Appearance", "#0.1.3");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Movement and Sound", "#0.1.4");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Effects, Props and Vehicles", "#0.1.5");
menuItemAdd("Construction", "#0.2");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Modeling", "#0.2.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Rigging", "#0.2.2");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Animating", "#0.2.3");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Coding", "#0.2.4");
menuItemAdd("<tt>&nbsp;&nbsp;&nbsp;&nbsp;</tt>Controllers", "#0.2.4.1");
menuItemAdd("Testing and Integration", "#0.3");
menuItemAdd("Tutorials", "#0.4");
menuItemAdd("Examples", "#0.5");
menuItemAdd("Related Topics", "#0.6");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Custom Content", "#0.6.1");
menuItemAdd("Discussion", "#0.7");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p><form method="post" action="http://wiki.beyondunreal.com/wiki" enctype="application/x-www-form-urlencoded">
<a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a><br>
Last edited June 19, 2007 11:06 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=NPC_Support">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/NPC_Support">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>
</form>
	</p>
	<p>Mostly Harmless
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="../index.html"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>


<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
