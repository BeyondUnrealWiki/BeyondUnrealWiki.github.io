<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: Function Syntax</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=Function_Syntax; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<form class="inline" method="post" action="/wiki" enctype="application/x-www-form-urlencoded"><input type="text" name="search"  size="20" /> <input type="submit" name="search" value="search" /></form>
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="http://wiki.beyondunreal.com/wiki?back=Function Syntax">Function Syntax</a></h1>
	<div class="wiki"><h2><a name="0.1"></a>Function Declaration</h2>
<p>The general function declaration looks like this:</p>
<pre class="paraverbatim"> &lt;<em class="em1">function modifiers</em>&gt; <em class="em2">function</em>/<em class="em2">event</em>/<em class="em2">delegate</em> &lt;<em class="em1">return type</em>&gt; &lt;<em class="em1">function name</em>&gt; 
  <em class="em2">(</em>&lt;<em class="em1">parameter modifier</em>&gt; &lt;<em class="em1">type</em>&gt; &lt;<em class="em1">parameter name</em>&gt;<em class="em2">,</em> ...<em class="em2">)</em>
      <em class="em2">{</em>
       ...
      <em class="em2">}</em></pre><dl><dt>&lt;function modifiers&gt;</dt><dd>Keywords that specify aspects of the function's overall nature and behaviour.</dd><dt>&lt;return type&gt;</dt><dd>The <a href="variable-type.html">variable type</a> the function returns. You can't return static arrays due to the way they have to be declared. However, you can use an <em class="em1">out</em> variable in this case. See Parameter Modifiers further down this page.</dd><dt>&lt;function name&gt;</dt><dd>The name of the function, chosen by the coder. For advice on naming conventions see <a href="coding-guidelines.html">Coding Guidelines</a>.</dd><dt>&lt;parameter modifier&gt;</dt><dd>Changes the nature of individual parameters.</dd><dt>&lt;type&gt;</dt><dd>The type of each parameter.</dd></dl>
<p>Example:</p>
<pre class="uscript"><span class="uscript-keyword">final</span> <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> MyFunction<span class="uscript-operator">(</span> <span class="uscript-type">bool</span> FirstParam <span class="uscript-operator">,</span> <span class="uscript-keyword">out</span> <span class="uscript-type">int</span> SecondParam<span class="uscript-operator">,</span> <span class="uscript-keyword">optional</span> <span class="uscript-type">string</span> ThirdParam <span class="uscript-operator">)</span>
<span class="uscript-operator">{</span>
 <span class="uscript-comment">// function code</span>
<span class="uscript-operator">}</span></pre><p>You can declare up to 16 parameters for each function. If you need to pass more variables or values you might consider putting those in a struct or array and pass that to the function.</p>
<h2><a name="0.2"></a>Function Calls</h2>
<p>There are different ways of calling a function:</p>
<pre class="uscript"><span class="uscript-keyword">local</span> <span class="uscript-type">bool</span> bReturn<span class="uscript-operator">,</span> bHaveIt<span class="uscript-operator">;</span>
<span class="uscript-keyword">local</span> <span class="uscript-type">int</span> Number<span class="uscript-operator">;</span>

MyFunction<span class="uscript-operator">(</span><span class="uscript-keyword">True</span><span class="uscript-operator">,</span> <span class="uscript-number">34</span><span class="uscript-operator">,</span> <span class="uscript-string">"Hello World!"</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span> <span class="uscript-comment">// parameters passed as literals</span>
MyFunction<span class="uscript-operator">(</span>bHaveIt<span class="uscript-operator">,</span> Number<span class="uscript-operator">)</span><span class="uscript-operator">;</span>          <span class="uscript-comment">// parameters passed as variables</span>
bReturn <span class="uscript-operator">=</span> MyFunction<span class="uscript-operator">(</span><span class="uscript-keyword">False</span><span class="uscript-operator">,</span> Number<span class="uscript-operator">,</span> <span class="uscript-string">"Hi there!"</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span> <span class="uscript-comment">// save function's return value in another variable</span></pre><p>The third version is only allowed when the function has a return value. Note, that any return value you don't save in a variable will be thrown away. For (non-actor) objects this means they are lost and will be garbage collected.</p>
<h2><a name="0.3"></a>Function vs Event</h2>
<p>The <em class="em2">event</em> keyword is similar to function, but it creates a C++ header so you can call the function from C++ code.  See <a href="unrealscript-language-refe4.html">UnrealScript Language Reference/Functions</a>.</p>
<h2><a name="0.4"></a>Delegates</h2>
<p>Delegates could be described as a mixture between a function and a class variable. Delegates can be called like functions, but you can also assign "something" to them. This "something would be another function, but see <a href="delegate.html">Delegate</a> for details since this topic is worth a whole new page.</p>
<p>The delegate keyword also includes the effect of the <em class="em2">event</em> keyword.</p>
<h2><a name="0.5"></a>Function Modifiers</h2>
<dl><dt>final</dt><dd>This function can't be overridden in subclasses or states of this class. Functions that are <em class="em1">static</em> and <em class="em1">final</em> are automatically <em class="em1">simulated</em> as well.</dd><dt>iterator</dt><dd>This function is an <a href="iterator.html">iterator</a> function for the use with <em class="em1">ForEach</em>. Only native functions can be iterator functions.</dd><dt>latent</dt><dd>Latent functions require some time to be executed. Typical examples are <em class="em1">Sleep</em> which waits for the specified amount of time before returning and <em class="em1">FinishAnim</em> which returns when the current animation has finished.<br>Latent functions can only be called from state code and may not be called from within ForEach loops. Latent functions have to be native.<br>See <a href="latent-function.html">Latent Function</a>.</dd><dt>native (or intrinsic in older Unreal versions)</dt><dd>The function is written in native C++ code.</dd><dt>native(<em class="em1">&lt;number&gt;</em>)</dt><dd>The number is a unique identifier for the function. Functions in UScript get numbers automatically, except for native functions, which can "reserve" a function number with this syntax. This is useful because this number must appear in the native code, and if it is not fixed in this fashion it could fluctuate with different builds.</dd><dt>simulated</dt><dd>The function can be executed on the server or a client in a network game. Any function not declared simulated is ignored on the client.<br>See <a href="simulated-function.html">Simulated Function</a>.<br><em class="em2">Note:</em> Simulated functions are not automatically executed on the server and all clients. See <a href="replication.html">Replication</a> for details.</dd><dt>singular</dt><dd>prevents reentrancy (recursively calling the same function, in the same object).  It can be very useful to prevent certain types of 'endless recursion loop' crashes, but it usefulness is limited by a few caveats.  When an object enters a singular function, a flag is set <b>on the object itself</b> that prevents it from re-entering a singular function.  This means that any other singular functions that are called on that object will not be executed until the initial singular function has returned, and the 'i'm in a singular function' flag has been unset on the object.  This includes base versions of the same function declared in super classes.  For example:</dd></dl>
<pre class="uscript"><span class="uscript-keyword">class</span> Base <span class="uscript-keyword">extends</span> Object<span class="uscript-operator">;</span>
<span class="uscript-keyword">singular</span> <span class="uscript-keyword">function</span> DoSomething<span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-operator">{</span> log<span class="uscript-operator">(</span><span class="uscript-string">"blah"</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span> <span class="uscript-operator">}</span>
<span class="uscript-operator">.</span><span class="uscript-operator">.</span><span class="uscript-operator">.</span>
<span class="uscript-operator">.</span><span class="uscript-operator">.</span><span class="uscript-operator">.</span>
<span class="uscript-keyword">class</span> Derived <span class="uscript-keyword">extends</span> Base<span class="uscript-operator">;</span>
<span class="uscript-keyword">singular</span> <span class="uscript-keyword">function</span> DoSomething<span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-operator">{</span> <span class="uscript-keyword">Super</span><span class="uscript-operator">.</span>DoSomething<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span> <span class="uscript-operator">}</span></pre><p>When Derived.DoSomething() is called, Super.DoSomething() will not be called, since the object already has a 'singular' function in its call stack.</p>
<dl><dt>static</dt><dd>Declares the function as static. See <a href="static-function.html">Static Function</a>.</dd><dt>exec</dt><dd>The function can be called from the console.</dd><dt>protected</dt><dd>The function is only visible from the class it was declared in and in all subclasses.</dd><dt>private</dt><dd>The function is only visible from the class it was declared in, but not in any of its subclasses.</dd></dl>
<h2><a name="0.6"></a>Parameter Types</h2>
<p>You can use any built-in <a href="variable-type.html">variable type</a>s, structs, enums, static and dynamic arrays or objects as type.  However, you can't use <em class="em1">out</em> bool or <em class="em1">optional</em> dynamic arrays. See Parameter Modifiers below.</p>
<h2><a name="0.7"></a>Parameter Modifiers</h2>
<dl><dt>out</dt><dd><p>When you pass a variable to a function, its value is copied to a local variable in that function. The <em class="em2">out</em> modifier will copy the modified local value back to the original variable when the function returns.</p>
<p>You can use this modifier when you want a function to return more than one variable. Don't try to use it as performance improvement, though. Especially with larger variable types like dynamic arrays it tends to actually slow things down.</p>
<p>Here's a simple test case to demonstrate how the <em class="em2">out</em> modifier works:</p>
<pre class="uscript"><span class="uscript-keyword">class</span> TestCommandlet <span class="uscript-keyword">extends</span> Commandlet<span class="uscript-operator">;</span>

<span class="uscript-keyword">var</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>

<span class="uscript-keyword">function</span> <span class="uscript-type">int</span> Main<span class="uscript-operator">(</span><span class="uscript-type">string</span> Args<span class="uscript-operator">)</span>
<span class="uscript-operator">{</span>
  i <span class="uscript-operator">=</span> <span class="uscript-number">1</span><span class="uscript-operator">;</span>
  log<span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
  testout<span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
  log<span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
  <span class="uscript-keyword">return</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-operator">}</span>

<span class="uscript-keyword">function</span> testout<span class="uscript-operator">(</span><span class="uscript-keyword">out</span> <span class="uscript-type">int</span> j<span class="uscript-operator">)</span>
<span class="uscript-operator">{</span>
  log<span class="uscript-operator">(</span>i<span class="uscript-operator">@</span>j<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
  j<span class="uscript-operator">++</span><span class="uscript-operator">;</span>
  log<span class="uscript-operator">(</span>i<span class="uscript-operator">@</span>j<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-operator">}</span></pre><p>Call <code>UCC YourPackage.Test</code> at the command line and you get:</p>
<pre>1
1 1
1 2
2</pre><p>As you can see, the global variable didn't change while the <code>testout</code> function was executed. But it changed right after the function returned.</p>
</dd><dt>optional</dt><dd>This parameter may be skipped in a call. If a parameter should be skipped add commas as normal. If the skipped parameter is the last one the comma can be left out as well. This modifier is ignored for dynamic arrays.</dd><dt>coerce</dt><dd>Automatically casts the parameter to the specified type. (see <a href="typecasting.html">Typecasting</a> for details)</dd><dt>skip</dt><dd>Only valid as modifier of the second parameter of a native operator. If the first parameter already is enough to decide the operators return value then the second one will not be evaluated. This is used for the <code>||</code> and <code>&amp;&amp;</code> operators.</dd></dl>
<h2><a name="0.8"></a>Empty Functions </h2>
<p>Two reasons to declare an 'empty' function:</p>
<ul><li>declare an "abstract" empty function that can then be "specialised" in a subclass or a state</li>
<li>override a function with one that does nothing, in a subclass or state</li>
</ul>
<p>Both of the following types of syntax work for both applications:</p>
<pre class="uscript"><span class="uscript-keyword">function</span> Foo<span class="uscript-operator">(</span> <span class="uscript-type">float</span> MyParam <span class="uscript-operator">)</span> <span class="uscript-operator">{</span><span class="uscript-operator">}</span>
<span class="uscript-keyword">function</span> Foo<span class="uscript-operator">(</span> <span class="uscript-type">float</span> MyParam <span class="uscript-operator">)</span> <span class="uscript-operator">;</span></pre><p>When such a function is called, it does nothing.  If it is declared to return a value, that value is the respective data type's "empty" value (0, "", None or the like).</p>
<p><em class="em2">Note:</em> There's not much use in making an empty function simulated. The simulated keyword (like most other function modifiers) isn't inherited and when there's no code, there's nothing to be executed on a client. <img alt=";)" src="emoticons/wink.gif" align="middle"></p>
<p><em class="em2">Vitaloverdose</em> I cant seem to find any example of how to overwrite a function with a return value. Can this be done without recieving a warning in the log?</p>
<p><em class="em2">Wormbo:</em> What do you mean? UT is full of overridden functions that have a return value and use the super version's return value in some way as well.</p>
<p><em class="em2">Sweavo:</em> @vital: do you mean overriding a function that hasn't got a return value with one that has? (I don't have the answer, I just thought that was a version of the question that might make sense!)</p>
<p><em class="em2">Wormbo:</em> That'd involve changing the function prototype, which is not allowed in UnrealScript.</p>
<h2><a name="0.9"></a>Related Topics</h2>
<ul><li><a href="unrealscript.html">UnrealScript</a><ul><li><a href="delegate.html">Delegate</a></li>
<li><a href="exec-function.html">Exec Function</a></li>
<li><a href="latent-function.html">Latent Function</a></li>
<li><a href="global-function.html">Global Function</a></li>
<li><a href="replicated-function.html">Replicated Function</a></li>
<li><a href="scripting-operators.html">Scripting Operators</a></li>
<li><a href="simulated-function.html">Simulated Function</a></li>
<li><a href="static-function.html">Static Function</a></li>
</ul>
</li>
<li><a href="unrealscript-language-refe4.html">UnrealScript Language Reference/Functions</a></li>
</ul>
<script type="text/javascript"><!--
 menuItemAdd("Function Declaration", "#0.1");
menuItemAdd("Function Calls", "#0.2");
menuItemAdd("Function vs Event", "#0.3");
menuItemAdd("Delegates", "#0.4");
menuItemAdd("Function Modifiers", "#0.5");
menuItemAdd("Parameter Types", "#0.6");
menuItemAdd("Parameter Modifiers", "#0.7");
menuItemAdd("Empty Functions ", "#0.8");
menuItemAdd("Related Topics", "#0.9");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p><form method="post" action="http://wiki.beyondunreal.com/wiki" enctype="application/x-www-form-urlencoded">
<a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a><br>
Last edited May 23, 2006 10:10 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=Function_Syntax">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/Function_Syntax">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>
</form>
	</p>
	<p>Worst-case scenario: the UEd Goblin wipes the map and burns down your house.
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="../index.html"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>


<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
