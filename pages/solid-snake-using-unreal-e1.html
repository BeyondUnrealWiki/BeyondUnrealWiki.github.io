<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: Solid Snake/Using Unreal Engine 3.0s UIScene</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=Solid_Snake/Using_Unreal_Engine_3.0s_UIScene; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<form class="inline" method="post" action="/wiki" enctype="application/x-www-form-urlencoded"><input type="text" name="search"  size="20" /> <input type="submit" name="search" value="search" /></form>
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="solid-snake.html">Solid Snake</a>/<a href="http://wiki.beyondunreal.com/wiki?back=Solid+Snake/Using+Unreal+Engine+3.0s+UIScene">Using Unreal Engine 3.0s UIScene</a></h1>
	<div class="wiki"><h2><a name="0.1"></a>How to use Unreal Engine 3.0's UIScene Editor</h2>
<h3><a name="0.1.1"></a>Introduction</h3>
<p>This tutorial will show you how to use Unreal Ed 4.0's UIScene/UISkin editor. It appears now that Unreal Engine 3.0 has become so readily adopted by so many game companies/publishers, Epic has finally decided to make an editor for UI's. There are a lot of benefits to doing this, first this kind of tool is really appealing to those who simply want to get the basics of their game up and running. Menus are often one of the last few steps in any game production. Of course this is one of the main reasons why game menus almost always suck. Anyways, with Unreal Engine 3.0, there is now a built-in editor which means at any point in development the user can start making menus, without requiring the involvement of a programmer (as was the case with Unreal Engine 2.0). Also, UIScene is directly tied with Kismet to power its functionality, so again the programmers in the team are not as involved in menu creation as they were before. This sounds like a bad thing for programmers, removing one of the tasks they have to do, but I can assure you (and many other programmers will also tell you), programmers have a lot more to worry about than menus. The only real involvement programmers have with menus is the creation of Kismet elements, which I will also show in this tutorial. The basic set of UI Kismet functions allow you to do most things, however, there are some which require a bit more scripting.</p>
<p>So, lets get into the Unrealscript now. Since we would need to code these things first .. and then let UnrealED load them. You can do it the other way around, but it means you have to flick between using the editor and compiling code (which you can't do at the same time by the way).</p>
<h3><a name="0.1.2"></a>Aim</h3>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[UE3UI_Title]" src="images/ue3ui-title.gif"></div>
</td>
</tr>
</table>
</div>
<p>This is what we want to create at the end of the tutorial. A 'fully' functional menu like this. By fully functional, I mean that the basic buttons work and link to something. I also added some other small minor details ... but from here I am sure other people will get the idea of how things work.</p>
<h3><a name="0.1.3"></a>Unrealscript</h3>
<p>If you aren't a programming/Unreal Scripter, then you can just skip this part.</p>
<p>While it isn't 100% neccessary, if you are purely a graphics artist, you may want to pass your completed scene over to a programmer so that he can add the functionality. This is because, while Kismet is great, it is macro way of doing 'script' as such. You join elements together, and connect them up ... but what exactly those elements do is out of your control. You can change some of them, as they will accept inputs and they change accordingly (such as the log/console elements), but if you need something rather specific, you'll be out of luck.</p>
<p>In this case, I needed better sound-playing elements. The UI sound elements were limited in that they could only play back sound cues set up in UISkin. The major problem with this was that there were very few UISkin sound cues, so if I wanted to create a menu with dozens of sounds ... it would be hard. Therefore I wrote these Kismet UI elements.</p>
<pre class="uscript"><span class="uscript-line">00001</span>  <span class="uscript-keyword">class</span> xUIPlaySound <span class="uscript-keyword">extends</span> UIAction<span class="uscript-operator">;</span>
<span class="uscript-line">00002</span>  
<span class="uscript-line">00003</span>  <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> SoundCue SoundCue<span class="uscript-operator">;</span> <span class="uscript-comment">// Make this variable available for the editor to adjust.</span>
<span class="uscript-line">00004</span>  
<span class="uscript-line">00005</span>  <span class="uscript-keyword">function</span> Activated<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00006</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00007</span>    <span class="uscript-keyword">local</span> WorldInfo wii<span class="uscript-operator">;</span> <span class="uscript-comment">// Oh lolz!</span>
<span class="uscript-line">00008</span>  
<span class="uscript-line">00009</span>    <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>SoundCue <span class="uscript-operator">==</span> <span class="uscript-keyword">none</span><span class="uscript-operator">)</span> <span class="uscript-comment">// Check that we have a valid sound cue. If not, return.</span>
<span class="uscript-line">00010</span>      <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">00011</span>  
<span class="uscript-line">00012</span>    wii <span class="uscript-operator">=</span> GetWorldInfo<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span> <span class="uscript-comment">// Get the world info</span>
<span class="uscript-line">00013</span>  
<span class="uscript-line">00014</span>    <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>wii <span class="uscript-operator">!=</span> <span class="uscript-keyword">none</span><span class="uscript-operator">)</span> <span class="uscript-comment">// Check we have a valid world info </span>
<span class="uscript-line">00015</span>      wii<span class="uscript-operator">.</span>PlaySound<span class="uscript-operator">(</span>SoundCue<span class="uscript-operator">)</span><span class="uscript-operator">;</span> <span class="uscript-comment">// Play sound</span>
<span class="uscript-line">00016</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00017</span>  
<span class="uscript-line">00018</span>  <span class="uscript-keyword">defaultproperties</span>
<span class="uscript-line">00019</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00020</span>    ObjName<span class="uscript-operator">=</span><span class="uscript-string">"Play sound Cue"</span> <span class="uscript-comment">// This is a the name of the Kismet element which shows up in the editor</span>
<span class="uscript-line">00021</span>    ObjCategory<span class="uscript-operator">=</span><span class="uscript-string">"Sound"</span> <span class="uscript-comment">// The category which the element belongs in. You can make new ones</span>
<span class="uscript-line">00022</span>    <span class="uscript-type">Name</span><span class="uscript-operator">=</span><span class="uscript-string">"Default__UIAction_xUIPlaySound"</span> <span class="uscript-comment">// Just a default name for the object</span>
<span class="uscript-line">00023</span>    HandlerName<span class="uscript-operator">=</span><span class="uscript-string">"xUIPlaySound"</span> <span class="uscript-comment">// You'll need this to prevent script errors, I just have this the same as the class, but it could be anything</span>
<span class="uscript-line">00024</span>    bCallHandler<span class="uscript-operator">=</span><span class="uscript-keyword">true</span> <span class="uscript-comment">// Unsure at this point</span>
<span class="uscript-line">00025</span>    ObjectArchetype<span class="uscript-operator">=</span>UIAction<span class="uscript-name">'Engine.Default__UIAction'</span> <span class="uscript-comment">// The default template</span>
<span class="uscript-line">00026</span>  <span class="uscript-operator">}</span></pre><p>Alright, so this class just plays back a sound. If your wondering what WorldInfo is, WorldInfo is a lot like LevelInfo. I guess, with streaming levels, it made more sense to encompass some variables in the entire 'world' rather than each individual level. When Kismet elements are 'called', the Activated function gets run (from native script I believe). So once this class got activated, it got the WorldInfo (via a native function) and asked the WorldInfo to play a sound (this was possible as WorldInfo is an actor).</p>
<pre class="uscript"><span class="uscript-line">00001</span>  <span class="uscript-keyword">class</span> xUIStopSound <span class="uscript-keyword">extends</span> UIAction<span class="uscript-operator">;</span>
<span class="uscript-line">00002</span>  
<span class="uscript-line">00003</span>  <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> SoundCue SoundCue<span class="uscript-operator">;</span>
<span class="uscript-line">00004</span>  <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-type">float</span> FadeOutTime<span class="uscript-operator">;</span>
<span class="uscript-line">00005</span>  
<span class="uscript-line">00006</span>  <span class="uscript-keyword">function</span> Activated<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00007</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00008</span>    <span class="uscript-keyword">local</span> WorldInfo wii<span class="uscript-operator">;</span> <span class="uscript-comment">// Oh lolz!</span>
<span class="uscript-line">00009</span>    <span class="uscript-keyword">local</span> PlayerController C<span class="uscript-operator">;</span>
<span class="uscript-line">00010</span>  
<span class="uscript-line">00011</span>    <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>SoundCue <span class="uscript-operator">==</span> <span class="uscript-keyword">none</span><span class="uscript-operator">)</span>
<span class="uscript-line">00012</span>      <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">00013</span>  
<span class="uscript-line">00014</span>    wii <span class="uscript-operator">=</span> GetWorldInfo<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00015</span>  
<span class="uscript-line">00016</span>    <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>wii <span class="uscript-operator">!=</span> <span class="uscript-keyword">none</span><span class="uscript-operator">)</span>
<span class="uscript-line">00017</span>    <span class="uscript-operator">{</span>
<span class="uscript-line">00018</span>      <span class="uscript-keyword">foreach</span> wii<span class="uscript-operator">.</span>AllControllers<span class="uscript-operator">(</span><span class="uscript-keyword">class</span><span class="uscript-name">'PlayerController'</span><span class="uscript-operator">,</span> C<span class="uscript-operator">)</span>
<span class="uscript-line">00019</span>        <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>C <span class="uscript-operator">!=</span> <span class="uscript-keyword">none</span><span class="uscript-operator">)</span>
<span class="uscript-line">00020</span>          C<span class="uscript-operator">.</span>Kismet_ClientStopSound<span class="uscript-operator">(</span>SoundCue<span class="uscript-operator">,</span> wii<span class="uscript-operator">,</span> FadeOutTime<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00021</span>    <span class="uscript-operator">}</span>
<span class="uscript-line">00022</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00023</span>  
<span class="uscript-line">00024</span>  <span class="uscript-keyword">defaultproperties</span>
<span class="uscript-line">00025</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00026</span>    ObjName<span class="uscript-operator">=</span><span class="uscript-string">"Stop Sound Cue"</span>
<span class="uscript-line">00027</span>    ObjCategory<span class="uscript-operator">=</span><span class="uscript-string">"Sound"</span>
<span class="uscript-line">00028</span>    <span class="uscript-type">Name</span><span class="uscript-operator">=</span><span class="uscript-string">"Default__UIAction_xUIStopSound"</span>
<span class="uscript-line">00029</span>    HandlerName<span class="uscript-operator">=</span><span class="uscript-string">"xUIStopSound"</span>
<span class="uscript-line">00030</span>    bCallHandler<span class="uscript-operator">=</span><span class="uscript-keyword">true</span>
<span class="uscript-line">00031</span>    ObjectArchetype<span class="uscript-operator">=</span>UIAction<span class="uscript-name">'Engine.Default__UIAction'</span>
<span class="uscript-line">00032</span>  <span class="uscript-operator">}</span></pre><p>I decided that I would probably need a stop sound function. On testing, I found that it did work for what I was using it for (to leap in the future, I used this for stopping the music playback). Its nothing out of the ordinary.</p>
<pre class="uscript"><span class="uscript-line">00001</span>  <span class="uscript-keyword">class</span> MyGameInfo <span class="uscript-keyword">extends</span> rbarenapersistentgameinfo<span class="uscript-operator">;</span>
<span class="uscript-line">00002</span>  
<span class="uscript-line">00003</span>  <span class="uscript-keyword">static</span> <span class="uscript-keyword">function</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>GameInfo<span class="uscript-operator">&gt;</span> SetGameType<span class="uscript-operator">(</span><span class="uscript-type">string</span> mapname<span class="uscript-operator">,</span> <span class="uscript-type">string</span> options<span class="uscript-operator">)</span>
<span class="uscript-line">00004</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00005</span>    <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00006</span>  
<span class="uscript-line">00007</span>    i <span class="uscript-operator">=</span> instr<span class="uscript-operator">(</span>caps<span class="uscript-operator">(</span>mapname<span class="uscript-operator">)</span><span class="uscript-operator">,</span> caps<span class="uscript-operator">(</span><span class="uscript-string">"RBArenaHub"</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00008</span>  
<span class="uscript-line">00009</span>    <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>i <span class="uscript-operator">!=</span> <span class="uscript-operator">-</span><span class="uscript-number">1</span><span class="uscript-operator">)</span>
<span class="uscript-line">00010</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">super</span><span class="uscript-operator">.</span>SetGameType<span class="uscript-operator">(</span>mapname<span class="uscript-operator">,</span> options<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00011</span>    <span class="uscript-keyword">else</span>
<span class="uscript-line">00012</span>      <span class="uscript-keyword">return</span> <span class="uscript-keyword">class</span><span class="uscript-name">'MyGameInfo'</span><span class="uscript-operator">;</span>
<span class="uscript-line">00013</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00014</span>  
<span class="uscript-line">00015</span>  <span class="uscript-keyword">defaultproperties</span>
<span class="uscript-line">00016</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00017</span>    PlayerControllerName<span class="uscript-operator">=</span><span class="uscript-string">""</span>
<span class="uscript-line">00018</span>    PlayerControllerClass<span class="uscript-operator">=</span><span class="uscript-keyword">class</span><span class="uscript-name">'MyTestPackage.xPlayer'</span>
<span class="uscript-line">00019</span>  <span class="uscript-operator">}</span></pre><p>This is a slight extension to my previous tutorials, and all it does is that it spawns my own player controller. However, if the map requested was RBArenaHub, it would return the default function result (RoboBlitz's structure was a little strange to me.. so yeah). You'll need to read the other <a href="solid-snake-opening-a-uisce.html">tutorial</a> to learn how to get a UIScene to appear using UScript.</p>
<h3><a name="0.1.4"></a>UnrealED 4.0</h3>
<p>This tutorial will assume that you know the basics about UnrealED 4.0. There are lots of tutorials around, so look them up if you need to. So start with opening up the 'Generic Browser', and then create a new UIScene by selecting it in the context menu (right click in the gray area, or click "New", select the correct parameters like so.</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[UE3UI_01]" src="images/ue3ui-01.gif"><p>Creating a new UIScene, called 'MyScenes.Test'</p>
</div>
</td>
</tr>
</table>
</div>
<p>From here start populating your menu by using the context menu to add new UI elements to the scene. I used LabelButton for my buttons, and the rest were just Images. I took a lot of the art from RoboBlitz, and it works for this tutorial. Its also a really good idea to use EVALPOS_PercentageOwner, as this will look up the screen coordinates of elements percentage wise. This means that your entire scene will scale according to the screen resolution. However if you need very specifc coordinates (the close button that is always 16 pixels away from the top right corner) then you can use pixel coordinates, but be aware that they may not scale accordingly. Explore the interface a little, as it does provide a lot of tools that you can use to do things. So after a wee while I created a UI scene which looked like this. Pretty neat aye? It certainly took a lot less time than Unreal Engine 2.0 to setup.</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[UE3UI_02]" src="images/ue3ui-02.gif"><p>The UI Scene that I created, well .. I didn't create the art.</p>
</div>
</td>
</tr>
</table>
</div>
<p>The first thing I wanted to do was to change the appearance of my buttons. They look pretty ugly with the bubbly texture in the background [I honestly wonder who made that texture, as its still surviving to this day!] as well as the default font. So lets start by creating a new UISkin. The UISkin is basically a template on how UIScenes look like. This makes it a lot easier to make a more cohesive and uniform menu system. If you are familiar with Unrealscript and the interface code for Unreal Engine 2.0, this is the equivalent to the style code in UE2.x. However, this is now all windows driven ... which makes it a lot easier to make new styles and to create new looks for your scene.</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[UE3UI_03]" src="images/ue3ui-03.gif"><p>So select the Styles Tab, and click on Create New Skin [Yes I know I've already created it, but its sort of like that 'And heres one I already prepared' scenario.</p>
</div>
<div><img alt="[UE3UI_04]" src="images/ue3ui-04.gif"><p>And just click ok when your done</p>
</div>
</td>
</tr>
</table>
</div>
<p>From here, we actually need to take a break and close down UnrealEd 4.0. So save all the work you've done and open up &lt;%ROBOBLITZ%&gt;\RoboGame\Config\RoboEngine.ini. Find the following lines and add:</p>
<pre class="uscript"><span class="uscript-line">00001</span>  <span class="uscript-operator">[</span>Engine<span class="uscript-operator">.</span>UIInteraction<span class="uscript-operator">]</span>
<span class="uscript-line">00002</span>  <span class="uscript-operator">;</span>UISkinName<span class="uscript-operator">=</span>MISC_DefaultLoadEngine<span class="uscript-operator">.</span>DefaultSkin
<span class="uscript-line">00003</span>  UISkinName<span class="uscript-operator">=</span>MyUISkin<span class="uscript-operator">.</span>DefaultSkin
<span class="uscript-line">00004</span>  bCaptureUnprocessedInput<span class="uscript-operator">=</span><span class="uscript-keyword">True</span>
<span class="uscript-line">00005</span>  UIJoystickDeadZone<span class="uscript-operator">=</span><span class="uscript-number">0.9</span>
<span class="uscript-line">00006</span>  UIAxisMultiplier<span class="uscript-operator">=</span><span class="uscript-number">1.0</span>
<span class="uscript-line">00007</span>  AxisRepeatDelay<span class="uscript-operator">=</span><span class="uscript-number">1.3</span>
<span class="uscript-line">00008</span>  UISoundCueNames<span class="uscript-operator">=</span>MouseEnter
<span class="uscript-line">00009</span>  UISoundCueNames<span class="uscript-operator">=</span>MouseExit
<span class="uscript-line">00010</span>  UISoundCueNames<span class="uscript-operator">=</span>Clicked
<span class="uscript-line">00011</span>  UISoundCueNames<span class="uscript-operator">=</span>Focused
<span class="uscript-line">00012</span>  UISoundCueNames<span class="uscript-operator">=</span>SceneOpened
<span class="uscript-line">00013</span>  UISoundCueNames<span class="uscript-operator">=</span>SceneClosed
<span class="uscript-line">00014</span>  UISoundCueNames<span class="uscript-operator">=</span>ListUp
<span class="uscript-line">00015</span>  UISoundCueNames<span class="uscript-operator">=</span>ListDown
<span class="uscript-line">00016</span>  UISoundCueNames<span class="uscript-operator">=</span>SliderIncrement
<span class="uscript-line">00017</span>  UISoundCueNames<span class="uscript-operator">=</span>SliderDecrement
<span class="uscript-line">00018</span>  UISoundCueNames<span class="uscript-operator">=</span>NavigateUp
<span class="uscript-line">00019</span>  UISoundCueNames<span class="uscript-operator">=</span>NavigateDown
<span class="uscript-line">00020</span>  UISoundCueNames<span class="uscript-operator">=</span>NavigateLeft
<span class="uscript-line">00021</span>  UISoundCueNames<span class="uscript-operator">=</span>NavigateRight</pre><p>From here, you can see that you could potentially add more UISoundCueNames, but its annoying having to do this in the editor at this point (or at least I think your stuck to this method at the moment). Anyways, there is still a place for UISoundCue, as it also creates a more uniform menu (when things all sound the same). This basically points the default UISkin to the new one that you made earlier. Now you can restart the editor...</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[UE3UI_05]" src="images/ue3ui-05.gif"></div>
</td>
</tr>
</table>
</div>
<p>So now you can go back to where you were before, and now you can start editing your skin. One 'bug' I found with this little menu is that, when you click on 'Save Selected Skin', it may tell you that it failed to do that. Packages in UnrealED 4.0 must be fully loaded in order to save them (I guess this prevents them from saving partial packages .. with resources that may have been needed elsewhere. It seems packages no longer cull themselves). But it doesn't tell you that. Once you fully load your package (You do this in the Generic Browser menu), you can use this menu option. Or if you want, you could just save it from the Generic Browser.</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[UE3UI_06]" src="images/ue3ui-06.gif"></div>
</td>
</tr>
</table>
</div>
<p>Anyways, once you open up the Skin Editor, you will get something that looks like this. So much better than having hundreds of styles in Unreal Engine 2.0. If you wanted to make new root styles, I think you may need to create this in unrealscript. I am not 100% sure about that though as I hadn't needed to do that. But really, there is no point in making root styles, as you can just make child styles and save yourself a lot of headaches.</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[UE3UI_07]" src="images/ue3ui-07.gif"></div>
</td>
</tr>
</table>
</div>
<p>So lets start by making a new style. Right click on 'Button Text Style' and select 'Create Style Using Button Text Style As Template'. Basically what this means, is that instead of making a style completely from scratch, you make a style by subclassing essentially.</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[UE3UI_08]" src="images/ue3ui-08.gif"></div>
</td>
</tr>
</table>
</div>
<p>So just type in what you want and click ok to make it. The Unique Tag does actually need to be unique. Friendly Name can be whatever you like. To make them unique just add numbers on the end, and it usually keeps you out of making similar named ones. I am not sure if UnrealED will warn you if you make the same style names.</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[UE3UI_09]" src="images/ue3ui-09.gif"></div>
</td>
</tr>
</table>
</div>
<p>Right, so this is one of the interfaces you get for editing the style. This interface is mainly used for editing styles that deal with fonts. From here you can set pretty much anything you could imagine with fonts. One thing I noticed was with the 'Attributes' boxes. I don't know if these work or not, but they always seem to be grayed out. I guess you could always just make fonts which handle this. Surprisingly, Unreal Engine 3.0 doesn't seem to handle TrueType fonts just yet (some other game engines have already shifted to this style of rendering fonts). You can however import TrueType fonts into the engine easily enough (using the Generic Browser again). Styles have a few states they can be:</p>
<ul><li>Styles<ul><li>Active - The mouse is hovering over this</li>
<li>Disabled - The GUI component has been disabled (will not respond to inputs)</li>
<li>Enabled - The GUI component is enabled (will respond to inputs)</li>
<li>Focused - The GUI component currently has focus. This is not the same as Active. A GUI component can retain focus, while something else is active. I imagine this is useful for a lot of things...</li>
<li>Pressed - The GUI component is currently 'pressed'. You can use this to simulate buttons, well ... they get pressed</li>
</ul>
</li>
</ul>
<p>So you have to actually set properties for all five states. If you untick any of the states, it will just use the parent style state defination. This is really useful when you have minor state changes in the child classes (such as the text will color differently when being active).</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[UE3UI_10]" src="images/ue3ui-10.gif"></div>
</td>
</tr>
</table>
</div>
<p>Right, so once you've finished editing the font style ... we want to create a combo style as that is what Label Button wants to use. So lets create a new Label Button Style.</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[UE3UI_11]" src="images/ue3ui-11.gif"></div>
</td>
</tr>
</table>
</div>
<p>Fill in the parameters as before and go!</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[UE3UI_12]" src="images/ue3ui-12.gif"></div>
</td>
</tr>
</table>
</div>
<p>Right so this looks a lot more complicated than before. But its because it just has two style editing interfaces plugged into one page. We have the font portion as well as the texture portion (for the button in the background). I decided to use the style that I had made earlier, so I just selected an existing text style like above. I wanted no images in the background, so I just turned the alpha down to zero, so that it wouldn't render it. Once you've finished with that, save and exit the Skin editor. </p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[UE3UI_13]" src="images/ue3ui-13.gif"></div>
</td>
</tr>
</table>
</div>
<p>Right, so now its time to start using our fancy styles that we've just made. To do so, right click on the GUI component (also called Widgets in Unreal Engine 3.0) and select the style that you want to use. In this case I wanted to use the style I just made above.</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[UE3UI_14]" src="images/ue3ui-14.gif"></div>
</td>
</tr>
</table>
</div>
<p>And wa lah! There it is .. our new style in action. Going through these steps took less than a couple of minutes for me (as I had done quite a lot of playing around before then). Again, this is so much easier than Unreal Engine 2.0's implementation as you don't even need to start the game to see results.</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[UE3UI_15]" src="images/ue3ui-15.gif"></div>
</td>
</tr>
</table>
</div>
<p>So we just set it to all of our GUI components and we're done! That was quick, easy and painless.</p>
<h3><a name="0.1.5"></a>Kismet</h3>
<p>Right, so from here we've done the graphical components of UIScene. But a UIScene isn't any good if it can't do anything. So lets have a look at the Kismet states of each 'button' (Play!, Options, Quit)</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[UE3UI_16]" src="images/ue3ui-16.gif"></div>
</td>
</tr>
</table>
</div>
<p>This is the 'Play!' button Kismet layout. Remember the Play Sound Cue UI class that we wrote? This is where I used it. When you hover your mouse over the button, it goes into the 'Active' state. From this state, the rendering changes to the 'Active' style, and enters the Active Kismet state. So, when we enter this state, I made it play a sound (which reproduces the mouse over sound in the interface). That wasn't so hard now was it? You could probably do a lot of other cool things from here as well.</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[UE3UI_19]" src="images/ue3ui-19.gif"></div>
</td>
</tr>
</table>
</div>
<p>Double clicking the 'State Input Events' give you this box. It basically binds the state to any keys you want the GUI Component to respond to while in this state. For all the buttons, we want to respond to the Left Mouse Button being clicked. From here, to finish the 'Play!' button we add a console command, with the parameters 'start RBArenaHub' [This is why I introduced the hack above for our own game info], and once the console command is finished, I then close the current scene.</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[UE3UI_17]" src="images/ue3ui-17.gif"></div>
</td>
</tr>
</table>
</div>
<p>This is the 'Options' button. Here all we do is close the current scene, and open a new scene.</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[UE3UI_18]" src="images/ue3ui-18.gif"></div>
</td>
</tr>
</table>
</div>
<p>This is the 'Quit' button. All it does is call the console function 'quit'.</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[UE3UI_21]" src="images/ue3ui-21.gif"></div>
</td>
</tr>
</table>
</div>
<p>This is the Kismet for the scene. You get here by right click on the 'Test' in the main UIScene editor window. This is where I handled the music. When the scene was opened, it would play the main menu music. When it was closed it would stop the main menu music. This method did have a small bug, in that if you went to the options menu it would kill the music. Theres probably another way of doing it, but this method worked reasonably ok otherwise. The one way to 'fix' it was to not close the main menu scene, and just switch focus to the scene just opened. But we can do that another day.</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[UE3UI_20]" src="images/ue3ui-20.gif"></div>
</td>
</tr>
</table>
</div>
<p>Lastly, we just have the scene parameters to play with. The only things we want ticked are the 'bCloseOnLevelChange' and 'bDisplayCursor'. If you pause the game to open the scene, the sounds don't actually get played (which you would then probably need to use UISoundCue).</p>
<h3><a name="0.1.6"></a>Conclusion</h3>
<p>Well there you have it. There is how you make a 'fully' functional menu from start to finish. I wrote this after I had figured it all out, so I may have missed a few steps here and there. If a big step has been missed, please let me know so I can add it in. Hopefully this tutorial will get you started on modding for RoboBlitz/Unreal Engine 3.0. I know that RoboBlitz has its own menu system, but I chose to learn this one as it would be more applicable in learning Unreal Engine 3.0, because this one would more likely be built within the engine itself (And thus able to use it within Unreal Tournament 2007). Also this was a more graphical approach to things, especially with the UIEditor + UISkin + Kismet all working in tandem. Its much easier to develop menu interactions using this method. And thats it, I do hope to bring back a windows interface to work with all this, but I will see how it goes. I think in Unreal Engine 2.x I spent too much time creating a cool interface rather than creating a cool game.</p>
<p>Anyways, thanks for reading. Hope it all made sense.</p>
<h4><a name="0.1.6.1"></a>Comments</h4>
<p><em class="em2">Wormbo:</em> Some easier to recognize image names would have been nice. Image names should relfect what the user can expect to see, like "UE3-UIScene-New". Also, please consider using PNG if the image is mainly simple graphics, especially if it still contains more than 256 colors. <img alt=":)" src="emoticons/smile.gif" align="middle"></p>
<p><em class="em2">Solid Snake:</em> Will do that next time.</p>
<hr class="thin"><p><a href="category-tutorial.html">Category Tutorial</a></p>
<script type="text/javascript"><!--
 menuItemAdd("How to use Unreal Engine 3.0's UIScene Editor", "#0.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Introduction", "#0.1.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Aim", "#0.1.2");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Unrealscript", "#0.1.3");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>UnrealED 4.0", "#0.1.4");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Kismet", "#0.1.5");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Conclusion", "#0.1.6");
menuItemAdd("<tt>&nbsp;&nbsp;&nbsp;&nbsp;</tt>Comments", "#0.1.6.1");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p><form method="post" action="http://wiki.beyondunreal.com/wiki" enctype="application/x-www-form-urlencoded">
<a href="../index.html">Home Page</a> | <a href="solid-snake.html">Solid Snake</a> | <a href="recent-changes.html">Recent Changes</a><br>
Last edited April 21, 2007 2:42 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=Solid_Snake/Using_Unreal_Engine_3.0s_UIScene">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/Solid_Snake/Using_Unreal_Engine_3.0s_UIScene">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>
</form>
	</p>
	<p>I don't need to test my programs. I have an error-correcting modem.
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="../index.html"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>


<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
