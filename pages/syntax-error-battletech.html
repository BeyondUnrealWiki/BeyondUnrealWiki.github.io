<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: Syntax Error/Battletech</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=Syntax_Error/Battletech; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<input type="text" name="search"  size="14" /> <input type="button" onclick="location.href='../search-error/index.html';" value="search" />
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="syntax-error.html">Syntax Error</a>/<a href="http://wiki.beyondunreal.com/wiki?back=Syntax+Error/Battletech">Battletech</a></h1>
	<div class="wiki"><h3><a name="0.0.1"></a>Battletech: Timelines a UT2004 Total Conversion</h3>
<p>This TC(Total Conversion) will impliment mechs as vehicles, as well as having additional vehicles from the Battletech universe such as tanks, repair trucks, and aerofighters. We have recently changed game engines to UT2004. For more info check out our webpage (finding new webspace)</p>
<h3><a name="0.0.2"></a>Current Progress, Newest First</h3>
<p><em class="em1">2005/03/25</em> - I have been able to contact the Leader of the mod team that was working on Timelines again. He said that he would love to see the project back up again if I can start working on it again. Once my computer arrives here in Iraq (about a week from now), I will be finishing the Mini-mod we have planned and starting up an ingame "intro" movie to show off our plans.</p>
<p><em class="em1">2005/02/06</em> - Lots has changed and happend in the past 4 months. I have shut down my website, trained for 2 moths to get ready to goto Iraq, and now I type this from that very same country. I'm sorry to say that the UT2004 Battletech mod has been offically shut down. It appears no one was willing or able to fill my place as coder. </p>
<p><em class="em1">2004/10/07</em> - Sorry for the lack of updates, been busy changing duty staitons (see my personal page)and I am currently on a "Field" Op. Mech code is semi-finalized, and I'm beginning to work on the new weapons for Timelines. The pistol has been started and will function basically like the UT99 dual pistols. Additional weapons include: the gyro-slug rifle which fires explosive slugs, Nikita laser sniper rifle, and the LAW. Screens of the weapons are coming soon.</p>
<p><em class="em1">2004/08/15</em> - While working on recoding and improting the new meshes I have recived, I decided to change which mech I would get working first. The Marauder is now ingame and is walking very much like CIpen's mech. Much tweaking in the params and defaults and such is still needed, but it is basically doing what I want (wootage, i got it <img alt=":D" src="emoticons/biggrin.gif" align="middle"> )</p>
<p><em class="em1">2004/08/10</em> - After testing CIpen's initial relase of his mech code and vehicle, I have decided to do a complete rewrite of my code, based on his code. I have also recived quite a few more meshes for import, including: Dragon (mech), Pillager(mech), LAW (weapon), and Gyro Slug Rifle (weapon). Import is going smoothly and upon completion of the Panther's recoding everything should fall into place.</p>
<p><em class="em1">2004/08/04</em> - Added some more animations to the Panther, and have gotten the animation to adjust its rate relative to the speed and direction of the mech. However, some parts of moving around still are not how I want them. The panther will be put on hold for a bit while I work on the latest model completed by the team: the Elemental. This is again a vehicle, but this time it will act almost exactly like a player: same bones and animations and PHYS_Walking will be used.</p>
<p><em class="em1">2004/07/27</em> - After more digging through forums and what not, I have found some very handy info. First, I think the custom code was meant to be based off ONSHoverBike, not the tank. Going to have to do a bit of recoding then, but shoulden't be TOO bad. Second, I now have the walking anim being looped only after the velocity is over 20 or so. It goes into the anim fairly quickly, so I will try to use the velocity to scale the anim rate. The only problem I forsee is that velocity is positive wether moving forward or back or strafing, and I would like different anims for those directions (no moonwaking.) Current plans are to have the mech move very simmilar to how they move in the Xbox game MechAssault, where strafe functions like the Manta. CIpen, if you are reading this, I would really like to see your source, that one screen I saw in the atari forums is doing EXACTLY what I would like the Panther to do, the feet aligning to the ground is tight.</p>
<p><em class="em1">2004/07/26</em> - It seems I still cannot use the main code from that post on the beyondunreal forums. I'm still extending ONSHoverTank and the mech is still floating around, sliding like a tank. I changed rep.bHidden to true and I can see that the repulsors are attaching properly, but something is keeping the mech from "bouncing" like it should be if the repulsors are moving like that. I'm also having trouble getting the walkF anim to play only when moving forward. Perhaps I should take a closer look at how Epic coded the tank tracks and work from there. I wonder if I could change the framerate for the anim by the speed.</p>
<p><em class="em1">2004/07/17</em> - Bleh, wasn't code at all that was messing up the torso, baka me put the yaw bone as 'root,' very bad. Got the mech to move, it needed collision boxes. In addition I was able to add in some animations, walking and starting up. Currently the walking anim is playing whenever the vehicleupdate() function is called. Two things left, finalize repulsor locations, and keep the dang thing from falling over when it runs into walls.</p>
<p><em class="em1">2004/07/15</em> - A few things have been acomplished since the last update <img alt=";)" src="emoticons/wink.gif" align="middle"> First, the SLDF infantry model was imported and mostly completed. Then I worked on getting the Mauser960, a Pulse Laser rifle with grenade launcher ingame and firing properly. The mauser is complete enough, with minor alignment issues left.</p>
<p>Now for the BIG one, getting the first mech, a 35 ton Panther, into UT, and walking. All models, rigging, and animation (keep in mind I'm terrible at animating) are in UnrealED. The code is extending ONSHoverTank for repulsor placement and turret control. Currently the mech does not move at all, but the torso (turret) can rotate and fire. However, the rotation of the torso is opposite of where I aim. For example, I aim left and the torso turns right. The attachment bones are rotated properly for UT.</p>
<h3><a name="0.0.3"></a>Screenshots and Media</h3>
<p>An AVI of the Marauder walkin around in ONS-Torlan (90 megs):</p>
<p>(not enuf webspace yet &gt;&lt;)</p>
<p>Marauder shots 2004-08-15:</p>
<p>(Site shut down, removed)</p>
<p>Here's the screenshot of CIpen's mech mentioned above:</p>
<p>(also removed)</p>
<p>Early Screens of the Panther with SLDF Infatry player model:</p>
<p><a href="http://www.battletechmodproductions.com/bf2750/">[Removed for space, see our site]</a></p>
<h3><a name="0.0.4"></a>Code</h3>
<p>Here's the section of code used to attach the reuplsors to bones assigned by ThrusterBones(0)='yourbone' and so on</p>
<pre class="uscript"><span class="uscript-keyword">simulated</span> <span class="uscript-keyword">function</span> PostNetBeginPlay<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-operator">{</span>
    <span class="uscript-keyword">local</span> vector RotX<span class="uscript-operator">,</span> RotY<span class="uscript-operator">,</span> RotZ<span class="uscript-operator">;</span>
    <span class="uscript-keyword">local</span> KarmaParams kp<span class="uscript-operator">;</span>
    <span class="uscript-keyword">local</span> KRepulsor rep<span class="uscript-operator">;</span>
    <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>

    GetAxes<span class="uscript-operator">(</span>Rotation<span class="uscript-operator">,</span>RotX<span class="uscript-operator">,</span>RotY<span class="uscript-operator">,</span>RotZ<span class="uscript-operator">)</span><span class="uscript-operator">;</span>

    <span class="uscript-comment">// Spawn and assign 'repulsors' to hold bike off the ground</span>
    kp <span class="uscript-operator">=</span> KarmaParams<span class="uscript-operator">(</span>KParams<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
    kp<span class="uscript-operator">.</span>Repulsors<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span> <span class="uscript-operator">=</span> ThrusterOffsets<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>

    <span class="uscript-keyword">for</span><span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span>i<span class="uscript-operator">&lt;</span>ThrusterOffsets<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">;</span>i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
    <span class="uscript-operator">{</span>
        rep <span class="uscript-operator">=</span> spawn<span class="uscript-operator">(</span><span class="uscript-keyword">class</span><span class="uscript-name">'KRepulsor'</span><span class="uscript-operator">,</span> <span class="uscript-keyword">self</span><span class="uscript-operator">,</span><span class="uscript-operator">,</span> Location <span class="uscript-operator">+</span> ThrusterOffsets<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>X <span class="uscript-operator">*</span> RotX <span class="uscript-operator">+</span> ThrusterOffsets<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Y <span class="uscript-operator">*</span> RotY <span class="uscript-operator">+</span> ThrusterOffsets<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Z <span class="uscript-operator">*</span> RotZ<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
        <span class="uscript-comment">//rep.SetBase(self);</span>
        AttachToBone<span class="uscript-operator">(</span>rep<span class="uscript-operator">,</span> ThrusterBones<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
        rep<span class="uscript-operator">.</span>bHidden <span class="uscript-operator">=</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
        kp<span class="uscript-operator">.</span>Repulsors<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span> <span class="uscript-operator">=</span> rep<span class="uscript-operator">;</span>
    <span class="uscript-operator">}</span>

    <span class="uscript-keyword">Super</span><span class="uscript-operator">.</span>PostNetBeginPlay<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-operator">}</span></pre><h2><a name="0.1"></a>Discussion</h2>
<p><em class="em2">Syntax_Error:</em> Just started this page up, and also just joined thier team. Currently working on getting the first mech ingame. The model and texture are complete, and I need to rig, animate, and code it. So far I have the upper torso as a turret, and the legs as a karma object, bones going though the legs and one to attach the torso. This looks like a good challenge for me, should keep me occupied for a while.</p>
<p><em class="em2">LegalAssassin:</em> I doubt this page should be here as it's not really an idea. I'd suggest making a developer's journal instead.</p>
<p><em class="em2">Foxpaw:</em> I wouldn't implmement the legs as karma objects if I was you. Simply because a lot of processing is going to be required to make it actually walk without falling down.</p>
<p><em class="em2">Syntax_Error</em> How would you suggest i go about getting the whole "walking vehicle" thing to work? i know im gonna need bones and custom animations, other then that im not sure.</p>
<p><em class="em2">MythOpus:</em>  There is a post on the Atari Forums I believe.  In that post is a link to a working battlemech's legs.  Do a search for it and you'll probably find lots of help on how to accomplish what you want to do.</p>
<p><em class="em2">Syntax Error:</em> Copied the mod ideas page here, gonna go delete it now. Thanks for the STFW reminder MythOpus, found what i needed fairly easily <img alt=";)" src="emoticons/wink.gif" align="middle"></p>
<p><em class="em2">Foxpaw:</em> Ah, sorry I didn't reply to your last question, I would personally just implement the mechs as giant pawns with PHYS_Walking.</p>
<p><em class="em2">Syntax Error:</em> Thanks for the suggestion Foxpaw, but someone has already gotten a mech type vehicle working with karma on the legs. Karma should work well if I want to implement knockdowns and such. Maybe use PHYS_Walking as a backup.</p>
<p><em class="em2">Mosquito:</em> errr.. what happens when mr big foot steps on a rock with all his karma-ness?</p>
<p><em class="em2">Syntax Error:</em> lol, he falls over on his arse right now XD but forces will be applied to keep it upright, and uprightdamping and stiffness should help too. this is the first time i've dealt with karma, so any helpful hints would be... helpful (also reading up on it here)</p>
<p><em class="em2">Mosquito:</em> Well, First I'd make his center of gravity extremely low (near bottom), which will cause the robot to want to naturally stand straight, remember those inflatible punching bags you played with as a kid, kinda like that, if you put the center of gravity below the robot, it will be impossible to knock down, swinging back into the upright position whenever hit. try putting the C of G just below the knees and tweak from there.</p>
<p><em class="em2">Solid Snake:</em> Personally I wouldn't even use the current vehicle code as a base for mechs. I'd create a new pawn since mechs are really just large people with attachments. The current Onlsaught code has more to do with wheeled vehicles. But that's just a personal opinion of course, whatever works of course.</p>
<p><em class="em2">Syntax_Error:</em> Since CIpen has gotten his mech to work quite nicely, and has actually released his work, it should work for the big mechs, but your method will be used for the Elemental model I'm putting in next. I want a noticable difference between huge walking machines and running around on foot or in Battle Armor/Elemental. I have hit another snag tho &gt;_&lt; While trying to use the "improved" mod support, then deciding not to use it, I seem to have jacked up something. After moving all my files back to the normal folders, the class list no longer updates if I change what my class is extending, making it impossible to place my vehicle in a level. Has anyone dealt with this before? I really have no idea on this one <img alt=":/" src="emoticons/hmm.gif" align="middle"></p>
<p><em class="em2">Syntax Error:</em> Never mind, I read up on the new cacheing system and I just need to delete my old .ucl files and do a UCC EXPORTCACHE <img alt=":P" src="emoticons/tongue.gif" align="middle"></p>
<p><em class="em2">Syntax Error:</em> Gah and eureka at the same time <img alt="O_o" src="emoticons/ohoh.gif" align="middle"> I ran into the General Protection Fault agin (gah, leave me alone!) After some testing I found it was in my #exec line. For some reason ucc would error out when it was trying to load my anim ukx. The simple fix is to just comment out the line (eureka, i fixed a really annoying problem <img alt=":D" src="emoticons/biggrin.gif" align="middle"> )</p>
<p><em class="em2">Syntax Error:</em> Good news and bad news: Good, I have used IK in the pistol anim to make the slide cock back, looks very cool; Bad, the dual wielding code I used from the assault rifle is only semi-working. I can get the muzzle flash to alternate left and right when dual wielding, but the anim will still play on both weapons, looking very strange (big run-on sentace <img alt="=P" src="emoticons/tongue.gif" align="middle"> ). Has anyone messed with dual wielding like this before?</p>
<p><em class="em2">Syntax_Error:</em> The dual wielding idea for use in this mod has been canned. I will still try to work on it just to finish what I start, but this mod will use a simple, single pistol.</p>
<p><em class="em2">MythOpus:</em> Better idea, Use Two Pistols instead of one:D  Since you could get the 2 anims to play, that won't be too much of a problem <img alt=":D" src="emoticons/biggrin.gif" align="middle"></p>
<script type="text/javascript"><!--
 menuItemAdd("Battletech: Timelines a UT2004 Total Conversion", "#0.0.1");
menuItemAdd("Current Progress, Newest First", "#0.0.2");
menuItemAdd("Screenshots and Media", "#0.0.3");
menuItemAdd("Code", "#0.0.4");
menuItemAdd("Discussion", "#0.1");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p>
<a href="../index.html">Home Page</a> | <a href="syntax-error.html">Syntax Error</a> | <a href="recent-changes.html">Recent Changes</a><br>
Last edited April 17, 2005 22:28 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=Syntax_Error/Battletech">(diff)</a><br>Search: <input type="text" name="search"  size="14" /><input type="button" onclick="location.href='../search-error/index.html';" value="search" /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/Syntax_Error/Battletech">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>

	</p>
	<p>The three virtues of a programmer: Laziness, Impatience, and Hubris. (Larry Wall)
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="../index.html"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>


<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
