<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: Useful UWindow Extensions/Scrolling Credits</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=Useful_UWindow_Extensions/Scrolling_Credits; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<input type="text" name="search"  size="14" /> <input type="button" onclick="location.href='../search-error/index.html';" value="search" />
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="useful-uwindow-extensions.html">Useful UWindow Extensions</a>/<a href="http://wiki.beyondunreal.com/wiki?back=Useful+UWindow+Extensions/Scrolling+Credits">Scrolling Credits</a></h1>
	<div class="wiki"><div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 width="100%"><tr valign=top><td class="floatimages-text" width="100%"><p>The <em class="em2">Scrolling Credits</em> UWindow widget displays your mod credits in a fashion similar to movie credits.  You can include text (formatted on a per-line basis) and texture images in your credits.</p>
<p>Users can click the scrolling text to temporarily halt it and drag it to manually move it up and down.  The control supports clickable links.</p>
</td>
<td class="floatimages-right" align=right width=1><div><img alt="[uwindow-scrollingcredits]" src="images/uwindow-scrollingcredits.gif"></div>
</td>
</tr>
</table>
</div>
<h2><a name="0.1"></a>Interface</h2>
<h3><a name="0.1.1"></a>Methods</h3>
<p>All AddSomething methods return whether the line or padding was successfully added or not.  The latter can happen if the Lines array isn't large enough; simply change its size in its declaration.</p>
<dl><dt>bool AddLineText(string Text, optional byte Font, optional Color Color, optional bool Underline)</dt><dd>Adds a line of text to the credits, optionally specifying font, color and underlining.  If no color is given, the value of ColorDefault is used (at rendering time, so changes of ColorDefault after AddLineText are effective).</dd><dt>bool AddLineUrl(string Url, optional byte Font, optional string Text)</dt><dd>Adds a line of text that is displayed as an underlined clickable link, using the color specified in the ColorLink property.  The optional Text argument is displayed as the link's title if specified; otherwise the given URL is displayed itself.  URLs starting with <code>www.</code>, <code>ftp.</code> and <code>unreal://</code> are specifically supported, everything else is directly piped through to the <code>start</code> console command.</dd><dt>bool AddLineImage(Texture Image, optional int Width, optional int Height)</dt><dd>Adds a texture image to the credits in a separate line.  Optionally, the size of the displayed texture can be specified; otherwise its natural size is used.</dd><dt>bool AddPadding(int Padding)</dt><dd>Adds a padding of the given amount of pixels between the last added line and the next one.</dd><dt>Clear()</dt><dd>Clears the credit lines.</dd><dt>Reset()</dt><dd>Restarts the animation from before the fade-in.</dd></dl>
<h3><a name="0.1.2"></a>Properties</h3>
<p>You can set the following properties:</p>
<dl><dt>ColorDefault, ColorImage, ColorLink</dt><dd>Colors for default text, images (if set to anything else than the default, colorizes the textures that are drawn) and link text.</dd><dt>DelayFade, SpeedFade</dt><dd>Delay before the text is faded in, and the speed of the fade-in (number of seconds it takes to complete).  If SpeedFade is set to 0.0 (zero), the fade-in sequence is skipped.</dd><dt>DelayScroll, SpeedScroll</dt><dd>Delay after the fade-in and before the scrolling starts, and the scroll speed (in pixels per second).</dd></dl>
<h2><a name="0.2"></a>Code</h2>
<p>The following code was developed by <a href="mychaeel.html">Mychaeel</a> for <a href="jailbreak.html">Jailbreak</a>.  Feel free to use and modify, and please give me some credit  [sic!] if you do.</p>
<pre class="uscript"><span class="uscript-comment">// ============================================================================</span>
<span class="uscript-comment">// UWindowCreditsControl</span>
<span class="uscript-comment">// Copyright 2002 by Mychaeel &lt;mychaeel@planetjailbreak.com&gt;</span>
<span class="uscript-comment">// Free for noncommercial use and modification.</span>
<span class="uscript-comment">//</span>
<span class="uscript-comment">// Displays scrolling credits, both text and textures.</span>
<span class="uscript-comment">// ============================================================================</span>


<span class="uscript-keyword">class</span> UWindowCreditsControl <span class="uscript-keyword">extends</span> UWindowDialogControl<span class="uscript-operator">;</span>


<span class="uscript-comment">// ============================================================================</span>
<span class="uscript-comment">// Structures</span>
<span class="uscript-comment">// ============================================================================</span>

<span class="uscript-keyword">struct</span> TLine <span class="uscript-operator">{</span>

  <span class="uscript-keyword">var</span> <span class="uscript-type">string</span> Text<span class="uscript-operator">;</span>
  <span class="uscript-keyword">var</span> <span class="uscript-type">string</span> Url<span class="uscript-operator">;</span>
  <span class="uscript-keyword">var</span> <span class="uscript-type">byte</span> Font<span class="uscript-operator">;</span>
  <span class="uscript-keyword">var</span> Color Color<span class="uscript-operator">;</span>
  <span class="uscript-keyword">var</span> <span class="uscript-type">bool</span> Underline<span class="uscript-operator">;</span>

  <span class="uscript-keyword">var</span> Texture Image<span class="uscript-operator">;</span>
  <span class="uscript-keyword">var</span> <span class="uscript-type">int</span> Width<span class="uscript-operator">;</span>
  <span class="uscript-keyword">var</span> <span class="uscript-type">int</span> Height<span class="uscript-operator">;</span>
  
  <span class="uscript-keyword">var</span> <span class="uscript-type">int</span> Indent<span class="uscript-operator">;</span>
  <span class="uscript-keyword">var</span> <span class="uscript-type">int</span> Padding<span class="uscript-operator">;</span>
  <span class="uscript-operator">}</span><span class="uscript-operator">;</span>


<span class="uscript-comment">// ============================================================================</span>
<span class="uscript-comment">// Enumerations</span>
<span class="uscript-comment">// ============================================================================</span>

<span class="uscript-keyword">enum</span> EAction <span class="uscript-operator">{</span>

  Action_None<span class="uscript-operator">,</span>
  Action_Fading<span class="uscript-operator">,</span>
  Action_Scrolling<span class="uscript-operator">,</span>
  <span class="uscript-operator">}</span><span class="uscript-operator">;</span>


<span class="uscript-comment">// ============================================================================</span>
<span class="uscript-comment">// Properties</span>
<span class="uscript-comment">// ============================================================================</span>

<span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> Color ColorDefault<span class="uscript-operator">;</span>
<span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> Color ColorImage<span class="uscript-operator">;</span>
<span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> Color ColorLink<span class="uscript-operator">;</span>

<span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-type">int</span> OffsetStart<span class="uscript-operator">;</span>
<span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-type">float</span> DelayFade<span class="uscript-operator">;</span>
<span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-type">float</span> DelayScroll<span class="uscript-operator">;</span>
<span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-type">float</span> SpeedFade<span class="uscript-operator">;</span>
<span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-type">float</span> SpeedScroll<span class="uscript-operator">;</span>
<span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> TLine Lines<span class="uscript-operator">[</span><span class="uscript-number">64</span><span class="uscript-operator">]</span><span class="uscript-operator">;</span>


<span class="uscript-comment">// ============================================================================</span>
<span class="uscript-comment">// Variables</span>
<span class="uscript-comment">// ============================================================================</span>

<span class="uscript-keyword">var</span> EAction Action<span class="uscript-operator">;</span>
<span class="uscript-keyword">var</span> EAction ActionPrev<span class="uscript-operator">;</span>

<span class="uscript-keyword">var</span> <span class="uscript-type">bool</span> FlagDrag<span class="uscript-operator">;</span>
<span class="uscript-keyword">var</span> <span class="uscript-type">bool</span> FlagUpdated<span class="uscript-operator">;</span>

<span class="uscript-keyword">var</span> <span class="uscript-type">float</span> Delay<span class="uscript-operator">;</span>
<span class="uscript-keyword">var</span> <span class="uscript-type">float</span> Fade<span class="uscript-operator">;</span>
<span class="uscript-keyword">var</span> <span class="uscript-type">float</span> Offset<span class="uscript-operator">;</span>
<span class="uscript-keyword">var</span> <span class="uscript-type">float</span> OffsetDrag<span class="uscript-operator">;</span>

<span class="uscript-keyword">var</span> <span class="uscript-type">int</span> CountLines<span class="uscript-operator">;</span>
<span class="uscript-keyword">var</span> <span class="uscript-type">int</span> HeightTotal<span class="uscript-operator">;</span>

<span class="uscript-keyword">var</span> <span class="uscript-type">string</span> TextUrlCurrent<span class="uscript-operator">;</span>


<span class="uscript-comment">// ============================================================================</span>
<span class="uscript-comment">// AddLineText</span>
<span class="uscript-comment">//</span>
<span class="uscript-comment">// Adds a line of text.</span>
<span class="uscript-comment">// ============================================================================</span>

<span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> AddLineText<span class="uscript-operator">(</span><span class="uscript-type">string</span> Text<span class="uscript-operator">,</span> <span class="uscript-keyword">optional</span> <span class="uscript-type">byte</span> Font<span class="uscript-operator">,</span>
                                       <span class="uscript-keyword">optional</span> Color Color<span class="uscript-operator">,</span>
                                       <span class="uscript-keyword">optional</span> <span class="uscript-type">bool</span> Underline<span class="uscript-operator">)</span> <span class="uscript-operator">{</span>

  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>CountLines <span class="uscript-operator">==</span> <span class="uscript-keyword">ArrayCount</span><span class="uscript-operator">(</span>Lines<span class="uscript-operator">)</span> <span class="uscript-operator">||</span> Len<span class="uscript-operator">(</span>Text<span class="uscript-operator">)</span> <span class="uscript-operator">==</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
    <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>

  Lines<span class="uscript-operator">[</span>CountLines<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Text      <span class="uscript-operator">=</span> Text<span class="uscript-operator">;</span>
  Lines<span class="uscript-operator">[</span>CountLines<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Url       <span class="uscript-operator">=</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
  Lines<span class="uscript-operator">[</span>CountLines<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Font      <span class="uscript-operator">=</span> Font<span class="uscript-operator">;</span>
  Lines<span class="uscript-operator">[</span>CountLines<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Color     <span class="uscript-operator">=</span> Color<span class="uscript-operator">;</span>
  Lines<span class="uscript-operator">[</span>CountLines<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Underline <span class="uscript-operator">=</span> Underline<span class="uscript-operator">;</span>
  Lines<span class="uscript-operator">[</span>CountLines<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Padding   <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>

  Lines<span class="uscript-operator">[</span>CountLines<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Image <span class="uscript-operator">=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">;</span>

  CountLines<span class="uscript-operator">++</span><span class="uscript-operator">;</span>
  FlagUpdated <span class="uscript-operator">=</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
  
  <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
  <span class="uscript-operator">}</span>


<span class="uscript-comment">// ============================================================================</span>
<span class="uscript-comment">// AddLineUrl</span>
<span class="uscript-comment">//</span>
<span class="uscript-comment">// Adds a clickable Internet address.</span>
<span class="uscript-comment">// ============================================================================</span>

<span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> AddLineUrl<span class="uscript-operator">(</span><span class="uscript-type">string</span> Url<span class="uscript-operator">,</span> <span class="uscript-keyword">optional</span> <span class="uscript-type">byte</span> Font<span class="uscript-operator">,</span>
                                     <span class="uscript-keyword">optional</span> <span class="uscript-type">string</span> Text<span class="uscript-operator">)</span> <span class="uscript-operator">{</span>

  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>CountLines <span class="uscript-operator">==</span> <span class="uscript-keyword">ArrayCount</span><span class="uscript-operator">(</span>Lines<span class="uscript-operator">)</span> <span class="uscript-operator">||</span> Len<span class="uscript-operator">(</span>Url<span class="uscript-operator">)</span> <span class="uscript-operator">==</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
    <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>

  Lines<span class="uscript-operator">[</span>CountLines<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Url       <span class="uscript-operator">=</span> Url<span class="uscript-operator">;</span>
  Lines<span class="uscript-operator">[</span>CountLines<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Font      <span class="uscript-operator">=</span> Font<span class="uscript-operator">;</span>
  Lines<span class="uscript-operator">[</span>CountLines<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Color     <span class="uscript-operator">=</span> ColorLink<span class="uscript-operator">;</span>
  Lines<span class="uscript-operator">[</span>CountLines<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Underline <span class="uscript-operator">=</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
  Lines<span class="uscript-operator">[</span>CountLines<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Padding   <span class="uscript-operator">=</span> <span class="uscript-number">2</span><span class="uscript-operator">;</span>

  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Len<span class="uscript-operator">(</span>Text<span class="uscript-operator">)</span> <span class="uscript-operator">==</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
    Lines<span class="uscript-operator">[</span>CountLines<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Text <span class="uscript-operator">=</span> Url<span class="uscript-operator">;</span>
  <span class="uscript-keyword">else</span>
    Lines<span class="uscript-operator">[</span>CountLines<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Text <span class="uscript-operator">=</span> Text<span class="uscript-operator">;</span>

  Lines<span class="uscript-operator">[</span>CountLines<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Image <span class="uscript-operator">=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">;</span>

  CountLines<span class="uscript-operator">++</span><span class="uscript-operator">;</span>
  FlagUpdated <span class="uscript-operator">=</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
  
  <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
  <span class="uscript-operator">}</span>


<span class="uscript-comment">// ============================================================================</span>
<span class="uscript-comment">// AddLineImage</span>
<span class="uscript-comment">//</span>
<span class="uscript-comment">// Adds an image.</span>
<span class="uscript-comment">// ============================================================================</span>

<span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> AddLineImage<span class="uscript-operator">(</span>Texture Image<span class="uscript-operator">,</span> <span class="uscript-keyword">optional</span> <span class="uscript-type">int</span> Width<span class="uscript-operator">,</span>
                                          <span class="uscript-keyword">optional</span> <span class="uscript-type">int</span> Height<span class="uscript-operator">)</span> <span class="uscript-operator">{</span>

  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>CountLines <span class="uscript-operator">==</span> <span class="uscript-keyword">ArrayCount</span><span class="uscript-operator">(</span>Lines<span class="uscript-operator">)</span> <span class="uscript-operator">||</span> Image <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
    <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>

  Lines<span class="uscript-operator">[</span>CountLines<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Image   <span class="uscript-operator">=</span> Image<span class="uscript-operator">;</span>
  Lines<span class="uscript-operator">[</span>CountLines<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Width   <span class="uscript-operator">=</span> Width<span class="uscript-operator">;</span>
  Lines<span class="uscript-operator">[</span>CountLines<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Height  <span class="uscript-operator">=</span> Height<span class="uscript-operator">;</span>
  Lines<span class="uscript-operator">[</span>CountLines<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Padding <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>

  Lines<span class="uscript-operator">[</span>CountLines<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Text <span class="uscript-operator">=</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>

  CountLines<span class="uscript-operator">++</span><span class="uscript-operator">;</span>
  FlagUpdated <span class="uscript-operator">=</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
  
  <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
  <span class="uscript-operator">}</span>


<span class="uscript-comment">// ============================================================================</span>
<span class="uscript-comment">// AddPadding</span>
<span class="uscript-comment">//</span>
<span class="uscript-comment">// Adds padding to the last line.</span>
<span class="uscript-comment">// ============================================================================</span>

<span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> AddPadding<span class="uscript-operator">(</span><span class="uscript-type">int</span> Padding<span class="uscript-operator">)</span> <span class="uscript-operator">{</span>

  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>CountLines <span class="uscript-operator">==</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
    <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
  
  Lines<span class="uscript-operator">[</span>CountLines <span class="uscript-operator">-</span> <span class="uscript-number">1</span><span class="uscript-operator">]</span><span class="uscript-operator">.</span>Padding <span class="uscript-operator">+=</span> Padding<span class="uscript-operator">;</span>
  <span class="uscript-operator">}</span>


<span class="uscript-comment">// ============================================================================</span>
<span class="uscript-comment">// Clear</span>
<span class="uscript-comment">//</span>
<span class="uscript-comment">// Clears the credit lines.</span>
<span class="uscript-comment">// ============================================================================</span>

<span class="uscript-keyword">function</span> Clear<span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-operator">{</span>

  Lines<span class="uscript-operator">[</span><span class="uscript-number">0</span><span class="uscript-operator">]</span><span class="uscript-operator">.</span>Text <span class="uscript-operator">=</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
  Lines<span class="uscript-operator">[</span><span class="uscript-number">0</span><span class="uscript-operator">]</span><span class="uscript-operator">.</span>Image <span class="uscript-operator">=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">;</span>
  
  FlagUpdated <span class="uscript-operator">=</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
  <span class="uscript-operator">}</span>


<span class="uscript-comment">// ============================================================================</span>
<span class="uscript-comment">// Reset</span>
<span class="uscript-comment">//</span>
<span class="uscript-comment">// Resets the scrolling area to its original position, the first line being</span>
<span class="uscript-comment">// just below the bottom of the arena.</span>
<span class="uscript-comment">// ============================================================================</span>

<span class="uscript-keyword">function</span> Reset<span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-operator">{</span>

  Offset <span class="uscript-operator">=</span> OffsetStart <span class="uscript-operator">-</span> WinHeight<span class="uscript-operator">;</span>

  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>SpeedFade <span class="uscript-operator">==</span> <span class="uscript-number">0.0</span><span class="uscript-operator">)</span>
    Action <span class="uscript-operator">=</span> Action_Scrolling<span class="uscript-operator">;</span>
  <span class="uscript-keyword">else</span>
    Action <span class="uscript-operator">=</span> Action_Fading<span class="uscript-operator">;</span>

  ActionPrev <span class="uscript-operator">=</span> Action_None<span class="uscript-operator">;</span>
  <span class="uscript-operator">}</span>


<span class="uscript-comment">// ============================================================================</span>
<span class="uscript-comment">// Update</span>
<span class="uscript-comment">//</span>
<span class="uscript-comment">// Calculates the total height of the credits list, retrieves element sizes and</span>
<span class="uscript-comment">// determines element indents.</span>
<span class="uscript-comment">// ============================================================================</span>

<span class="uscript-keyword">function</span> Update<span class="uscript-operator">(</span>Canvas Canvas<span class="uscript-operator">)</span> <span class="uscript-operator">{</span>

  <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> IndexLine<span class="uscript-operator">;</span>
  <span class="uscript-keyword">local</span> <span class="uscript-type">float</span> WidthText<span class="uscript-operator">;</span>
  <span class="uscript-keyword">local</span> <span class="uscript-type">float</span> HeightText<span class="uscript-operator">;</span>

  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>FlagUpdated<span class="uscript-operator">)</span>
    <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>

  CountLines <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
  HeightTotal <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>

  <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>IndexLine <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> IndexLine <span class="uscript-operator">&lt;</span> <span class="uscript-keyword">ArrayCount</span><span class="uscript-operator">(</span>Lines<span class="uscript-operator">)</span><span class="uscript-operator">;</span> IndexLine<span class="uscript-operator">++</span><span class="uscript-operator">)</span> <span class="uscript-operator">{</span>
    <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Len<span class="uscript-operator">(</span>Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Text<span class="uscript-operator">)</span> <span class="uscript-operator">&gt;</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span> <span class="uscript-operator">{</span>
      Canvas<span class="uscript-operator">.</span>Font <span class="uscript-operator">=</span> Root<span class="uscript-operator">.</span>Fonts<span class="uscript-operator">[</span>Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Font<span class="uscript-operator">]</span><span class="uscript-operator">;</span>
      TextSize<span class="uscript-operator">(</span>Canvas<span class="uscript-operator">,</span> Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Text<span class="uscript-operator">,</span> WidthText<span class="uscript-operator">,</span> HeightText<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
      
      Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Width <span class="uscript-operator">=</span> WidthText<span class="uscript-operator">;</span>
      Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Height <span class="uscript-operator">=</span> HeightText<span class="uscript-operator">;</span>
      <span class="uscript-operator">}</span>
    
    <span class="uscript-keyword">else</span> <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Image <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span> <span class="uscript-operator">{</span>
      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Width  <span class="uscript-operator">==</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span> Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Width  <span class="uscript-operator">=</span> Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Image<span class="uscript-operator">.</span>UClamp<span class="uscript-operator">;</span>
      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Height <span class="uscript-operator">==</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span> Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Height <span class="uscript-operator">=</span> Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Image<span class="uscript-operator">.</span>VClamp<span class="uscript-operator">;</span>
      <span class="uscript-operator">}</span>

    <span class="uscript-keyword">else</span>
      <span class="uscript-keyword">break</span><span class="uscript-operator">;</span>
      
    Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Indent <span class="uscript-operator">=</span> <span class="uscript-operator">(</span>WinWidth <span class="uscript-operator">-</span> Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Width<span class="uscript-operator">)</span> <span class="uscript-operator">/</span> <span class="uscript-number">2</span><span class="uscript-operator">;</span>

    CountLines<span class="uscript-operator">++</span><span class="uscript-operator">;</span>
    HeightTotal <span class="uscript-operator">+=</span> Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Height <span class="uscript-operator">+</span> Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Padding<span class="uscript-operator">;</span>
    <span class="uscript-operator">}</span>

  Reset<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>

  FlagUpdated <span class="uscript-operator">=</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
  <span class="uscript-operator">}</span>


<span class="uscript-comment">// ============================================================================</span>
<span class="uscript-comment">// WindowShown</span>
<span class="uscript-comment">// ============================================================================</span>

<span class="uscript-keyword">function</span> WindowShown<span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-operator">{</span>

  Reset<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>

  <span class="uscript-keyword">Super</span><span class="uscript-operator">.</span>WindowShown<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
  <span class="uscript-operator">}</span>


<span class="uscript-comment">// ============================================================================</span>
<span class="uscript-comment">// Tick</span>
<span class="uscript-comment">// ============================================================================</span>

<span class="uscript-keyword">event</span> Tick<span class="uscript-operator">(</span><span class="uscript-type">float</span> TimeDelta<span class="uscript-operator">)</span> <span class="uscript-operator">{</span>

  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Action <span class="uscript-operator">!=</span> ActionPrev<span class="uscript-operator">)</span> <span class="uscript-operator">{</span>
    <span class="uscript-keyword">switch</span> <span class="uscript-operator">(</span>Action<span class="uscript-operator">)</span> <span class="uscript-operator">{</span>
      <span class="uscript-keyword">case</span> Action_Fading:     Fade <span class="uscript-operator">=</span> <span class="uscript-number">0.0</span><span class="uscript-operator">;</span>  Delay <span class="uscript-operator">=</span> DelayFade<span class="uscript-operator">;</span>    <span class="uscript-keyword">break</span><span class="uscript-operator">;</span>
      <span class="uscript-keyword">case</span> Action_Scrolling:  Fade <span class="uscript-operator">=</span> <span class="uscript-number">1.0</span><span class="uscript-operator">;</span>  Delay <span class="uscript-operator">=</span> DelayScroll<span class="uscript-operator">;</span>  <span class="uscript-keyword">break</span><span class="uscript-operator">;</span>
      <span class="uscript-operator">}</span>

    ActionPrev <span class="uscript-operator">=</span> Action<span class="uscript-operator">;</span>
    <span class="uscript-operator">}</span>

  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Delay <span class="uscript-operator">&gt;</span> <span class="uscript-number">0.0</span><span class="uscript-operator">)</span> <span class="uscript-operator">{</span>
    Delay <span class="uscript-operator">=</span> FMax<span class="uscript-operator">(</span><span class="uscript-number">0.0</span><span class="uscript-operator">,</span> Delay <span class="uscript-operator">-</span> TimeDelta<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
    <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
    <span class="uscript-operator">}</span>

  <span class="uscript-keyword">switch</span> <span class="uscript-operator">(</span>Action<span class="uscript-operator">)</span> <span class="uscript-operator">{</span>
    <span class="uscript-keyword">case</span> Action_Fading:
      Fade <span class="uscript-operator">=</span> FMin<span class="uscript-operator">(</span><span class="uscript-number">1.0</span><span class="uscript-operator">,</span> Fade <span class="uscript-operator">+</span> SpeedFade <span class="uscript-operator">*</span> TimeDelta<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Fade <span class="uscript-operator">==</span> <span class="uscript-number">1.0</span><span class="uscript-operator">)</span>
        Action <span class="uscript-operator">=</span> Action_Scrolling<span class="uscript-operator">;</span>
      <span class="uscript-keyword">break</span><span class="uscript-operator">;</span>
    
    <span class="uscript-keyword">case</span> Action_Scrolling:
      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span><span class="uscript-operator">!</span>bMouseDown<span class="uscript-operator">)</span>
        Offset <span class="uscript-operator">+=</span> SpeedScroll <span class="uscript-operator">*</span> TimeDelta<span class="uscript-operator">;</span>
      <span class="uscript-keyword">break</span><span class="uscript-operator">;</span>
    <span class="uscript-operator">}</span>
  <span class="uscript-operator">}</span>


<span class="uscript-comment">// ============================================================================</span>
<span class="uscript-comment">// Click</span>
<span class="uscript-comment">// ============================================================================</span>

<span class="uscript-keyword">function</span> Click<span class="uscript-operator">(</span><span class="uscript-type">float</span> X<span class="uscript-operator">,</span> <span class="uscript-type">float</span> Y<span class="uscript-operator">)</span> <span class="uscript-operator">{</span>

  <span class="uscript-keyword">Super</span><span class="uscript-operator">.</span>Click<span class="uscript-operator">(</span>X<span class="uscript-operator">,</span> Y<span class="uscript-operator">)</span><span class="uscript-operator">;</span>

  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Len<span class="uscript-operator">(</span>TextUrlCurrent<span class="uscript-operator">)</span> <span class="uscript-operator">==</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
    <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
  
  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Left<span class="uscript-operator">(</span>TextUrlCurrent<span class="uscript-operator">,</span> <span class="uscript-number">4</span><span class="uscript-operator">)</span> <span class="uscript-operator">~=</span> <span class="uscript-string">"www."</span><span class="uscript-operator">)</span>
    GetPlayerOwner<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">.</span>ConsoleCommand<span class="uscript-operator">(</span><span class="uscript-string">"start http://"</span> <span class="uscript-operator">$</span> TextUrlCurrent<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
  <span class="uscript-keyword">else</span> <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Left<span class="uscript-operator">(</span>TextUrlCurrent<span class="uscript-operator">,</span> <span class="uscript-number">4</span><span class="uscript-operator">)</span> <span class="uscript-operator">~=</span> <span class="uscript-string">"ftp."</span><span class="uscript-operator">)</span>
    GetPlayerOwner<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">.</span>ConsoleCommand<span class="uscript-operator">(</span><span class="uscript-string">"start ftp://"</span> <span class="uscript-operator">$</span> TextUrlCurrent<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
  <span class="uscript-keyword">else</span> <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Left<span class="uscript-operator">(</span>TextUrlCurrent<span class="uscript-operator">,</span> <span class="uscript-number">9</span><span class="uscript-operator">)</span> <span class="uscript-operator">~=</span> <span class="uscript-string">"unreal://"</span><span class="uscript-operator">)</span>
    GetPlayerOwner<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">.</span>ClientTravel<span class="uscript-operator">(</span>TextUrlCurrent<span class="uscript-operator">,</span> TRAVEL_Absolute<span class="uscript-operator">,</span> <span class="uscript-keyword">false</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
  <span class="uscript-keyword">else</span>
    GetPlayerOwner<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">.</span>ConsoleCommand<span class="uscript-operator">(</span><span class="uscript-string">"start"</span> <span class="uscript-operator">@</span> TextUrlCurrent<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
  <span class="uscript-operator">}</span>


<span class="uscript-comment">// ============================================================================</span>
<span class="uscript-comment">// BeforePaint</span>
<span class="uscript-comment">// ============================================================================</span>

<span class="uscript-keyword">function</span> BeforePaint<span class="uscript-operator">(</span>Canvas Canvas<span class="uscript-operator">,</span> <span class="uscript-type">float</span> X<span class="uscript-operator">,</span> <span class="uscript-type">float</span> Y<span class="uscript-operator">)</span> <span class="uscript-operator">{</span>
  
  Update<span class="uscript-operator">(</span>Canvas<span class="uscript-operator">)</span><span class="uscript-operator">;</span>

  <span class="uscript-keyword">Super</span><span class="uscript-operator">.</span>BeforePaint<span class="uscript-operator">(</span>Canvas<span class="uscript-operator">,</span> X<span class="uscript-operator">,</span> Y<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
  <span class="uscript-operator">}</span>


<span class="uscript-comment">// ============================================================================</span>
<span class="uscript-comment">// Paint</span>
<span class="uscript-comment">// ============================================================================</span>

<span class="uscript-keyword">function</span> Paint<span class="uscript-operator">(</span>Canvas Canvas<span class="uscript-operator">,</span> <span class="uscript-type">float</span> X<span class="uscript-operator">,</span> <span class="uscript-type">float</span> Y<span class="uscript-operator">)</span> <span class="uscript-operator">{</span>

  <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> IndexLine<span class="uscript-operator">;</span>
  <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> OffsetCurrent<span class="uscript-operator">;</span>

  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>bMouseDown<span class="uscript-operator">)</span>
    <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>FlagDrag<span class="uscript-operator">)</span>
      Offset <span class="uscript-operator">=</span> OffsetDrag <span class="uscript-operator">-</span> Y<span class="uscript-operator">;</span>
    <span class="uscript-keyword">else</span>
      OffsetDrag <span class="uscript-operator">=</span> Offset <span class="uscript-operator">+</span> Y<span class="uscript-operator">;</span>
  FlagDrag <span class="uscript-operator">=</span> bMouseDown<span class="uscript-operator">;</span>

  DrawStretchedTexture<span class="uscript-operator">(</span>Canvas<span class="uscript-operator">,</span> <span class="uscript-number">0</span><span class="uscript-operator">,</span> <span class="uscript-number">0</span><span class="uscript-operator">,</span> WinWidth<span class="uscript-operator">,</span> WinHeight<span class="uscript-operator">,</span> Texture <span class="uscript-name">'UWindow.BlackTexture'</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>

  OffsetCurrent <span class="uscript-operator">=</span> <span class="uscript-operator">-</span>Offset<span class="uscript-operator">;</span>

  <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>IndexLine <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span> IndexLine <span class="uscript-operator">&lt;</span> CountLines<span class="uscript-operator">;</span> IndexLine<span class="uscript-operator">++</span><span class="uscript-operator">)</span> <span class="uscript-operator">{</span>
    <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>OffsetCurrent <span class="uscript-operator">+</span> Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Height <span class="uscript-operator">&gt;</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
      <span class="uscript-keyword">break</span><span class="uscript-operator">;</span>
    OffsetCurrent <span class="uscript-operator">+=</span> Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Height <span class="uscript-operator">+</span> Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Padding<span class="uscript-operator">;</span>
    <span class="uscript-operator">}</span>

  TextUrlCurrent <span class="uscript-operator">=</span> <span class="uscript-string">""</span><span class="uscript-operator">;</span>
  Canvas<span class="uscript-operator">.</span>bNoSmooth <span class="uscript-operator">=</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>

  <span class="uscript-keyword">for</span> <span class="uscript-operator">(</span>IndexLine <span class="uscript-operator">=</span> IndexLine<span class="uscript-operator">;</span> IndexLine <span class="uscript-operator">&lt;</span> CountLines<span class="uscript-operator">;</span> IndexLine<span class="uscript-operator">++</span><span class="uscript-operator">)</span> <span class="uscript-operator">{</span>
    <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>OffsetCurrent <span class="uscript-operator">&gt;</span> WinHeight<span class="uscript-operator">)</span>
      <span class="uscript-keyword">break</span><span class="uscript-operator">;</span>

    <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Len<span class="uscript-operator">(</span>Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Text<span class="uscript-operator">)</span> <span class="uscript-operator">&gt;</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span> <span class="uscript-operator">{</span>
      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Color<span class="uscript-operator">.</span>R <span class="uscript-operator">==</span> <span class="uscript-number">0</span> <span class="uscript-operator">&amp;&amp;</span>
          Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Color<span class="uscript-operator">.</span>G <span class="uscript-operator">==</span> <span class="uscript-number">0</span> <span class="uscript-operator">&amp;&amp;</span>
          Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Color<span class="uscript-operator">.</span>B <span class="uscript-operator">==</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
        Canvas<span class="uscript-operator">.</span>DrawColor <span class="uscript-operator">=</span> ColorDefault<span class="uscript-operator">;</span>
      <span class="uscript-keyword">else</span>
        Canvas<span class="uscript-operator">.</span>DrawColor <span class="uscript-operator">=</span> Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Color<span class="uscript-operator">;</span>

      Canvas<span class="uscript-operator">.</span>DrawColor <span class="uscript-operator">=</span> Canvas<span class="uscript-operator">.</span>DrawColor <span class="uscript-operator">*</span> Fade<span class="uscript-operator">;</span>
      Canvas<span class="uscript-operator">.</span>Font <span class="uscript-operator">=</span> Root<span class="uscript-operator">.</span>Fonts<span class="uscript-operator">[</span>Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Font<span class="uscript-operator">]</span><span class="uscript-operator">;</span>
      ClipText<span class="uscript-operator">(</span>Canvas<span class="uscript-operator">,</span> Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Indent<span class="uscript-operator">,</span> OffsetCurrent<span class="uscript-operator">,</span> Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Text<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
      
      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Underline<span class="uscript-operator">)</span>
        DrawStretchedTexture<span class="uscript-operator">(</span>Canvas<span class="uscript-operator">,</span> Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Indent<span class="uscript-operator">,</span>
                                     Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Height <span class="uscript-operator">+</span> OffsetCurrent <span class="uscript-operator">-</span> <span class="uscript-number">1</span><span class="uscript-operator">,</span>
                                     Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Width<span class="uscript-operator">,</span>
                                     <span class="uscript-number">1</span><span class="uscript-operator">,</span>
                                     Texture <span class="uscript-name">'UWindow.WhiteTexture'</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>

      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Len<span class="uscript-operator">(</span>Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Url<span class="uscript-operator">)</span> <span class="uscript-operator">&gt;</span> <span class="uscript-number">0</span> <span class="uscript-operator">&amp;&amp;</span>
          Clamp<span class="uscript-operator">(</span>X<span class="uscript-operator">,</span> Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Indent<span class="uscript-operator">,</span> Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Indent <span class="uscript-operator">+</span> Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Width<span class="uscript-operator">)</span> <span class="uscript-operator">==</span> <span class="uscript-type">int</span><span class="uscript-operator">(</span>X<span class="uscript-operator">)</span> <span class="uscript-operator">&amp;&amp;</span>
          Clamp<span class="uscript-operator">(</span>Y<span class="uscript-operator">,</span> OffsetCurrent<span class="uscript-operator">,</span> OffsetCurrent <span class="uscript-operator">+</span> Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Height<span class="uscript-operator">)</span> <span class="uscript-operator">==</span> <span class="uscript-type">int</span><span class="uscript-operator">(</span>Y<span class="uscript-operator">)</span><span class="uscript-operator">)</span>
        TextUrlCurrent <span class="uscript-operator">=</span> Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Url<span class="uscript-operator">;</span>
      <span class="uscript-operator">}</span>
    
    <span class="uscript-keyword">else</span> <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Image <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span> <span class="uscript-operator">{</span>
      Canvas<span class="uscript-operator">.</span>DrawColor <span class="uscript-operator">=</span> ColorImage <span class="uscript-operator">*</span> Fade<span class="uscript-operator">;</span>
      DrawStretchedTexture<span class="uscript-operator">(</span>Canvas<span class="uscript-operator">,</span> Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Indent<span class="uscript-operator">,</span>
                                   OffsetCurrent<span class="uscript-operator">,</span>
                                   Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Width<span class="uscript-operator">,</span>
                                   Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Height<span class="uscript-operator">,</span> Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Image<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
      <span class="uscript-operator">}</span>
    
    OffsetCurrent <span class="uscript-operator">+=</span> Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Height <span class="uscript-operator">+</span> Lines<span class="uscript-operator">[</span>IndexLine<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Padding<span class="uscript-operator">;</span>
    <span class="uscript-operator">}</span>

  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>Len<span class="uscript-operator">(</span>TextUrlCurrent<span class="uscript-operator">)</span> <span class="uscript-operator">==</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
    Cursor <span class="uscript-operator">=</span> Root<span class="uscript-operator">.</span>NormalCursor<span class="uscript-operator">;</span>
  <span class="uscript-keyword">else</span>
    Cursor <span class="uscript-operator">=</span> Root<span class="uscript-operator">.</span>HandCursor<span class="uscript-operator">;</span>

  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>OffsetCurrent <span class="uscript-operator">+</span> Lines<span class="uscript-operator">[</span>IndexLine <span class="uscript-operator">-</span> <span class="uscript-number">1</span><span class="uscript-operator">]</span><span class="uscript-operator">.</span>Height <span class="uscript-operator">&lt;=</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
    Reset<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
  <span class="uscript-operator">}</span>


<span class="uscript-comment">// ============================================================================</span>
<span class="uscript-comment">// Color Operators</span>
<span class="uscript-comment">// ============================================================================</span>

<span class="uscript-keyword">static</span> <span class="uscript-keyword">final</span> <span class="uscript-keyword">operator</span><span class="uscript-operator">(</span><span class="uscript-number">16</span><span class="uscript-operator">)</span> Color <span class="uscript-operator">*</span> <span class="uscript-operator">(</span><span class="uscript-type">float</span> Fade<span class="uscript-operator">,</span> Color Color<span class="uscript-operator">)</span> <span class="uscript-operator">{</span>

  Color<span class="uscript-operator">.</span>R <span class="uscript-operator">=</span> <span class="uscript-type">byte</span><span class="uscript-operator">(</span>FClamp<span class="uscript-operator">(</span>Fade<span class="uscript-operator">,</span> <span class="uscript-number">0.0</span><span class="uscript-operator">,</span> <span class="uscript-number">1.0</span><span class="uscript-operator">)</span> <span class="uscript-operator">*</span> <span class="uscript-type">float</span><span class="uscript-operator">(</span>Color<span class="uscript-operator">.</span>R<span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
  Color<span class="uscript-operator">.</span>G <span class="uscript-operator">=</span> <span class="uscript-type">byte</span><span class="uscript-operator">(</span>FClamp<span class="uscript-operator">(</span>Fade<span class="uscript-operator">,</span> <span class="uscript-number">0.0</span><span class="uscript-operator">,</span> <span class="uscript-number">1.0</span><span class="uscript-operator">)</span> <span class="uscript-operator">*</span> <span class="uscript-type">float</span><span class="uscript-operator">(</span>Color<span class="uscript-operator">.</span>G<span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
  Color<span class="uscript-operator">.</span>B <span class="uscript-operator">=</span> <span class="uscript-type">byte</span><span class="uscript-operator">(</span>FClamp<span class="uscript-operator">(</span>Fade<span class="uscript-operator">,</span> <span class="uscript-number">0.0</span><span class="uscript-operator">,</span> <span class="uscript-number">1.0</span><span class="uscript-operator">)</span> <span class="uscript-operator">*</span> <span class="uscript-type">float</span><span class="uscript-operator">(</span>Color<span class="uscript-operator">.</span>B<span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
  
  <span class="uscript-keyword">return</span> Color<span class="uscript-operator">;</span>
  <span class="uscript-operator">}</span>


<span class="uscript-keyword">static</span> <span class="uscript-keyword">final</span> <span class="uscript-keyword">operator</span><span class="uscript-operator">(</span><span class="uscript-number">16</span><span class="uscript-operator">)</span> Color <span class="uscript-operator">*</span> <span class="uscript-operator">(</span>Color Color<span class="uscript-operator">,</span> <span class="uscript-type">float</span> Fade<span class="uscript-operator">)</span> <span class="uscript-operator">{</span>

  <span class="uscript-keyword">return</span> Fade <span class="uscript-operator">*</span> Color<span class="uscript-operator">;</span>
  <span class="uscript-operator">}</span>


<span class="uscript-comment">// ============================================================================</span>
<span class="uscript-comment">// Default Properties</span>
<span class="uscript-comment">// ============================================================================</span>

<span class="uscript-keyword">defaultproperties</span> <span class="uscript-operator">{</span>

  ColorDefault<span class="uscript-operator">=</span><span class="uscript-operator">(</span>R<span class="uscript-operator">=</span><span class="uscript-number">224</span><span class="uscript-operator">,</span>G<span class="uscript-operator">=</span><span class="uscript-number">224</span><span class="uscript-operator">,</span>B<span class="uscript-operator">=</span><span class="uscript-number">224</span><span class="uscript-operator">)</span>
  ColorImage<span class="uscript-operator">=</span><span class="uscript-operator">(</span>R<span class="uscript-operator">=</span><span class="uscript-number">255</span><span class="uscript-operator">,</span>G<span class="uscript-operator">=</span><span class="uscript-number">255</span><span class="uscript-operator">,</span>B<span class="uscript-operator">=</span><span class="uscript-number">255</span><span class="uscript-operator">)</span>
  ColorLink<span class="uscript-operator">=</span><span class="uscript-operator">(</span>R<span class="uscript-operator">=</span><span class="uscript-number">64</span><span class="uscript-operator">,</span>G<span class="uscript-operator">=</span><span class="uscript-number">64</span><span class="uscript-operator">,</span>B<span class="uscript-operator">=</span><span class="uscript-number">255</span><span class="uscript-operator">)</span>

  DelayFade<span class="uscript-operator">=</span><span class="uscript-number">0.5</span>
  DelayScroll<span class="uscript-operator">=</span><span class="uscript-number">2.0</span>

  SpeedFade<span class="uscript-operator">=</span><span class="uscript-number">1.0</span>
  SpeedScroll<span class="uscript-operator">=</span><span class="uscript-number">30.0</span>
  <span class="uscript-operator">}</span></pre><script type="text/javascript"><!--
 menuItemAdd("Interface", "#0.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Methods", "#0.1.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Properties", "#0.1.2");
menuItemAdd("Code", "#0.2");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p>
<a href="../index.html">Home Page</a> | <a href="useful-uwindow-extensions.html">Useful UWindow Extensions</a> | <a href="recent-changes.html">Recent Changes</a><br>
Last edited June 25, 2002 14:42 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=Useful_UWindow_Extensions/Scrolling_Credits">(diff)</a><br>Search: <input type="text" name="search"  size="14" /><input type="button" onclick="location.href='../search-error/index.html';" value="search" /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/Useful_UWindow_Extensions/Scrolling_Credits">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>

	</p>
	<p>I love the smell of UnrealEd crashing in the morning. (tarquin)</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="../index.html"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>


<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
