<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: FluidSurfaceInfo</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=FluidSurfaceInfo; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<form class="inline" method="post" action="/wiki" enctype="application/x-www-form-urlencoded"><input type="text" name="search"  size="20" /> <input type="submit" name="search" value="search" /></form>
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="(start).html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a> | <a href="http://wiki.beyondunreal.com/wiki?action=editprefs">Preferences</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="http://wiki.beyondunreal.com/wiki?back=FluidSurfaceInfo">FluidSurfaceInfo</a></h1>
	<div class="wiki"><div class="classpath"><img src="shared//gameicons/icon-ut2003.png"> <a href="unreal-tournament-2003.html">UT2003</a> :: <a href="actor.html">Actor</a> &gt;&gt; <a href="info.html">Info</a> &gt;&gt; FluidSurfaceInfo (Package: Engine)<br></div>
<p>A water-like surface. Actors can cause ripples by touching it. Unlike <a href="xprocmesh.html">xProcMesh</a>es, FluidSurfaceInfos do not deform when damaged.</p>
<h2><a name="0.1"></a>Properties</h2>
<h3><a name="0.1.1"></a>FluidSurfaceInfo Group</h3>
<dl><dt>float AlphaCurveScale</dt><dd></dd><dt>float AlphaHeightScale</dt><dd></dd><dt>byte AlphaMax</dt><dd></dd></dl>
<p>does anyone know how to use the surface alpha property of fluidsurfaceinfo to blend a second material onto the peaks of the waves in a water surface? -jeeptrash</p>
<dl><dt>bool bShowBoundingBox</dt><dd></dd><dt>bool bUseNoRenderZ</dt><dd></dd><dt><a href="terraininfo.html">TerrainInfo</a> ClampTerrain (edfindable)</dt><dd>Terrain used for auto-clamping water verts if below terrain level.</dd><dt>color FluidColor</dt><dd></dd><dt>float FluidDamping</dt><dd>between 0 and 1</dd><dt>float FluidGridSpacing</dt><dd>distance between grid points</dd><dt>EFluidGridType FluidGridType</dt><dd></dd><dt>float FluidHeightScale</dt><dd>vertical scale factor</dd><dt>float FluidNoiseFrequency</dt><dt>range FluidNoiseStrength</dt><dd>"Noise" or ripples that exist without a player interaction</dd><dt>float FluidSpeed</dt><dd>wave speed</dd><dt>int FluidXSize</dt><dd>num vertices in X direction</dd><dt>int FluidYSize</dt><dd>num vertices in Y direction</dd><dt>float NoRenderZ</dt><dd></dd><dt>bool OrientTouchEffect</dt><dd></dd><dt>bool OrientShootEffect</dt><dd></dd><dt>float RippleVelocityFactor</dt><dd>How much to ripple the water when interacting with actors</dd><dt>class&lt;<a href="actor.html">Actor</a>&gt; ShootEffect</dt><dd>Class of effect spawned when water surface it shot or touched by an actor</dd><dt>float ShootRadius</dt><dd>How large a radius is affected when water is shot</dd><dt>float ShootStrength</dt><dd>How hard to ripple water when shot</dd><dt>bool TestRipple </dt><dt>float TestRippleSpeed</dt><dt>float TestRippleStrength</dt><dt>float TestRippleRadius</dt><dd>Test ripple that shows only in editor.</dd><dt>class&lt;<a href="actor.html">Actor</a>&gt; TouchEffect</dt><dd></dd><dt>float TouchStrength</dt><dd></dd><dt>float UOffset</dt><dd></dd><dt>float UpdateRate</dt><dd>Rate at which fluid sim will be updated.</dd><dt>float UTiles</dt><dd></dd><dt>float VOffset</dt><dd></dd><dt>float VTiles</dt><dd></dd><dt>float WarmUpTime</dt><dd>Amount of time to simulate during postload before water is first displayed</dd></dl>
<h3><a name="0.1.2"></a>UnrealScript-Only Properties</h3>
<dl><dt>array&lt;int&gt; ClampBitmap</dt><dd>Bitmap indicating which water verts are 'clamped' ie. dont move</dd><dt>array&lt;float&gt; Verts0 (transient, const)</dt><dd></dd><dt>array&lt;float&gt; Verts1 (transient, const)</dt><dd></dd><dt>array&lt;byte&gt; VertAlpha (transient, const)</dt><dd></dd><dt>int LatestVerts (transient, const)</dt><dd></dd><dt>box FluidBoundingBox (transient, const)</dt><dd>Current world-space AABB</dd><dt>vector FluidOrigin (transient, const)</dt><dd>Current bottom-left corner</dd><dt>float TimeRollover (transient, const)</dt><dd></dd><dt>float TestRippleAng (transient, const)</dt><dd></dd><dt>FluidSurfacePrimitive<a href="http://wiki.beyondunreal.com/wiki?action=edit&id=FluidSurfacePrimitive&referrerid=FluidSurfaceInfo">?</a> Primitive (transient, const)</dt><dd></dd><dt>array&lt;<a href="fluidsurfaceoscillator.html">FluidSurfaceOscillator</a>&gt; Oscillators (transient, const)</dt><dd></dd><dt>bool bHasWarmedUp (transient, const)</dt><dd></dd></dl>
<h2><a name="0.2"></a>Enums</h2>
<h3><a name="0.2.1"></a>EFluidGridType</h3>
<dl><dt>FGT_Square</dt><dd></dd><dt>FGT_Hexagonal</dt><dd></dd></dl>
<h2><a name="0.3"></a>Tips</h2>
<ul><li>If your FluidSurface inexplicably stops moving (it may have been working fine, then stopped after a rebuild or after subsequent additions/changes to your map), you're apparently experiencing a bug in the PHYS_FluidSurface Physics setting.  I'm told this problem also appears in DM-IronDiety, as their fluid surface seems all set up, but is completely immobile.  A lame, but servicable work-around is to "jiggle" (or change, then change back) a setting in your FluidSurfaceInfo actor, like FluidXSize, to get the surface physics to "wake up" in Ued, <em class="em2">then</em> save your map without another rebuild.  This will save the FluidSurface in a state that is active and it will appear so in game as well.  Unfortunately, this "jiggling" must take place after each rebuild to ensure your FluidSurface doesn't save in a frozen state.</li>
</ul>
<h2><a name="0.4"></a>Quick HOWTO</h2>
<p>Here is a quick way to get a fluid surface in a level.</p>
<ol><li><a href="add-an-actor.html">Add an Actor</a> of class FluidSurfaceInfo to the level.</li>
<li>Change the FluidXSize and FluidYSize along with the FluidGridSpacing to size it correctly for the level space you want to use it in.</li>
<li>Find the <a href="texture.html">Texture</a> you want to use, and assign it to the first material in the  Display &rarr; Skins array</li>
<li>Tweak extra settings to suit your level.</li>
<li>Go shoot it.</li>
</ol>
<h2><a name="0.5"></a>Related Topics</h2>
<ul><li><a href="fluid-surfaces.html">Fluid Surfaces</a> tutorial</li>
<li><a href="xprocmesh.html">xProcMesh</a> class</li>
<li><a href="holes-in-fluid-surfaces.html">Holes In Fluid Surfaces</a> tutorial</li>
</ul>
<h2><a name="0.6"></a>Discussion</h2>
<p><em class="em2">Highlander:</em> It seems that the FluidSurface is unlit by default as well. BTW.. the <a href="class-wikifier.html">Class Wikifier</a> is pretty neat</p>
<p><em class="em2">Wormbo:</em> Yeah, it's neat, but it still needs some work. I've redone the Properties section.</p>
<p><em class="em2">Jeeptrash:</em> Anybody know what AlphaCurveScale and AlphaHeightScale do? The UDN tutorial implies that they change the alpha based on the height of a vertex but I can't seem to get this working to demo it. Does it change the alpha of an alpha map in the material? of the whole shader?</p>
<p><em class="em2">The Twiggman:</em> Wow those things are neat. Lol I always wondered how some of the volumes were moving like that, so I decided to find out and I looked at curse3's little area. Now you can just replace that old sheet with one of these for good effects. But doesn't that make you think you can make neat effects like a big web or something and have it ripple as you fall through it.</p>
<p><em class="em2">Tony:</em> So is it possible to create circular liquid surfaces with this actor, or is the engine limited in this aspect?</p>
<p><em class="em2">Wormbo:</em> It seems the FluidSurcafeInfo is limited to flat surfaces. If you want a different shape you need to use an <a href="xprocmesh.html">xProcMesh</a>.</p>
<p><em class="em2">Zengi:</em> Is it possible to make a fluid type mesh while in game through code for summoning?</p>
<hr class="thin"><p><a href="category-class-ut2003.html">Category Class (UT2003)</a></p>
<p><a href="category-class-ut2004.html">Category Class (UT2004)</a></p>
<script type="text/javascript"><!--
 menuItemAdd("Properties", "#0.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>FluidSurfaceInfo Group", "#0.1.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>UnrealScript-Only Properties", "#0.1.2");
menuItemAdd("Enums", "#0.2");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>EFluidGridType", "#0.2.1");
menuItemAdd("Tips", "#0.3");
menuItemAdd("Quick HOWTO", "#0.4");
menuItemAdd("Related Topics", "#0.5");
menuItemAdd("Discussion", "#0.6");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p><form method="post" action="http://wiki.beyondunreal.com/wiki" enctype="application/x-www-form-urlencoded">
<a href="(start).html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a> | <a href="http://wiki.beyondunreal.com/wiki?action=editprefs">Preferences</a><br>
<a href="http://wiki.beyondunreal.com/wiki?action=edit&id=FluidSurfaceInfo">Edit text of this page</a> | <a href="http://wiki.beyondunreal.com/wiki?action=history&id=FluidSurfaceInfo">View other revisions</a><br>Last edited July 9, 2006 17:03 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=FluidSurfaceInfo">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/FluidSurfaceInfo">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>
</form>
	</p>
	<p>Describe the new page here.
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="http://wiki.beyondunreal.com/"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>
<p><a href="/cgi-bin/imageupload.cgi/wiki-ext/imageupload.htt" target="_blank ">Image Uploads</a></p>
<p><a href="http://wiki.beyondunreal.com/wiki?action=random">Random Page</a></p>
<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
