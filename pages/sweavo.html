<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: Sweavo</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=Sweavo; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<form class="inline" method="post" action="/wiki" enctype="application/x-www-form-urlencoded"><input type="text" name="search"  size="20" /> <input type="submit" name="search" value="search" /></form>
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="http://wiki.beyondunreal.com/wiki?back=Sweavo">Sweavo</a></h1>
	<div class="wiki"><p>I play a lot of Onslaught and VCTF, and recently joined the SAS sniper/camper clan, taking the name [SAS]splinter.  Former names ukj_n00b and chutneyferret.uk.  This last name amoosed me muchly because a Dutch server wouldn't let me join because my name contained a rude word (n00b) so I was forced to change it.  It let me have <a href="http://www.urbandictionary.com/define.php?term=chutney+ferret">[chutneyferret]</a> though.</p>
<hr class="thin"><h2><a name="0.1"></a>Random Thing</h2>
<p>There's no reference on the wiki to <a href="http://www.real-swedix.net/ut2004mi.html">[ut2004mi]</a> which is a rather tidy-looking "cache cleaner" - i.e. it lets you recover maps etc that the game has downloaded for play, and play them in instant action, load them into unrealed, etc.</p>
<hr class="thin"><h2><a name="0.2"></a>Sniper Muts</h2>
<h3><a name="0.2.1"></a>Project: KillsMinusDeaths</h3>
<p>This is a finished Mut for the SAS Camper server that awards your score and your rating based on your kills (headshots counts as 2 kills) minus your deaths.  If two people have the same score, the one with the fewest deaths wins,  so if I made one kill and never died, I beat the guy who made 21 kills and died 20 times.  This is not publicly released (go see it on the UT2004 SAS sniper/camper server) but I'm here if you want to make something similar and have technical questions.</p>
<h3><a name="0.2.2"></a>Project: YouDontQuitThatEasy</h3>
<p>A workaround for the above mutator is that if you have a massive negative score you can quit and rejoin, shedding all those negative points.  This mutator causes a returning player get back his or her score from when they quit.  </p>
<ul><li>Requires <a href="uniquely-identify-a-player.html">Uniquely Identify A Player</a></li>
<li>See <a href="sweavo-mutyoudontquitthatea.html">/MutYouDontQuitThatEasy</a></li>
</ul>
<p><em class="em2">SuperApe:</em> I've been wondering about saving data between matches and sessions for a while.  I haven't gotten around to hunt for info on it.  I'd love to see it. <img alt=":)" src="emoticons/smile.gif" align="middle"></p>
<p><em class="em2">Sweavo:</em> Ah, now THAT it doesn't do!  I still need to research on storing stuff between matches.  In this method, the data is stored in actors in the level, so they are trashed at level end.</p>
<p><em class="em2">SuperApe:</em> Keep us updated. <img alt=":)" src="emoticons/smile.gif" align="middle">  I'll pipe up if I find anything along the lines of the SinglePlayer savegame, etc.</p>
<p><em class="em2">SuperApe:</em> <a href="databaseconnection.html">DatabaseConnection</a> seems to provide some interesting info and links on the subject.</p>
<p><em class="em2">Jimboh:</em> meh...can't you just save it as a package on the server side? See: <a href="dataobject.html">DataObject</a></p>
<p><em class="em2">SuperApe:</em> At first glance, that look like it.  Thanks, Jimboh. (I'll link from <a href="databaseconnection.html">DatabaseConnection</a>)</p>
<p><em class="em2">Sweavo:</em> yep, savepackage() is where I'm at at the moment.  I'm coming up with an abstract class that will make this dead easy for people in general.  Watch this space.</p>
<p><em class="em2">Sweavo:</em> well it turns out not to be that straightforward.  I declared a class that knew how to save itself when destroyed, and was able to save and load data on a player-by-player basis.  But I wanted to give it an abstract struct for its save data so that subclasses could simply override that in order to implement per-player persistence across levels and sessions.  Can't see how to do that in UScript so I think I'll have to make a concrete class and publish that so that people can rip the source and duplicate it rather than extending.</p>
<h3><a name="0.2.3"></a>Project: Walk Don't Run</h3>
<p>In ut99 I used to play a lot of sniper servers.  Just been playing on the SAS server and it's a pain for the admins that people run around a lot.  I figure why not have a mut that prevents it.  Ideally I'd like to reverse the sense of the Walk button - so if you don't press walk, you walk, and if you do press it, you run.  SAS don't like this mut (it's quite intrusive even if you are playing fair) so feel free to grab it and try it on your own server.</p>
<p>See <a href="sweavo-mutwalkdontrun.html">/MutWalkDontRun</a></p>
<hr class="thin"><h2><a name="0.3"></a>Social / Clan muts</h2>
<h3><a name="0.3.1"></a>Project: BadgesOfRank</h3>
<p>This is an idea whereby the server admin can award badges to users arbitrarily, for example, clan members might get a particular insignia, recruits another, admin another, maybe clan members can have their own personal avatars.  Maybe idiots who are cruising for a ban get a dunce's hat.  These would appear as small icons on the scoreboard at game end.</p>
<p>Not sure yet how to make all this work.  I want to hook into the players' unique IDs to identify them, study the .ini and savepackage documentation to work out how to store and load the players' settings (which must be SERVER SIDE), figure out how to display icons in an interaction, and wire them into the scoreboard.  </p>
<p>It would be nice to factor this so that there is an infrastructure that allows an arbitrary linked-list of PersonalRegulation objects to be attached to a particular player, which persists across games.  Then other ideas could easily be folded in to the infrastructure like stripping off the clan tag from non-clan members etc.</p>
<ul><li>Requires <a href="uniquely-identify-a-player.html">Uniquely Identify A Player</a></li>
</ul>
<h3><a name="0.3.2"></a>Project: Skin Relay</h3>
<p>See <a href="mod-ideas-skinrelay.html">Mod Ideas/SkinRelay</a>.</p>
<hr class="thin"><h2><a name="0.4"></a>Onslaught Muts</h2>
<h3><a name="0.4.1"></a>Project: Tractor Beam</h3>
<p>Here's my <a href="http://www.sweavo.34sp.com/misc/utmods/MutScratchMutator-tractorraptor44.zip">[TractorRaptor]</a> class, that replaces all the raptors in a map with an eerily similar vehicle but that has a tractor beam that can pick up other vehicles and move them around the map.  Needs work, but I'd appreciate anyone downloading it and giving me any tips.  If you are under cygwin then you should be able to build it with <em class="em2">make run</em> at the commandline.</p>
<h3><a name="0.4.2"></a>Project: vehicle dibs</h3>
<p>A mutator that holds onto the last vehicle you used indefinitely, so you can raptor up to some lofty place, snipe for a bit, then get back in it without it having been destroyed by the game engine while your back was turned.</p>
<p>So I figured out that ONSVehicles disappear by having their CheckReset() called.  I'm not 100% sure what all those conditions are below, but if you can see the vehicle it seems you count as a collidingactor.</p>
<pre class="uscript"><span class="uscript-comment">// in ONSVehicle</span>
<span class="uscript-keyword">event</span> CheckReset<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-operator">{</span>
    <span class="uscript-keyword">local</span> Pawn P<span class="uscript-operator">;</span>

    <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span> bKeyVehicle <span class="uscript-operator">&amp;&amp;</span> IsVehicleEmpty<span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-operator">)</span>
    <span class="uscript-operator">{</span>
        Died<span class="uscript-operator">(</span><span class="uscript-keyword">None</span><span class="uscript-operator">,</span> <span class="uscript-keyword">class</span><span class="uscript-name">'DamageType'</span><span class="uscript-operator">,</span> Location<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
        <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
    <span class="uscript-operator">}</span>

    <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span> <span class="uscript-operator">!</span>IsVehicleEmpty<span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-operator">)</span>
    <span class="uscript-operator">{</span>
            ResetTime <span class="uscript-operator">=</span> Level<span class="uscript-operator">.</span>TimeSeconds <span class="uscript-operator">+</span> <span class="uscript-number">10</span><span class="uscript-operator">;</span>
            <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
    <span class="uscript-operator">}</span>

    <span class="uscript-keyword">foreach</span> CollidingActors<span class="uscript-operator">(</span><span class="uscript-keyword">class</span> <span class="uscript-name">'Pawn'</span><span class="uscript-operator">,</span> P<span class="uscript-operator">,</span> <span class="uscript-number">2500.0</span><span class="uscript-operator">)</span>
    <span class="uscript-operator">{</span>
        <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>P<span class="uscript-operator">.</span>Controller <span class="uscript-operator">!=</span> <span class="uscript-keyword">none</span> <span class="uscript-operator">&amp;&amp;</span> P <span class="uscript-operator">!=</span> <span class="uscript-keyword">self</span> <span class="uscript-operator">&amp;&amp;</span> P<span class="uscript-operator">.</span>GetTeamNum<span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-operator">==</span> GetTeamNum<span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-operator">&amp;&amp;</span> FastTrace<span class="uscript-operator">(</span>P<span class="uscript-operator">.</span>Location <span class="uscript-operator">+</span> P<span class="uscript-operator">.</span>CollisionHeight <span class="uscript-operator">*</span> <span class="uscript-keyword">vect</span><span class="uscript-operator">(</span><span class="uscript-number">0</span><span class="uscript-operator">,</span><span class="uscript-number">0</span><span class="uscript-operator">,</span><span class="uscript-number">1</span><span class="uscript-operator">)</span><span class="uscript-operator">,</span> Location <span class="uscript-operator">+</span> CollisionHeight <span class="uscript-operator">*</span> <span class="uscript-keyword">vect</span><span class="uscript-operator">(</span><span class="uscript-number">0</span><span class="uscript-operator">,</span><span class="uscript-number">0</span><span class="uscript-operator">,</span><span class="uscript-number">1</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span>
        <span class="uscript-operator">{</span>
            ResetTime <span class="uscript-operator">=</span> Level<span class="uscript-operator">.</span>TimeSeconds <span class="uscript-operator">+</span> <span class="uscript-number">10</span><span class="uscript-operator">;</span>
            <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
        <span class="uscript-operator">}</span>
    <span class="uscript-operator">}</span>

    <span class="uscript-comment">//if factory is active, we want it to spawn new vehicle NOW</span>
    <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span> ParentFactory <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span> <span class="uscript-operator">)</span>
    <span class="uscript-operator">{</span>
        ParentFactory<span class="uscript-operator">.</span>VehicleDestroyed<span class="uscript-operator">(</span><span class="uscript-keyword">self</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
        ParentFactory<span class="uscript-operator">.</span>Timer<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
        ParentFactory <span class="uscript-operator">=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">;</span> <span class="uscript-comment">//so doesn't call ParentFactory.VehicleDestroyed() again in Destroyed()</span>
    <span class="uscript-operator">}</span>

    Destroy<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-operator">}</span></pre><p>I'd like to somehow figure out a mutator that stops the last vehicle any player used from resetting.  So I can fly the raptor up to a cliff, camp for a bit, and not turn around to find it gone.  Without subclassing both player and vehicle, it's currently looking like it'll have to be done by polling: some piece of code on a timer constantly updates the ResetTime of the player's last vehicle to stop it timing out.</p>
<p>Found a bNeverReset in ONSVehicle.  Wondering if I can make the mutator keep track on the client of what vehicle the local player has been getting in, and can set bNeverReset on vehicles the player gets in, and clear bNeverReset (and/or set the CheckReset timer) on the previous veh.</p>
<p>Not sure how to hook this one up but could you have the client write to the vehicle's bKeyVehicle and record a reference to that vehicle when you get in.  If the reference were not empty, it would first re-instate the bKeyVehicle setting for that vehicle to allow the previous vehicle to be reset.</p>
<h3><a name="0.4.3"></a>Project: AS Turrets for ONS</h3>
<p>I love ONS-MassDestruction but it had a major flaw when there are only a few players: if you immediately jump in a cicada you can fly to the opposing base and jack their ion cannon before they've even got in it.  I love to do this but never feel like I'm being fair!  So I have the quest of getting the ion cannon to spawn with the right team set and teamlocked.</p>
<p>See <a href="sweavo-mutasturretsinons.html">/MutASTurretsInONS</a></p>
<h3><a name="0.4.4"></a>Project: Bulldog2k4</h3>
<p>SuperApe has done some smart work lashing up the <a href="bulldog.html">Bulldog</a> to work in 2k4.  I'd like to try a different approach: creating a brand new ONSVehicle with the mesh of the Bulldog.  Maybe this would be less buggy than the ModifiedBulldog.  Or maybe it would just be too mush work and I'd never get round to it.  Ho hum.</p>
<hr class="thin"><h2><a name="0.5"></a>Uh-oh, it's getting a bit silly now</h2>
<ul><li>A means of blocking off areas of a map based on the number of players, especially useful in camping servers</li>
<li>Players can choose their favourite skins on a map-by-map basis.  This is possibly a client-side mutator - how would it interact with ANTI-TCC?</li>
<li>If for example there is a goliath pwning some part of the map but it's nearly dead, and I heal it, I deserve some points for every kill it makes from then on.  This is a wooly idea but it would be good to come up with a scoring system that encouraged synergistic teamplay</li>
<li>A link-manta, with weak primary link fire and good secondary link fire, only really any good in a supporting role on maps with large number of players for healing vehs and nodes, or if linked up to one another, can become powerful (though hard to maintain links because they are so nimble)</li>
<li>Use a spider-mine as a vehicle?  Hahah, how cool would that be...  hmm, maybe I need to cut my caffeine intake</li>
<li>Also thinking about a mutator-mutator so that servers can have different mutators applied to different maps</li>
</ul>
<p><em class="em2">StarWeaver:</em> Take a look at <a href="http://mapmixer.oceaniaut.com/">[MapMixer]</a>; aside from being a nice shuffle tool with random mutator support to begin with you can set rules and defaults for each map individually. I'm pretty sure. There are billions of options in there, and I haven't used them all. <img alt=":)" src="emoticons/smile.gif" align="middle"></p>
<hr class="thin"><h2><a name="0.6"></a>Discussion</h2>
<p><em class="em2">Sweavo:</em> <em class="em1">please put discussion under the relevant subsection thanks</em></p>
<hr class="thin"><p><a href="category-personal-page.html">Category Personal Page</a></p>
<script type="text/javascript"><!--
 menuItemAdd("Random Thing", "#0.1");
menuItemAdd("Sniper Muts", "#0.2");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Project: KillsMinusDeaths", "#0.2.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Project: YouDontQuitThatEasy", "#0.2.2");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Project: Walk Don't Run", "#0.2.3");
menuItemAdd("Social / Clan muts", "#0.3");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Project: BadgesOfRank", "#0.3.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Project: Skin Relay", "#0.3.2");
menuItemAdd("Onslaught Muts", "#0.4");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Project: Tractor Beam", "#0.4.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Project: vehicle dibs", "#0.4.2");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Project: AS Turrets for ONS", "#0.4.3");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Project: Bulldog2k4", "#0.4.4");
menuItemAdd("Uh-oh, it's getting a bit silly now", "#0.5");
menuItemAdd("Discussion", "#0.6");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p><form method="post" action="http://wiki.beyondunreal.com/wiki" enctype="application/x-www-form-urlencoded">
<a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a><br>
Last edited May 3, 2006 12:52 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=Sweavo">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/Sweavo">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>
</form>
	</p>
	<p>Describe the new page here.
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="../index.html"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>


<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
