<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: Terrain Mode</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=Terrain_Mode; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<form class="inline" method="post" action="/wiki" enctype="application/x-www-form-urlencoded"><input type="text" name="search"  size="20" /> <input type="submit" name="search" value="search" /></form>
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="http://wiki.beyondunreal.com/wiki?back=Terrain Mode">Terrain Mode</a></h1>
	<div class="wiki"><p><em class="em2">Terrain Mode</em> is a <a href="toolbox.html">toolbox</a> mode new in <a href="unrealed-3.html">UnrealEd 3</a> which allows the mapper to manipulate terrain. It is a very complex swiss army chainsaw (!) of a tool, which allows heightmaps and layer maps to be imported as well as edited on the fly. This page is the reference for Terrain Mode, if you want a tutorial see <a href="creating-a-terrain.html">Creating A Terrain</a>.</p>
<p>To enter this mode, click on the toolbox terrain mode icon (the mountain with snowy peaks); this pops up the <em class="em2">Terrain Editing window</em>. To close the window and leave this mode, pick another mode from the toolbox such as the <a href="camera-movement.html">Camera Movement</a> mode.</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[interface-Ed3-TerrainTool]" src="images/interface-ed3-terraintool.png"><p>The Terrain Editing window, with its icon highlighted</p>
</div>
</td>
</tr>
</table>
</div>
<h2><a name="0.1"></a>The Terrain Editing window</h2>
<p>The <em class="em2">Terrain Editing Window</em> is a floating window, of fixed size, with 2 top-level tabs on it:</p>
<ul><li>Tools : Allows you to edit your terrain, add layers etc. </li>
<li>Misc : commands to run the terrain generator.</li>
</ul>
<p>We'll mainly be concerned with <em class="em2">Tools</em>.</p>
<h2><a name="0.2"></a>The Tools Tab</h2>
<ul><li>In the upper left is a list of the available tools. </li>
<li>In the upper middle and right are options with apply to the tools. Check "per tool?" so each tool remembers its own settings; otherwise they will apply to all the tools.</li>
<li>The lower half of the window has another set of three tabs, which we'll call the <em class="em2">Terrain Layers tabs</em>. This is where you select what the tools will act on &ndash; the heightmap, the texture layers, or decoration layers.</li>
</ul>
<h2><a name="0.3"></a>The different tools and the brush</h2>
<p>All the tools have the same basic interaction interface. Pick a tool from the list by clicking on it. You mostly use them all in the 3D <a href="unrealed-viewport.html">UnrealEd viewport</a>, where the active "brush" is represented by a yellow circle indicating the radius of effec. This yellow circle follows the surface of the terrain, and indicates the inner &amp; outer radius settings. It's a good idea to set the viewport to "wiremesh" view to see vertices more clearly, However, if you have already placed a sunlight in your map, "Dynamic" or "Lighting only" make the terrain curvature easier to see as well.</p>
<p>It is also possible to use some of them in an orthogonal <a href="unrealed-viewport.html">UnrealEd Viewport</a> (the top view is most useful for this). This can make setting terrain visibility easier, or painting layers, or painting very specific parts of the heightmap. With the viewport in focus, hit 'T' to show terrain: it will show textured and lit. It's a good idea to enable the terrain grid visibility (in the layers tab, see below).  </p>
<p>You use the <em class="em2">control</em> key in combination with either the left or right mouse button to use a tool. In general, if <em class="em2">control + left-mouse</em> does one thing, <em class="em2">control + right-mouse</em> does the opposite.</p>
<p>The tools are:</p>
<dl><dt>Vertex Editing</dt><dd>see <a href="vertex-editing-terrain-tool.html">Vertex Editing Terrain Tool</a></dd><dt>Select</dt><dd>allows you to select a rectangle, presumably to use the "generate" tool on a region instead of the whole terrain</dd><dt>Painting</dt><dd>This behaves differently according to whether the Heightmap or a layer is selected in the lower three tabs. More: <a href="painting-terrain-tool.html">Painting Terrain Tool</a><dl><dt>Heightmap</dt><dd>raise (LMB) or lower (RMB) the terrain by an amount determined by strength and adjust. The mouse must be moved to effect a change. Set the strength and adjust to quite low with this tool, or large changes will result very quickly.</dd><dt>Layer</dt><dd>Mask or un-mask the layer.</dd></dl>
</dd><dt>Smoothing</dt><dd>This will cause the terrain inside your editing circle to blend together and become, well, smoother. This can be looked at as a sort of "averaging" tool, where everything in the area is averaged together towards a middle height. For instance, if you pumped up the radius to much larger than your terrain area with strength of 100%, holding down the LMB would cause you to get, eventually, a flat piece of terrain with the average elevation that all of your terrain had. <em class="em2">NOTE</em>: Smoothing off the edge of the terrain is BAD, resulting in an instant UnrealEd crash or vertices suddenly pushed all the way to the minimum terrain height. Save often. Also, the smoothing tool seems to act more quickly on the terrain then other tools. You may want to turn the strength to about 1/4 or 1/2 of what you originally intended.</dd><dt>Noise</dt><dd>introduces random changes, raising the terrain in random places by an amount determined from the strength and adjust. Useful for roughing up flat areas to make them look more natural.</dd><dt>Flatten</dt><dd>Ctrl + LMB on a terrain vertex, then wherever you drag the mouse will be set to the height of that initial vertex. Useful for creating 'man-made' areas in the terrain e.g. roads. Note that this mode is unlike the others in that it does not modify the surface gradually, but makes an instantanious change. Use with caution.</dd><dt>Visibility</dt><dd>This tool is used to show or hide individual polygons and regions of the terrain.  What you can't see, you can't touch, so use this tool to make e.g. entrances to caves that allow the player to pass through the terrain. Obviously, you will just drop through any hole to the bottom of the containing subtracted brush, so you need to add <a href="bsp.html">BSP</a> geometry around the hole then subtract a cave, or put a <a href="static-mesh.html">static mesh</a> there.  The tricky bit is aligning the subterranean part seamlessly with the terrain.  See DM-Antalus for a good example.</dd><dt>Edge Turn</dt><dd>This tool rotates the tesselation of a certain face. In wireframe view you can see that a terrain map is made up of tesselated squares, but all the tesselation goes the same way. If you have sharp edges on your terrain because of extreme changes in altitude, use the edge turn tool to switch the verticies that the tesselation uses.</dd><dt>Tex Pan</dt><dd>Slides the texture of a layer around. I suppose this would be important if you've got a custom texture for the terrain map, otherwise, this has limited use. One good use of this is on <a href="terrain-texture-layer.html">Terrain Texture layer</a>s where the texture is projected sideways onto the terrain, such as for layered rock. Panning allows you to change the elevation of the layers.</dd><dt>Tex Rotate</dt><dd>Rotates the texture of a layer, again, limited use.</dd><dt>Tex Scale</dt><dd>Scales the texture of a layer. You can do this more mathematically by opening up the terraininfo's properties and flipping through the layers and changing their scaling properties.</dd></dl>
<p>Most terrain editing is done using Painting, Smoothing, Flatten, and occasionally Visibility. The others are useful for very fine control. </p>
<h2><a name="0.4"></a>The Tool Options</h2>
<p>The tools options section changed the settings for the yellow brush you see in the 3D window: its size, and how much it affects the terrain. It is <em class="em1">very important</em>, so get used to it, you'll tweak it often <img alt=":)" src="emoticons/smile.gif" align="middle">. It consists of several options:</p>
<dl><dt>Per Tool?</dt><dd>Off means all tools use the same radii, strenth, and adjust values. On allows each tool to have separate settings.</dd><dt>Inner Radius &amp; Outer Radius</dt><dd>The outer radius is the size of the area of effect. Some tools, like visibility and flatten, only use the outer radius. They have their full effect anywhere they touch. Other tools, such as raising and lowering terrain, use the inner radius also. These tools have maximum effect inside the inner radius, then drop off to 0 change at the edge of the outer radius. Setting the inner and outer radius the same will cause these tools to have maximum effect for the whole circle. Setting the inner radius to zero will cause a smooth blend from maximum at the center to nothing at the edge. Most of the time, people have a small inner radius and a large outer radius.<dl><dt>Lock icon</dt><dd>Tie the Inner Radius &amp; Outer Radius sliders together, so that they increase and decrease together. Useful for having a uniform 'blend edge' while you change the size of the brush.</dd></dl>
</dd><dt>Strength &amp; Adjust</dt><dd>These are sort of like opacity and pressure in Photoshop &ndash; they control how much the brush does, and how fast it does it. Larger values for Adjust and Strength will cause modifications to your terrain to happen much faster &ndash; often too fast, especially with the smoothing tool.</dd><dt>Ignore Invisible Quads</dt><dd>Unknown effect. Perhaps broken?</dd><dt>Mirror</dt><dd>lets you work on 2 or 4 parts of your terrain simultaneously. Great for outdoor CTF or ONS maps.</dd></dl>
<p>It's pretty intuitive once you've done it a couple of times. When you can see the effect of different settings immediately on how fast that hill rises, and what its shape is, it becomes quite obvious! Experiment a lot &ndash; experimentation is rewarded. Recommended settings will be given when treating the individual tools, but for an example, here's the settings that I typically use for the Smoothing tool:</p>
<p class="indent1"><em class="em2">Inner Radius</em>: 0</p>
<p class="indent1"><em class="em2">Outer Radius</em>: 1024 or larger (sometimes as high as 8192)</p>
<p class="indent1"><em class="em2">Strength</em>: 8%</p>
<p class="indent1"><em class="em2">Adjust</em>: 4</p>
<p>In summary:</p>
<ul><li>All terrain editing is done in the 3D view (use the wiremesh viewmode to see terrain vertices more clearly).</li>
<li>The brush is a bright yellow circlet</li>
<li>Use the <em class="em2">control</em> key in combination with holding down the left or right mouse buttons to use a tool. </li>
<li>Strength &amp; Adjust are critical, and usually best kept very low for fine editing</li>
<li>Experiment, experiment, experiment!</li>
</ul>
<h2><a name="0.5"></a>Terrain Layers tabs </h2>
<p>Select here which component of the terrain is affected by the tool you use.</p>
<h3><a name="0.5.1"></a>Terrains</h3>
<p>Lists all terrains currently in your map, listed by the name of their heightmap texture (so if you change these, beware!). Select the one to you want to work with from the list. Double-clicking on the name in the list brings up the <a href="actor-overview.html">Actor Properties</a> for that terrain's <a href="terraininfo.html">TerrainInfo</a>.</p>
<p>Click the <em class="em2">New icon</em> to make a new terrain. The terrain will be centered on the 3D <a href="unrealed-viewport.html">UnrealEd Viewport</a> camera (we think!). The zone you are in needs to be set to have bTerrainZone = True. See <a href="creating-a-terrain.html">Creating A Terrain</a> for this in detail.</p>
<h3><a name="0.5.2"></a>Layers</h3>
<p>Lists the <a href="terrain-texture-layer.html">Terrain Texture layer</a>s of the current terrain. You can use this area to add new layers and reorder them.</p>
<p>Select a layer here to make the Painting Tool alter that layer's  visibility on the terrain. (if nothing seems to happen, remember the display order of the layers: the top layer in the list is the one rendered first, so lowest.)</p>
<p>Use the arrows to the right to change layer order. This can be useful to bring the layer you are working with to the top temporarily. (Here, 'top' means bottom... the first layer in the list is the first to be rendered, so at the it's the one that is beneath all the others on the terrain.)</p>
<p>Use the grid button to toggle the terrain grid display on some or all layers. </p>
<h3><a name="0.5.3"></a>Decorations</h3>
<p>Create and edit <a href="terrain-decoration-layer.html">Terrain Decoration layer</a>s.</p>
<h2><a name="0.6"></a>Misc tab</h2>
<p>The misc tab holds the settings for the <em class="em2">terrain generator</em>. This generates random terrain within the region currently highlighted with the [Select Terrain Tool]<a href="http://wiki.beyondunreal.com/wiki?action=edit&id=Select_Terrain_Tool&referrerid=Terrain_Mode">?</a>. </p>
<p>Can't think of how you want your terrain to look? Want UnrealEd to give you something more interesting to start with? Use the <em class="em2">terrain generator</em>.</p>
<dl><dt>Steps</dt><dd>Controls how many passes the generator makes over the terrain. More steps mean more hills.</dd><dt>Strength</dt><dd>Controls the magnitude of the hills being generated. Max value 255. High values mean steep, craggy peaks that leave almost no place to walk, and low values mean gentle rolling hills that are pretty flat overall.</dd><dt>Use entire Heightmap?</dt><dd>Tick this to have the generated surface use all of the terrain space. Unticked, only uses what is currently selected with the Select tool in the terrain editor.</dd></dl>
<h2><a name="0.7"></a>Troubleshooting</h2>
<dl><dt>I can't adjust the terrain!  LMB + RMB + Ctrl = nothing happens</dt><dd>The file format of the terrain heightmap is very important.  If it's not G16, then you won't be able to edit it properly (if at all) with the tools. If importing your own heightmap, make sure it's 8-bit grayscale, import it, then right-click it on the 'terrain info' tab and convert it to G16.</dd></dl>
<h2><a name="0.8"></a>External Links</h2>
<h3><a name="0.8.1"></a>UDN</h3>
<ul><li><span class="interwiki"><img 
        alt="udncontent logo"
        title="udncontent"
        src="shared//InterWiki-udncontent.png">&nbsp;<a href="http://udn.epicgames.com/Two/TerrainTutorial">TerrainTutorial</a></span></li>
</ul>
<h3><a name="0.8.2"></a>Miscellaneous</h3>
<ul><li><a href="http://www.angelmapper.com/tutorials/terrain1.htm">[Angel Mapper's Terrain Tutorial]</a></li>
</ul>
<h2><a name="0.9"></a>Related Topics </h2>
<ul><li><a href="terrain.html">Terrain</a></li>
<li><a href="creating-a-terrain.html">Creating A Terrain</a> &ndash; step by step tutorial</li>
<li><a href="terrain-texture-layer.html">Terrain Texture Layer</a></li>
<li><a href="terrain-decoration-layer.html">Terrain Decoration Layer</a></li>
</ul>
<h2><a name="0.10"></a>Discussion</h2>
<p><em class="em2">EntropicLqd:</em> Try this thread - it uses the UDN tut as a basis and lets you know where things go wrong or stop working. <a href="http://ina-community.com/forums/showthread.php?s=&threadid=216389">http://ina-community.com/forums/showthread.php?s=&threadid=216389</a>.  Then you can fill this page in yourself <img alt=":)" src="emoticons/smile.gif" align="middle">  And make it easier to follow.</p>
<p><em class="em2">Icedude:</em>We realy need a tutoral on Deco Layers. I cant figure them out!</p>
<p><em class="em2">Tahngarth:</em> could we integrate this with <a href="using-the-terrain-tool.html">Using The Terrain Tool</a> somehow? This part seems more a description of the tools than a step-by-step tutorial. Part I is quite important and well done tutorial, but this part seems just a tool function summary. I'm not sure what to do here, but theres bound to be some duplication going on if i finish writing that page now.</p>
<p><em class="em2">ProjectX:</em> Ok, i've dun terrain before, and mastered it, I have a cavern set up with two terrain actors, one above the other, they used to be using the same heightmap, but i changed it. Now, i place playerstarts, and rebuild, they come up with "this player start is not on an even base or neer a steep slope", i finally got that to stop and i tested the game and it said it couldnt find the player starts. I had 17 on there and i had rebuilt the level without a single error. I tried loading the map up again and it GPFd </p>
<p><em class="em2">ZxAnPhOrIaN:</em> What type of rebuilding did you use? If you did geometry, use the path rebuild button. If you did paths, use the geometry rebuild button, and then use the path button. That happened to me once.</p>
<p><em class="em2">MadNad:</em> Another interesting thing to note that I found was that by increasing the size of your heightmap when creating terrain layer from 128x128 to 256x256 makes some pretty crisp shadowing, along with longer compiles and lower frames, but still, very cool feature.</p>
<p><em class="em2">Tesseract:</em> Im not sure where to put this, so i'll put it here til told otherwise.  I have Real Life data stores in autocad. i would like to see the steps to turning this into editable unrealed terrain if possible.  so far i know: get dwg contours, import to 3d studio. create terrain object. from there on out, i am unsure of how to get EDITABLE terrain. i can export to ASE, then change to t3d, and get a brush. import ASE directly and get a static mesh. none of these things is what i want, any ideas? i'll give a sweet write-up if i ever figure it out</p>
<p><em class="em2">WheatPuppet:</em> I <em class="em1">think</em> your objective would be to, instead of making a 3d model, would be to generate a grayscale heightmap. I don't know if that's possible in either of those programs, but if you want it to actually be a terrain, you're going to need a grayscale.</p>
<p><em class="em2">Evilmrfrank:</em> Im having a problem.  Ive been able to complete making terrains in the past succesfully but for some reason it will not allow me to use the smoothing tool and some of the others.</p>
<p><em class="em2">Bob_The_Beheader:</em> Maybe <a href="terragen.html">Terragen</a> can import your model. I don't have the program on me right now so I couldn't tell you, but you could check. Also, you can take a screenshot of the model in windows, the PrintScreen captures an image of the current screen, and puts it on the clipboard, where you can paste it into an image document or something, clean it up, and then you've got yourself a heightmap.</p>
<hr class="thin"><p><a href="category-mapping.html">Category Mapping</a><br><a href="category-troubleshooting.html">Category Troubleshooting</a></p>
<p><a href="category-to-do.html">Category To Do</a> &ndash; fill in the other terrain tools</p>
<script type="text/javascript"><!--
 menuItemAdd("The Terrain Editing window", "#0.1");
menuItemAdd("The Tools Tab", "#0.2");
menuItemAdd("The different tools and the brush", "#0.3");
menuItemAdd("The Tool Options", "#0.4");
menuItemAdd("Terrain Layers tabs ", "#0.5");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Terrains", "#0.5.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Layers", "#0.5.2");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Decorations", "#0.5.3");
menuItemAdd("Misc tab", "#0.6");
menuItemAdd("Troubleshooting", "#0.7");
menuItemAdd("External Links", "#0.8");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>UDN", "#0.8.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Miscellaneous", "#0.8.2");
menuItemAdd("Related Topics ", "#0.9");
menuItemAdd("Discussion", "#0.10");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p><form method="post" action="http://wiki.beyondunreal.com/wiki" enctype="application/x-www-form-urlencoded">
<a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a><br>
Last edited May 4, 2006 22:35 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=Terrain_Mode">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/Terrain_Mode">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>
</form>
	</p>
	<p>Once I get that upgrade to 36-hour days, I will tackle that. (Mychaeel)
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="../index.html"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>


<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
