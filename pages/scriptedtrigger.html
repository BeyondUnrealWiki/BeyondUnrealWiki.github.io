<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: ScriptedTrigger</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=ScriptedTrigger; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<form class="inline" method="post" action="/wiki" enctype="application/x-www-form-urlencoded"><input type="text" name="search"  size="20" /> <input type="submit" name="search" value="search" /></form>
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="http://wiki.beyondunreal.com/wiki?back=ScriptedTrigger">ScriptedTrigger</a></h1>
	<div class="wiki"><div class="classpath"><img src="shared//gameicons/icon-ut2003.png"> <a href="unreal-tournament-2003.html">UT2003</a> :: <a href="actor.html">Actor</a> &gt;&gt; <a href="keypoint.html">Keypoint</a> &gt;&gt; <a href="aiscript.html">AIScript</a> &gt;&gt; <a href="scriptedsequence.html">ScriptedSequence</a> &gt;&gt; ScriptedTrigger (Package: Gameplay)<br></div>
<p>The ScriptedTrigger class replaces the old <a href="unreal-tournament.html">UT</a> <a href="counter.html">Counter</a>, <a href="dispatcher.html">Dispatcher</a> and  <a href="specialevent.html">SpecialEvent</a> Trigger classes.</p>
<h2><a name="0.1"></a>Properties</h2>
<p>This property is hidden.</p>
<dl><dt>ScriptedTriggerController<a href="http://wiki.beyondunreal.com/wiki?action=edit&id=ScriptedTriggerController&referrerid=ScriptedTrigger">?</a> TriggerController</dt><dd>The Controller for this ScriptedTrigger.</dd></dl>
<h2><a name="0.2"></a>Overview</h2>
<p>If you messed around with <a href="unreal-tournament-2003.html">UT2003</a> very much you will notice that there is no <a href="dispatcher.html">Dispatcher</a> or <a href="specialevent.html">SpecialEvent</a> Trigger anymore.  The new ScriptedTrigger takes the place of these old actors and is much more powerful providing you with a wide range of abilities.  A scriptedTrigger basically sets in motion a sequence of events when it is triggered so it works like the old <a href="dispatcher.html">dispatcher</a>.  Events that you can call are playingsounds, damagingplayers, broadcastingmessages, etc. The two main scripts I will illustrate will be for the creation of a "Dispatcher" to toggle a <a href="triggerlight.html">TriggerLight</a> on and then off.  Next I will create a "SpecialEventTrigger" to play a sound.  Both use the ScriptedTrigger but are configured a little different.  From these two examples you should be able to experiment and try out some other things.  Read through making a Dispatcher first as the basics are explained there.  A ScriptedTriggers are dispatchers anyway.</p>
<h2><a name="0.3"></a>Making a Dispatcher</h2>
<p>First of all you will need to add two things to the map,  a regular <a href="trigger.html">Trigger</a> and a ScriptedTrigger.  As far as I know the ScriptedTrigger cannot trigger itself so you will always need something else to trigger it.  This can be any event in the game, like the picking up of a Flag, a triggered event, etc. In this case a normal <a href="trigger.html">Trigger</a> will be fine.  Once you place your <a href="trigger.html">Trigger</a> you will need to come up with the name of the event.  In this case it is to turn on and off a <a href="triggerlight.html">TriggerLight</a> so I have named my event <em class="em3">T_Lights</em>  You will need to place the name in the Trigger's event line:</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[scriptedtrigger2]" src="images/scriptedtrigger2.jpeg"></div>
</td>
</tr>
</table>
</div>
<p>Next you will need to go to the properties of the ScriptedTrigger and expand <em class="em3">AIScript</em>.  </p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[scriptedtrigger3]" src="images/scriptedtrigger3.jpeg"></div>
</td>
</tr>
</table>
</div>
<p>This is where you will start adding your events or "actions" as they are called.  I'm not sure how many you can have but you shouldn't need a whole lot.  Basically what you will be doing here is creating a script sequence, a series of actions that tell the game what to do.  Over on the right you will see the <em class="em3">ADD</em> button.  You need to click on this to start adding actions. Go ahead and click this once to create the first action place holder.  Once you do you will have an action listed underneath with a <em class="em3">NEW</em>.  If the action you want to use is already listed then you would click this button to create the action to be modified.  Otherwise you will need to use the drop down box available underneath.  This is where you will see the choices for the different actions you can perform.  Since this ScriptedSequence will be triggered, the first action you need to add is <em class="em3">Action_WaitforEvent</em> This tells the script to wait for a particular event to be called before executing.</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[scriptedtrigger4]" src="images/scriptedtrigger4.jpeg"></div>
</td>
</tr>
</table>
</div>
<p>Once you have it selected you need to click on <em class="em3">NEW</em>Once you do this the action will be configured for the first sequence.  You will now need to customize it.  This action is pretty easy as it only has 1 setting, which is <em class="em3">ExternalEvent</em>. This is where you tell it what event will cause the script to run.  In this case it will be the event that is initiated by the trigger we added.  So you will need to type in <em class="em3">T_Lights</em>.</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[scriptedtrigger5]" src="images/scriptedtrigger5.jpeg"></div>
</td>
</tr>
</table>
</div>
<p>Now you will need to create more actions to make this "dispatcher" do what you want it to do.  Here are the remaining actions that will be needed to triggertoggle a triggerlight<a href="http://wiki.beyondunreal.com/wiki?action=edit&id=Triggerlight&referrerid=ScriptedTrigger">?</a>:</p>
<dl><dt>ACTION_TriggerEvent</dt><dd>This is the same type of action that a normal trigger does.  It can be used to trigger another script or whatever.  In this case it is used to trigger the lights.  Since the lights are set to Trigger Toggle, this will turn them ON</dd><dt>ACTION_WaitforTimer</dt><dd>This is a pause in the script,  enter a number in seconds to tell it to pause before going to the next action.</dd><dt>ACTION_TriggerEvent</dt><dd>This is the second triggerevent to turn the lights off.  This takes place 4 seconds after the last TriggerEvent because of the added pause.</dd><dt>ACTION_GotoAction</dt><dd>This is tells the script to jump to a specific action in the script.  Since in this case it is "0" it will make the script reset and go back to the beginning to ACTION_WaitforEvent.  If you only want your script to run once and never run again then you can leave this out.  Also if that is the case then it would probably be best to add an ACTION_DestroyActor at the end and enter in the object name of this ScriptedTrigger.  That will destroy it and free up some resources.</dd></dl>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[scriptedtrigger6]" src="images/scriptedtrigger6.jpeg"></div>
</td>
</tr>
</table>
</div>
<h2><a name="0.4"></a>SpecialEvent</h2>
<p>Since you already know how to add actions there is no need to go over that again. So I will show you a screen shot of what a script would look like to play a sound effect when triggered.</p>
<dl><dt>ACTION_Playsound</dt><dd>Plays a sound effect that you choose in the sounds browser.  bAttenuate tells it whether or not to attenuate (lower) the volume as you move away from the source.  If this is false then the volume of the sound will remain the same within the defined radius</dd></dl>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[scriptedtrigger7]" src="images/scriptedtrigger7.jpeg"></div>
</td>
</tr>
</table>
</div>
<p>Some other familiar actions that you may know from the old UT are:</p>
<dl><dt>ACTION_DamageInstigator</dt><dd>Causes damage to who ever caused this script to run.</dd><dt>ACTION_DisplayMessage</dt><dd>Displays a message on the screen.  Good for testing your scripts to see if they are running.</dd></dl>
<h2><a name="0.5"></a>Organizing Actions</h2>
<p>As you click around in the actions lists you will see some more buttons:</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[scriptedtrigger8]" src="images/scriptedtrigger8.jpeg"></div>
</td>
</tr>
</table>
</div>
<dl><dt>EMPTY</dt><dd>Deletes all actions in the list.  Be careful not to accidentally hit this if you don't want to delete everything</dd><dt>CLEAR</dt><dd>Clears out the current Action for the line of script you clicked on. The line of script will still be there.  Good for if you want to replace an action with a different action that you want to occur at the same spot</dd><dt>DELETE</dt><dd>Deletes the script line and the action it contains.  The actions below it will move up to fill its place.</dd><dt>INSERT</dt><dd>Inserts a line of script on whatever line you click insert on.  the ADD button always just adds a new line to the end of the script where as INSERT can add a line anywhere.</dd></dl>
<p>Complete list of actions as well as some other info can be found on <a href="http://udn.epicgames.com">[UDN]</a>,  follow links below.</p>
<h2><a name="0.6"></a>External Links</h2>
<ul><li><span class="interwiki"><img 
        alt="udncontent logo"
        title="udncontent"
        src="shared//InterWiki-udncontent.png">&nbsp;<a href="http://udn.epicgames.com/Two/ScriptedSequenceActions">ScriptedSequenceActions</a></span></li>
<li><span class="interwiki"><img 
        alt="udncontent logo"
        title="udncontent"
        src="shared//InterWiki-udncontent.png">&nbsp;<a href="http://udn.epicgames.com/Two/ScriptedSequenceTutorial">ScriptedSequenceTutorial</a></span></li>
</ul>
<h2><a name="0.7"></a>Tutorials</h2>
<ul><li><a href="killing-without-gibbing.html">Killing without Gibbing</a> - How to kill pawns without gibbing them and by making use of a scriptedtrigger.</li>
<li><a href="usable-teleporter.html">Usable Teleporter</a>  - How to make you teleport by using your [Use] button.</li>
</ul>
<h2><a name="0.8"></a>Related Topics </h2>
<ul><li><a href="artificial-intelligence.html">Artificial Intelligence</a></li>
<li><a href="trigger-systems.html">Trigger Systems</a></li>
</ul>
<h2><a name="0.9"></a>Discussion</h2>
<p><em class="em2">SlickWilly:</em> (tutorial author) <a href="http://www.planetunreal.com/slick">[SlickWilly]</a> Email me if you would like me to add any other configurations you would like explained. (<a href="mailto:slickwilly@planetunreal.com">slickwilly@planetunreal.com</a>)</p>
<p><em class="em2">SuperApe:</em> This page is meant to be a class page, but it contains a tutorial on making a Dispatcher.  Should this be split into it's own page?</p>
<p><em class="em2">Angel_Mapper</em> There's a bit of misinformation in the paragraph after "Making a Dispatcher" (Besides that they're no longer called Dispatchers <img alt=";)" src="emoticons/wink.gif" align="middle"> ).  ScriptedTriggers will automatically start executing their first action when the game starts, so they don't necessarily need an external trigger unless they're using an ACTION_WaitForEvent.</p>
<p><em class="em2">SuperApe:</em> Yeah, this page could use some updating, etc.  It's possible the tutorial writer was saying that instead of thinking of a ScriptedTrigger as a Trigger, which can "trigger itself" (poor description) when touched, etc., think of it as a array of commands which could be preceeded by an external Trigger <em class="em1">and</em> the ACTION_WaitForEvent, <em class="em1">if</em> you'd want it to work something like a Trigger.  I'm guessing this because it's a common misnomer to think of it as a Trigger and they do start their script with an ACTION_WaitForEvent in the tutorial.</p>
<hr class="thin"><p><a href="category-class-ut2003.html">Category Class (UT2003)</a></p>
<p><a href="category-class-ut2004.html">Category Class (UT2004)</a></p>
<p><a href="category-tutorial.html">Category Tutorial</a></p>
<p><a href="category-to-do.html">Category To Do</a> &ndash; Split off "Making a Dispatcher" to it's own page.  Link to it from here.</p>
<script type="text/javascript"><!--
 menuItemAdd("Properties", "#0.1");
menuItemAdd("Overview", "#0.2");
menuItemAdd("Making a Dispatcher", "#0.3");
menuItemAdd("SpecialEvent", "#0.4");
menuItemAdd("Organizing Actions", "#0.5");
menuItemAdd("External Links", "#0.6");
menuItemAdd("Tutorials", "#0.7");
menuItemAdd("Related Topics ", "#0.8");
menuItemAdd("Discussion", "#0.9");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p><form method="post" action="http://wiki.beyondunreal.com/wiki" enctype="application/x-www-form-urlencoded">
<a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a><br>
Last edited April 3, 2006 19:22 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=ScriptedTrigger">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/ScriptedTrigger">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>
</form>
	</p>
	<p>The three virtues of a programmer: Laziness, Impatience, and Hubris. (Larry Wall)
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="../index.html"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>


<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
