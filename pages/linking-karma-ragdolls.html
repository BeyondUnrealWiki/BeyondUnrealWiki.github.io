<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: Linking Karma Ragdolls</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=Linking_Karma_Ragdolls; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<form class="inline" method="post" action="/wiki" enctype="application/x-www-form-urlencoded"><input type="text" name="search"  size="20" /> <input type="submit" name="search" value="search" /></form>
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="http://wiki.beyondunreal.com/wiki?back=Linking Karma Ragdolls">Linking Karma Ragdolls</a></h1>
	<div class="wiki"><p><em class="em2">Update October 23rd</em> - by SkullboX (Email addresses: <a href="mailto:SkullboX@planetquake.com">SkullboX@planetquake.com</a>)</p>
<p>This info will apply when the first <a href="unreal-tournament-2003.html">UT2003</a> patch has been released. For mod developers the info below is still relevant. However, for those making custom <a href="unreal-tournament-2003.html">UT2003</a> player models that require custom ragdoll skeletons, it will be easier when the new patch is released. The info has been posted on the <a href="https://docs.unrealengine.com/udk/Two/RagdollsInUT2003.html">[this Unreal Developer Network page]</a>.</p>
<blockquote><p>In the release version of UT2003 (version 2107) you had to create your own species in a new .u file to use a custom ragdoll. This was a little fiddly, but more importantly was caught by the cheat protection code. This approach is still suitable for mod development though, where you are creating a new species anyway to add new animations etc. </p>
<p>In the forthcoming patch there is an alternative way to use your own ragdoll. Remember that a ragdoll asset is identified by its asset name not the name of the .ka file, so make sure the asset name is unique. </p>
<p>1) Place the new .ka file in the /KarmaData directory. </p>
<p>2) Create a new .upl file in the /System directory for your new character. </p>
<p>3) At the end of the Player=(... line, inside the brackets, add: </p>
<p>Ragdoll=AssetName </p>
<p>Obviously replacing 'AssetName' with the name of the ragdoll asset to use for that character. </p>
<p>Thats it! If no Ragdoll is supplied, it will simply use the one specified by the character's species.</p>
</blockquote><p><em class="em2">October 15th</em></p>
<p>This tutorial briefly explains how to get a custom ragdoll linked to a custom model. The tutorial isn't very detailed and written rather fast, so if you come across any problems or if it still doesn't work after having done all this, please leave me a note.</p>
<p>If you've got a model set up using one of the existing <a href="unreal-tournament-2003.html">UT2003</a> skeletons, it *should* work when using one of the existing <a href="karma.html">karma</a> collision models. Make sure the Skeleton setup you chose for your model (for example, Jugg) matches the Species (Species=xGame.SPECIES_Jugg). If you've got one of the human skeletons, you should probably use SPECIES_Egypt, _Merc or _Night.</p>
<p>The subject model in this case is named MoP, and MoP's been imported into UnrealEd and has all the sockets set up as they should. If you need info on getting the model working in UT, go to <a href="http://sv2.3dbuzz.com/vbforum/showthread.php?s=9039e52622606cd238abb245e1bfdf27&threadid=14484">[this post]</a> by Praetorius.</p>
<p>It also has a custom ragdoll created for it, if you don't know how to make one take <a href="http://www.mathengine.com/kat/2k3_tutorial/KAT_UT2003_Tutorial.html">[this tutorial]</a>.</p>
<p>Start by putting the MoP.ka file in the UT2003\KarmaData folder.</p>
<p>Start UnrealEd, and go to the <a href="actor-class-browser.html">Actor Classes</a> tab (if you do not have that window, go to View &rarr; Show Actor Class Browser. This should bring up a list of Unreal scripts.</p>
<p>Start by unchecking the two options on top of that list, 'Use 'Actor' as Parent?' and 'Placeable classes Only?'.</p>
<p>Once you've done that, the list of scripts should be noticeably longer. Scroll down and look for a subtree called <a href="speciestype.html">SpeciesType</a>, expand it. Four scripts should be there; SPECIES_Alien, SPECIES_Bot, SPECIES_Human and SPECIES_Jugg.</p>
<p>Now select the SpeciesType subtree, and click the new script icon on top of the browser. Behind Package, fill in something related to you model, in this case I would name it MoPScripts (Calling it just MoP will cause confusion and effors when making the .UPL file.) For name fill in SPECIES_MoP. (see <a href="create-a-subclass.html">Create a subclass</a>)</p>
<p>Now the new script will come up, and you should see something like:</p>
<pre class="uscript"><span class="uscript-comment">//=============================================================================</span>
<span class="uscript-comment">// SPECIES_MoP.</span>
<span class="uscript-comment">//=============================================================================</span>
<span class="uscript-keyword">class</span> SPECIES_MoP <span class="uscript-keyword">extends</span> SpeciesType
<span class="uscript-keyword">placeable</span><span class="uscript-operator">;</span></pre><p>Now Open one of the other Species scripts, SPECIES_Alien for example, and copy the info from 'abstract;' to the bottom. Then go back to your own script and paste it over 'placeable'. Finally, rename "Alien2" to "MoP". Your script should look liek this by now:</p>
<pre class="uscript"><span class="uscript-comment">//=============================================================================</span>
<span class="uscript-comment">// SPECIES_MoP.</span>
<span class="uscript-comment">//=============================================================================</span>
<span class="uscript-keyword">class</span> SPECIES_MoP <span class="uscript-keyword">extends</span> SpeciesType
<span class="uscript-keyword">abstract</span><span class="uscript-operator">;</span>
<span class="uscript-keyword">static</span> <span class="uscript-keyword">function</span> <span class="uscript-type">string</span> GetRagSkelName<span class="uscript-operator">(</span><span class="uscript-type">String</span> MeshName<span class="uscript-operator">)</span>
<span class="uscript-operator">{</span>
<span class="uscript-keyword">return</span> <span class="uscript-string">"MoP"</span><span class="uscript-operator">;</span>
<span class="uscript-operator">}</span></pre><p>To finish the scripting part, chose from the class window, Tools &rarr; Compile Changed. Then finally press View in the Actor Class Browser and check Show Packages. Select your newly created script and choose to Save Selected Packages. The created file, MoPScripts.u, shouldn't be bigger than 1 kb, if it's larger you've probably saved all the scripts together.</p>
<p>You're now done with the Unreal Scripting, the last step in Linking the Ragdoll to the model is to alter the UPL file of your model. Look for the part with 'species=' and change the stuff behind it to match the location of your newly created script. In my case it would look like this:</p>
<pre class="uscript">Species<span class="uscript-operator">=</span>MoPScripts<span class="uscript-operator">.</span>SPECIES_MoP</pre><p>Save the UPL file, and it should work.</p>
<hr class="thin"><p><a href="category-tutorial.html">Category Tutorial</a></p>
</div>
</div>

<div id="footer" class="bar">
	<p><form method="post" action="http://wiki.beyondunreal.com/wiki" enctype="application/x-www-form-urlencoded">
<a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a><br>
Last edited April 28, 2003 18:05 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=Linking_Karma_Ragdolls">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/Linking_Karma_Ragdolls">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>
</form>
	</p>
	<p>I don't need to test my programs. I have an error-correcting modem.
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="../index.html"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>


<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
