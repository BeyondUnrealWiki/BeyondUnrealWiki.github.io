<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: Default Properties</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=Default_Properties; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<form class="inline" method="post" action="/wiki" enctype="application/x-www-form-urlencoded"><input type="text" name="search"  size="20" /> <input type="submit" name="search" value="search" /></form>
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="http://wiki.beyondunreal.com/wiki?back=Default Properties">Default Properties</a></h1>
	<div class="wiki"><p>This is a special part of the <a href="unrealscript.html">UnrealScript</a> <a href="class-syntax.html">Class syntax</a>. It's a block of script at the end of a class that declares default values for class properties. This block cannot contain any executable code, and uses its own special syntax that is different from ordinary UnrealScript code. Generally, this is similar to  the syntax for <a href="t3d-file.html">T3D file</a>s.</p>
<p>Default properties are inherited by subclasses, and may in fact be overridden several times as you go down the class tree. The most "recent" (lowest subclass that has a setting for it in its default properties) takes precedence in this case. This also goes for <em class="em1">parts</em> of a struct or array, e.g. you can change the red value of a color property and the green, blue and alpha values are inherited from the superclass.</p>
<h2><a name="0.1"></a>Syntax</h2>
<p>This shows how to set defaults for arrays (both static and dynamic ones), floats, ints, booleans, strings, structs (MyColor), enums, objects (MyProjectileClass; sounds, textures, fonts, meshes or <a href="subobject.html">subobject</a>s are handled likewise) and names. Note that you can also specify objects only by giving the name, i.e. RocketMk2 instead of class'Botpack.RocketMk2'. </p>
<pre class="uscript"><span class="uscript-keyword">defaultproperties</span>
<span class="uscript-operator">{</span>
     MyFloat<span class="uscript-operator">=</span><span class="uscript-number">8.000000</span>
     MyInt<span class="uscript-operator">=</span><span class="uscript-number">5</span>
     MyBoolean<span class="uscript-operator">=</span><span class="uscript-keyword">True</span>
     MyString<span class="uscript-operator">=</span><span class="uscript-string">"Hello World!"</span>
     MyEnum<span class="uscript-operator">=</span>ENUM_Something
     MyName<span class="uscript-operator">=</span>CliffyB
     MyProjectileClass<span class="uscript-operator">=</span><span class="uscript-keyword">class</span><span class="uscript-name">'Botpack.RocketMk2'</span>
     MyColor<span class="uscript-operator">=</span><span class="uscript-operator">(</span>R<span class="uscript-operator">=</span><span class="uscript-number">128</span><span class="uscript-operator">,</span>G<span class="uscript-operator">=</span><span class="uscript-number">20</span><span class="uscript-operator">,</span>B<span class="uscript-operator">=</span><span class="uscript-number">255</span><span class="uscript-operator">)</span>
     MyStaticArray1<span class="uscript-operator">(</span><span class="uscript-number">0</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-number">5</span>
     MyStaticArray1<span class="uscript-operator">(</span><span class="uscript-number">2</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-number">3</span>
     MyDynArray1<span class="uscript-operator">=</span><span class="uscript-operator">(</span><span class="uscript-string">"array"</span><span class="uscript-operator">,</span><span class="uscript-string">"on"</span><span class="uscript-operator">,</span><span class="uscript-string">"a"</span><span class="uscript-operator">,</span><span class="uscript-string">"single"</span><span class="uscript-operator">,</span><span class="uscript-string">"line"</span><span class="uscript-operator">)</span>
     MyDynArray2<span class="uscript-operator">(</span><span class="uscript-number">0</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-string">"multiple"</span>
     MyDynArray2<span class="uscript-operator">(</span><span class="uscript-number">1</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-string">"lines"</span>
     MyDynArray2<span class="uscript-operator">(</span><span class="uscript-number">2</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-string">"for"</span>
     MyDynArray2<span class="uscript-operator">(</span><span class="uscript-number">3</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-string">"this"</span>
     MyDynArray2<span class="uscript-operator">(</span><span class="uscript-number">4</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-string">"one"</span>
<span class="uscript-operator">}</span></pre><h3><a name="0.1.1"></a>Notes </h3>
<ul><li>The syntax of the default properties block is pretty strict for an arcane reason.  Particularly adding spaces before or after the "=" will lead to errors in pre-<a href="unreal-tournament-2003.html">UT2003</a> versions. Trailing semicolons are not needed (pre-UT2003 they will cause an error; post-UT2003 you can put them in if you like). Also adding spaces inside the parentheses for a struct or single-line dynamic array will not work. If a struct has a Name variable, double quotes should be used instead of singles.</li>
<li>As stated above, the default properties block is only parsed, but in no way executed.  You can't put any executable code in there (or complex expressions or variable references at the right side of an assignment, for that matter).  You can not use constants to initialize a value in defaultproperties. The compiler will not always give you an error; sometimes it will simply replace the constant with the appropriate zero value.</li>
<li>Don't expect block comments to work properly there either, you can comment out the whole block but trying to comment out a line can produce weirdness. Block comments do work in <a href="unreal-tournament-2004.html">UT2004</a>. The following example will <em class="em2">not</em> count as a comment, but will be parsed as if the <em class="em1">/* */</em> wasn't there:  <pre class="uscript"><span class="uscript-comment">/*
defaultproperties
{
     MyVar=3
}*/</span></pre></li>
</ul>
<p><em class="em2">Guest:</em> Well does it work or doesn't it? The above says one thing, then the opposite, then it's contradicted again below!</p>
<p><em class="em2">Guest2:</em> I guess that block comments DON'T work but single-line comments DO.</p>
<ul><li>While block comments do not work (the default properties parser will miss the start and end due to the nature of the parser), it does in fact respect single-line comments.  </li>
</ul>
<pre class="uscript"><span class="uscript-keyword">defaultproperties</span>
<span class="uscript-operator">{</span>
    <span class="uscript-comment">// This is a valid comment</span>
    <span class="uscript-comment">//MyVal=0.1234</span>
<span class="uscript-operator">}</span></pre><ul><li>When assigning values to static or dynamic array elements in the defaults block don't use square brackets, it won't work, use ordinary parentheses or you'll get an "unknown property in default block" error when compiling.</li>
<li>The default properties block will not show up when you are using UnrealEd's build-in <a href="script-editor.html">Script Editor</a>.  You can however right-click the class in the <a href="actor-overview.html">actor browser</a> and select "Default Properties" to check and modify them.</li>
<li>Any variables that specified as config will have any default values replaced by those specified in the appropriate .ini file, just as placed Actors with modified values will replace those specified in the class.</li>
<li>Note that newer builds of the engine (i.e. anything newer than UT) support more robust parsing of the defaultproperties, including extra whitespace and semicolons at the end of lines.</li>
<li>The compiler that came with <a href="unreal-tournament-2003.html">UT2003</a> checks whether classes specified in the defaults block exist, but it doesn't check whether they are allowed there. In particular this means you can assign class'<a href="commandlet.html">Commandlet</a>' to a variable of type class&lt;<a href="actor.html">Actor</a>&gt;. The variable will contain the default value None then, but the compiler doesn't complain about it.</li>
</ul>
<h2><a name="0.2"></a>Inheritance</h2>
<p>Not readily apparent to some is that your defaultproperties block can become fairly large if you consider how much you've inherited.  Consider </p>
<div class="classpath"><a href="object.html">Object</a> &gt;&gt; <a href="actor.html">Actor</a> &gt;&gt; <a href="inventory.html">Inventory</a> &gt;&gt; <a href="weapon.html">Weapon</a> &gt;&gt; CustomWeapon <br></div>
<p>I've seen a few people who assume that defaultproperties is something special, but it's just a basic constructor for your class so all the variables and settings from every class in your tree are available there as well.  In the case of Weapon bJustTeleported (<a href="actor.html">Actor</a>) and bMovable (<a href="actor.html">Actor</a>) are available for your use, even if they don't make much sense by the time you get to them.</p>
<h2><a name="0.3"></a>Accessing</h2>
<pre class="uscript">SomeActor<span class="uscript-operator">.</span><span class="uscript-keyword">default</span><span class="uscript-operator">.</span><span class="uscript-operator">&lt;</span>property<span class="uscript-operator">&gt;=</span><span class="uscript-operator">&lt;</span>DefaultValue<span class="uscript-operator">&gt;</span><span class="uscript-operator">;</span> <span class="uscript-comment">// if you have an actor of the class</span>
<span class="uscript-keyword">class</span><span class="uscript-name">'SomeClass'</span><span class="uscript-operator">.</span><span class="uscript-keyword">default</span><span class="uscript-operator">.</span><span class="uscript-operator">&lt;</span>property<span class="uscript-operator">&gt;=</span><span class="uscript-operator">&lt;</span>DefaultValue<span class="uscript-operator">&gt;</span><span class="uscript-operator">;</span> <span class="uscript-comment">// if you don't</span></pre><p>It's probably obvious, but if you set the default for a class in your script, it won't affect the property of objects of the class, even if those have not changed from default: those were set from the defaults when the object was created.</p>
<h2><a name="0.4"></a>Features in later engine versions</h2>
<p>It is possible to create <a href="subobject.html">subobject</a>s in the defaultproperties block of a class. This technique is widely used in the <a href="unreal-tournament-2003.html">UT2003</a> XInterface package to create GUI controls to be placed on a dialog box.</p>
<h2><a name="0.5"></a>Default properties in UnrealEd</h2>
<p>The Default properties block is omitted in UnrealEd's <a href="script-editor.html">script editor</a>. Instead, properties are set in an extra instance of <a href="actor-properties-window.html">Actor properties window</a>, accessed from the <a href="actor-class-browser.html">Actor classes browser</a>. Do one of the following:</p>
<ul><li>Select the class, <a href="actor-classes-browser-menu.html">Actor Classes Browser Menu</a> &rarr; Class &rarr; Default Properties...</li>
<li>Select the class, and click the properties button on the Actor classes browser toolbar</li>
<li>Right-click the class and select Default Properties... from the context menu.</li>
</ul>
<p>The downsides of this behavior are:</p>
<ul><li>If you paste in a script, you'll have to remove the Default properties block: it won't compile.</li>
<li>You can't access hidden variables in the default properties window.</li>
</ul>
<p>To access hidden variables, call up the window with the console command:</p>
<pre class="paraverbatim"> editdefault class=&lt;classname&gt;</pre><h2><a name="0.6"></a>Comments</h2>
<p><em class="em2">zStorm:</em> (Fixed) It seems as though UCC under certain circumstances has issues with decompiling the default properties. If for instance you decompile a file that has a struct in the default properties, it may insert spaces into the struct declaration.</p>
<p>What should be ZoneGravity=(X=0.00,Y=0.00,Z=-950.00) becomes ZoneGravity=(X=0.00, Y=0.00, Z=-950.00) which is not allowed.</p>
<p><em class="em2">JamesKilton:</em> Just something I noticed: Arrays in Default Properties are usually accessed through (). However, take this example:</p>
<pre class="uscript"><span class="uscript-keyword">struct</span> myStruct <span class="uscript-operator">{</span>
  <span class="uscript-keyword">var</span> <span class="uscript-type">int</span> intArray<span class="uscript-operator">[</span><span class="uscript-number">3</span><span class="uscript-operator">]</span><span class="uscript-operator">;</span>
<span class="uscript-operator">}</span><span class="uscript-operator">;</span>

<span class="uscript-keyword">var</span> myStruct someVar<span class="uscript-operator">;</span>

<span class="uscript-keyword">defaultproperties</span>
<span class="uscript-operator">{</span>
  <span class="uscript-comment">// Compile fails:</span>
  someVar<span class="uscript-operator">=</span><span class="uscript-operator">(</span>intArray<span class="uscript-operator">(</span><span class="uscript-number">0</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-number">1</span><span class="uscript-operator">,</span>intArray<span class="uscript-operator">(</span><span class="uscript-number">1</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-number">1</span><span class="uscript-operator">,</span>intArray<span class="uscript-operator">(</span><span class="uscript-number">2</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-number">1</span><span class="uscript-operator">)</span>

  <span class="uscript-comment">// Compile passes:</span>
  someVar<span class="uscript-operator">=</span><span class="uscript-operator">(</span>intArray<span class="uscript-operator">[</span><span class="uscript-number">0</span><span class="uscript-operator">]</span><span class="uscript-operator">=</span><span class="uscript-number">1</span><span class="uscript-operator">,</span>intArray<span class="uscript-operator">[</span><span class="uscript-number">1</span><span class="uscript-operator">]</span><span class="uscript-operator">=</span><span class="uscript-number">1</span><span class="uscript-operator">,</span>intArray<span class="uscript-operator">[</span><span class="uscript-number">2</span><span class="uscript-operator">]</span><span class="uscript-operator">=</span><span class="uscript-number">1</span><span class="uscript-operator">)</span>
<span class="uscript-operator">}</span></pre><p>Really weird double-standard here, just something to watch out for.</p>
<p><em class="em2">BigJohn:</em> I've done some funky struct in an array stuff for one of my actors, and here's how it goes:</p>
<pre class="uscript"><span class="uscript-keyword">struct</span> Attack
<span class="uscript-operator">{</span>
    <span class="uscript-keyword">var</span> <span class="uscript-type">name</span> AnimName<span class="uscript-operator">;</span>
    <span class="uscript-keyword">var</span> <span class="uscript-type">string</span> HowTo<span class="uscript-operator">;</span>
    <span class="uscript-keyword">var</span> <span class="uscript-type">int</span> <span class="uscript-keyword">length</span><span class="uscript-operator">;</span>
<span class="uscript-operator">}</span><span class="uscript-operator">;</span>

<span class="uscript-keyword">var</span> attack spclAttacks<span class="uscript-operator">[</span><span class="uscript-number">10</span><span class="uscript-operator">]</span><span class="uscript-operator">;</span>

<span class="uscript-keyword">defaultproperties</span>
<span class="uscript-operator">{</span>
    spclAttacks<span class="uscript-operator">(</span><span class="uscript-number">0</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-operator">(</span>animName<span class="uscript-operator">=</span><span class="uscript-string">"AltAttack"</span><span class="uscript-operator">,</span>HowTo<span class="uscript-operator">=</span><span class="uscript-string">"dr1"</span><span class="uscript-operator">,</span><span class="uscript-keyword">Length</span><span class="uscript-operator">=</span><span class="uscript-number">3</span><span class="uscript-operator">)</span>
<span class="uscript-operator">}</span></pre><p>biggest issue I had was to make sure that nowhere in the property is there a space. (thanks pospi)</p>
<h2><a name="0.7"></a>Related Topics</h2>
<ul><li><a href="unrealscript.html">UnrealScript</a></li>
<li><a href="class-syntax.html">Class Syntax</a></li>
<li><a href="variable-syntax.html">Variable Syntax</a></li>
<li><a href="static-function.html">Static Function</a></li>
<li><a href="subobject.html">Subobject</a></li>
</ul>
<script type="text/javascript"><!--
 menuItemAdd("Syntax", "#0.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Notes ", "#0.1.1");
menuItemAdd("Inheritance", "#0.2");
menuItemAdd("Accessing", "#0.3");
menuItemAdd("Features in later engine versions", "#0.4");
menuItemAdd("Default properties in UnrealEd", "#0.5");
menuItemAdd("Comments", "#0.6");
menuItemAdd("Related Topics", "#0.7");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p><form method="post" action="http://wiki.beyondunreal.com/wiki" enctype="application/x-www-form-urlencoded">
<a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a><br>
Last edited February 25, 2007 14:36 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=Default_Properties">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/Default_Properties">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>
</form>
	</p>
	<p>Mostly Harmless
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="../index.html"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>


<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
