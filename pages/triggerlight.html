<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: TriggerLight</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=TriggerLight; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<form class="inline" method="post" action="/wiki" enctype="application/x-www-form-urlencoded"><input type="text" name="search"  size="20" /> <input type="submit" name="search" value="search" /></form>
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="http://wiki.beyondunreal.com/wiki?back=TriggerLight">TriggerLight</a></h1>
	<div class="wiki"><div class="classpath"><img src="shared//gameicons/icon-ut.png"> <a href="unreal-tournament.html">UT</a> :: <a href="actor-ut.html">Actor (UT)</a> &gt;&gt; <a href="light-ut.html">Light (UT)</a> &gt;&gt; TriggerLight (Package: Engine and UnrealShare)<br></div>
<div class="classpath"><img src="shared//gameicons/icon-ut2003.png"> <a href="unreal-tournament-2003.html">UT2003</a> :: <a href="actor.html">Actor</a> &gt;&gt; <a href="light.html">Light</a> &gt;&gt; TriggerLight (Package: Gameplay)<br></div>
<p>A light actor that can be made to turn on and off using a <a href="trigger.html">Trigger</a> actor. A map's lighting must be rebuilt for the effect to be visible. In UnrealEd 2, the TriggerLight will appear lit in UnrealEd even if it will be initially off in the game. In later versions it appears unlit.</p>
<h2><a name="0.1"></a>Notes</h2>
<ul><li>Keep in mind that in the newer Unreal Engine builds dynamic lights shine through solid walls. So plan ahead if you don't want the light to appear in other rooms.</li>
<li>For some reason there are two identical TriggerLight classes in the Engine and UnrealShare packages in Unreal and UT. You shouldn't worry about that too much, though.</li>
<li>Since UT2003, Dynamic lighting is considered inferior to <a href="projector.html">Projector</a>s.  Although dynamic lighting is still available, it will tax CPU cycles and cause some visual problems both online and offline.</li>
</ul>
<h2><a name="0.2"></a>Properties</h2>
<h3><a name="0.2.1"></a>Object Group</h3>
<dl><dt>InitialState</dt><dd>Make sure TriggerToggle/TriggerTurnsOn/TriggerTurnsOff is selected</dd></dl>
<h3><a name="0.2.2"></a>TriggerLight Group</h3>
<dl><dt>bool bDelayFullOn</dt><dd>Whether the brightness should smoothly fade between 0 and the initial LightBrightness value.</dd><dt>bool bInitiallyOn</dt><dd>Whether the light is initially on. For instance, if the state is set to "TriggerTurnsOff" you must set this to true for something to happen.</dd><dt>float ChangeTime</dt><dd>This sets the amount of time (in seconds) for the light to fade between its set brightness and zero.</dd><dt>float RemainOnTime</dt><dd>Only used by TriggerPound state. How long the TriggerPound effect lasts.</dd></dl>
<p><em class="em2">Daemonica:</em> Does bDelayFullOn work properly with ChangeTime in UT2003... I've tried using it and the light works spot on with static meshes, but doesn't "fade" in or out on bsp. Any pointers here?</p>
<h3><a name="0.2.3"></a>UnrealScript-only</h3>
<dl><dt>float Alpha</dt><dd></dd><dt>float Direction</dt><dd>Whether the light currently goes on or off.</dd><dt>float InitialBrightness</dt><dd>Saved initial LightBrightness value.</dd><dt>float poundTime</dt><dd>How long the TriggerPound effect already lasts.</dd><dt><a href="actor.html">Actor</a> SavedTrigger</dt><dd></dd></dl>
<h2><a name="0.3"></a>States</h2>
<dl><dt>TriggerTurnsOn</dt><dd>Light turns on when triggered and then stays on.</dd><dt>TriggerTurnsOff</dt><dd>Light turns off when triggered and then stays off.</dd><dt>TriggerToggle</dt><dd>Light flips between on / off each time its triggered</dd><dt>TriggerControl</dt><dd>Light turns on when triggered, and switches off when the untriggered (eg the player steps out of the trigger's range)</dd><dt>TriggerPound</dt><dd>From the code, it looks like the light should fade up and down repeatedly for the time specified in the RemainOnTime property.</dd></dl>
<h2><a name="0.4"></a>Scripting</h2>
<p>The TriggerLight class is pretty much the canonical way to perform gradual changes using the Tick() function.</p>
<p>The general approach is to have a float variable somewhere that tracks the property's <em class="em1">interpolated</em> value.  Then, in the Tick event, use DeltaTime to gradually increment or decrement the variable (depending on whether its target value is currently 0 or 255), and clamp it at 0.0 and 255.0.  Then, set the property based on the float's value.</p>
<p>The DeltaTime parameter of the Tick event is there to accommodate the differences between frame rate of different users, or even the time between  any two frames on the <em class="em1">same</em> computer, which may change.</p>
<h2><a name="0.5"></a>Related Topics</h2>
<ul><li><a href="trigger.html">Trigger</a></li>
<li><a href="dynamics.html">Dynamics</a></li>
<li><a href="lighting.html">Lighting</a></li>
<li>A tutorial which uses this actor: <a href="lightning-storm.html">Lightning Storm</a></li>
</ul>
<hr class="thin"><p><a href="category-class-ut.html">Category Class (UT)</a></p>
<p><a href="category-class-ut2003.html">Category Class (UT2003)</a></p>
<p><a href="category-class-ut2004.html">Category Class (UT2004)</a></p>
<script type="text/javascript"><!--
 menuItemAdd("Notes", "#0.1");
menuItemAdd("Properties", "#0.2");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Object Group", "#0.2.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>TriggerLight Group", "#0.2.2");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>UnrealScript-only", "#0.2.3");
menuItemAdd("States", "#0.3");
menuItemAdd("Scripting", "#0.4");
menuItemAdd("Related Topics", "#0.5");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p><form method="post" action="http://wiki.beyondunreal.com/wiki" enctype="application/x-www-form-urlencoded">
<a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a><br>
Last edited April 6, 2006 18:08 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=TriggerLight">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/TriggerLight">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>
</form>
	</p>
	<p>I love the smell of UnrealEd crashing in the morning. (tarquin)</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="../index.html"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>


<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
