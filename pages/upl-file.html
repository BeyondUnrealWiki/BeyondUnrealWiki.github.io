<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: UPL File</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=UPL_File; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<form class="inline" method="post" action="/wiki" enctype="application/x-www-form-urlencoded"><input type="text" name="search"  size="20" /> <input type="submit" name="search" value="search" /></form>
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="http://wiki.beyondunreal.com/wiki?back=UPL File">UPL File</a></h1>
	<div class="wiki"><h2><a name="0.1"></a>Basics</h2>
<p><em class="em1">(some guesswork here &amp; my first unrealwiki edit - correct with abandon - thx - Joefish)</em></p>
<p>The .upl <a href="file-format.html">File Format</a> contains information about player characters. The files define the characters available in player selection menus (e.g. Settings &rarr; Player &rarr; Change Character). .upl files are located in the {<a href="base-directory.html">Base Directory</a>}/System directory. They look like this:</p>
<pre class="uscript"><span class="uscript-operator">[</span>Public<span class="uscript-operator">]</span>
Player<span class="uscript-operator">=</span><span class="uscript-operator">(</span>DefaultName<span class="uscript-operator">=</span><span class="uscript-string">"Malcolm"</span><span class="uscript-operator">,</span>Race<span class="uscript-operator">=</span><span class="uscript-string">"ThunderCrash"</span><span class="uscript-operator">,</span>Mesh<span class="uscript-operator">=</span>HumanMaleA<span class="uscript-operator">.</span>MercMaleD<span class="uscript-operator">,</span>species<span class="uscript-operator">=</span>xGame<span class="uscript-operator">.</span>SPECIES_Merc<span class="uscript-operator">,</span>BodySkin<span class="uscript-operator">=</span>PlayerSkins<span class="uscript-operator">.</span>MercMaleDBodyA<span class="uscript-operator">,</span>FaceSkin<span class="uscript-operator">=</span>PlayerSkins<span class="uscript-operator">.</span>MercMaleDHeadA<span class="uscript-operator">,</span>Portrait<span class="uscript-operator">=</span>PlayerPictures<span class="uscript-operator">.</span>cMercMaleAD<span class="uscript-operator">,</span>Text<span class="uscript-operator">=</span>XPlayers<span class="uscript-operator">.</span>MercMaleDA<span class="uscript-operator">,</span>Sex<span class="uscript-operator">=</span>Male<span class="uscript-operator">,</span>Menu<span class="uscript-operator">=</span><span class="uscript-string">"MALCOLM"</span><span class="uscript-operator">,</span>Tactics<span class="uscript-operator">=</span><span class="uscript-number">2.0</span><span class="uscript-operator">,</span>StrafingAbility<span class="uscript-operator">=</span><span class="uscript-operator">+</span><span class="uscript-number">2.0</span><span class="uscript-operator">,</span>Accuracy<span class="uscript-operator">=</span><span class="uscript-number">0.5</span><span class="uscript-operator">,</span>BotUse<span class="uscript-operator">=</span><span class="uscript-number">1</span><span class="uscript-operator">)</span>
Player<span class="uscript-operator">=</span><span class="uscript-operator">(</span>DefaultName<span class="uscript-operator">=</span><span class="uscript-string">"Brock"</span><span class="uscript-operator">,</span>Race<span class="uscript-operator">=</span><span class="uscript-string">"Mercenary"</span><span class="uscript-operator">,</span>Mesh<span class="uscript-operator">=</span>HumanMaleA<span class="uscript-operator">.</span>MercMaleC<span class="uscript-operator">,</span>species<span class="uscript-operator">=</span>xGame<span class="uscript-operator">.</span>SPECIES_Merc<span class="uscript-operator">,</span>BodySkin<span class="uscript-operator">=</span>PlayerSkins<span class="uscript-operator">.</span>MercMaleCBodyA<span class="uscript-operator">,</span>FaceSkin<span class="uscript-operator">=</span>PlayerSkins<span class="uscript-operator">.</span>MercMaleCHeadA<span class="uscript-operator">,</span>Portrait<span class="uscript-operator">=</span>PlayerPictures<span class="uscript-operator">.</span>cMercMaleAC<span class="uscript-operator">,</span>Text<span class="uscript-operator">=</span>XPlayers<span class="uscript-operator">.</span>MercMaleCA<span class="uscript-operator">,</span>Sex<span class="uscript-operator">=</span>Male<span class="uscript-operator">,</span>Menu<span class="uscript-operator">=</span><span class="uscript-string">""</span><span class="uscript-operator">,</span>Tactics<span class="uscript-operator">=</span><span class="uscript-number">2.0</span><span class="uscript-operator">,</span>StrafingAbility<span class="uscript-operator">=</span><span class="uscript-operator">+</span><span class="uscript-number">1.0</span><span class="uscript-operator">,</span>Accuracy<span class="uscript-operator">=</span><span class="uscript-number">0.5</span><span class="uscript-operator">,</span>BotUse<span class="uscript-operator">=</span><span class="uscript-number">1</span><span class="uscript-operator">)</span>
<span class="uscript-operator">.</span><span class="uscript-operator">.</span><span class="uscript-operator">.</span></pre><p><em class="em2">Tarquin:</em> Is this the same format as config files? </p>
<h2><a name="0.2"></a>Elements</h2>
<dl><dt>DefaultName</dt><dd>The name that appears in the Player menu.  The name given in 'Character=' in <a href="ut2004-ini.html">UT2004.ini</a> and User.ini, used to set a default player, maps to this value.</dd><dt>Race</dt><dd>The Race this model gets grouped with from the Races dropdown list. You can make a new one or use an existing one (ie. Hellions).</dd><dt>Mesh</dt><dd>Mesh this character uses (Packagename.Meshname)</dd><dt>Species</dt><dd>Determines <a href="speciestype.html">SpeciesType</a></dd><dt>BodySkin</dt><dd>Skin this character uses for body (Packagename.Skinname)</dd><dt>FaceSkin</dt><dd>Skin this character uses for head</dd><dt>Portrait</dt><dd>Portrait appearing in the character menu</dd><dt>Text</dt><dd>Links to the descriptive text seen in Player menu. The entry is written as <em class="em1">IntFile</em>.<em class="em1">DecoTextEntry</em>.<br>For example "XPlayers.MercMaleDA" means the MercMaleDA=... entry of the [DecoText] section in XPlayers.int/.det/.frt/... (depending on configured language)</dd><dt>Sex</dt><dd>"Male" or "Female".</dd><dt>Menu</dt><dd>Which menu(s) the character shows up in.  'SP' = Single Player game menu, '' = default character menu.  'DUP' specifies Bot-only characters that don't appear in the list of characters a player can select for him/herself.</dd><dt>Tactics, Strafing Ability, etc.</dt><dd>? Not sure but probably tweaks character abilities from standard values</dd><dt>BotUse</dt><dd>? Not sure but probably how often the character is chosen as a bot?</dd></dl>
<h3><a name="0.2.1"></a>Notes</h3>
<ul><li>You can add player characters to the game by adding your own MyFileName.upl to the System directory.  No need to edit the original files.</li>
<li>For mods using the -mod setup, if any *.upl file is added to MyMod\System, UT2004 assumes you don't want the default UT2004 models to be displayed. To re-enable them, copy the default .upl's from UT2004\System into MyMod\System.   </li>
<li>UT2004 does not exactly check for the extension "upl". If your editor happens to make backups named "upl~" or similar UT2004 will also try to load those. Mostly this leads to an immediate crash when UT2004 is run - without a very useful error.</li>
</ul>
<h2><a name="0.3"></a>How to remove the need for using .UPL files </h2>
<p>By razialx <a href="mailto:razialx@hotmail.com">razialx@hotmail.com</a> </p>
<p>People, please bear with me. This will be the first time I have contributed to the Unreal Wiki. I am a programmer, but not a web designer. Feel free, in fact I insist, that you change, adjust and reformat anything I write here. </p>
<p>Also, if this is in the 'wrong place' please move it(if you can...)</p>
<p>The Unreal Engine was created to be very open to expansion and modification. One thing the engine uses to make adding new player models and characters was the .UPL file. UPL files store simple information telling the engine what models to load, and it links to them profiles and species(2003). I am not going to go into detail about what the UPL contains or does, because this is a tutorial on how to NOT use them. </p>
<p>The problem with UPL files is that they are ALWAYS loaded, and must reside within the default SYSTEM directory of the game. Although this is not an issue when playing the regular retail game, it can quickly become an issue for people developing mods. </p>
<p>The biggest problem is directory structure. Most mods being developed that are of any significant scale place their files into their own subdirectory. Like /UT2003/MyMod/Animations/ . So, by storing the files there, they will not get in the way of any other mods or the classic game. When you run your mod, you give the engine a path to the new animations directory and all is well. However, observe what happens when you run the classic game again. The engine will try to load the characters you have put in the .UPL file. This can cause errors or glitches. What happens when the player goes into the Player tab of options to try and select a character? In the list of characters there will be a lot of question marked options. Those are there as a side effect of the UPL system. </p>
<p>UPL's are the easiest way to get a new player model into the game, and are often used by mods that have 'Player Classes' as an easy way to put the player classes in(this is linked to the species class). Although this technique works, it does not work well and leaves the system open for alterations. The core game is meant to be easily modified, however mods usually are not. Therefore, for my projects I have coded out the use of .UPL files. I have also done this with .INT files and will write a page on that accordingly.</p>
<p>(THIS IS WIP I HAVE TO GO TO WORK NOW AND WILL DO MORE WITH IT WHEN I GET BACK)</p>
<hr class="thin"><p><em class="em2">TOjo39:</em>  Man alive...you talk about the upl and promise how to not load them.  And all you say is that you hardcode them out!!!!  Please, Please, More info.</p>
<script type="text/javascript"><!--
 menuItemAdd("Basics", "#0.1");
menuItemAdd("Elements", "#0.2");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Notes", "#0.2.1");
menuItemAdd("How to remove the need for using .UPL files ", "#0.3");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p><form method="post" action="http://wiki.beyondunreal.com/wiki" enctype="application/x-www-form-urlencoded">
<a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a><br>
Last edited September 13, 2005 14:31 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=UPL_File">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/UPL_File">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>
</form>
	</p>
	<p>I don't need to test my programs. I have an error-correcting modem.
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="../index.html"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>


<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
