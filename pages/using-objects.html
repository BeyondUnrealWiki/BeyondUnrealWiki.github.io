<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: Using Objects</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=Using_Objects; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<input type="text" name="search"  size="14" /> <input type="button" onclick="location.href='../search-error/index.html';" value="search" />
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="http://wiki.beyondunreal.com/wiki?back=Using Objects">Using Objects</a></h1>
	<div class="wiki"><p>This follows on from the <a href="object-oriented-programming.html">Object Oriented Programming Overview</a>.</p>
<h2><a name="0.1"></a>Object References</h2>
<h3><a name="0.1.1"></a>What can object references be used for?</h3>
<p>Remember in the overview when we made up a recipe (class) for a simple and a better pizza and created (spawned) actual pizzas?</p>
<pre class="uscript"><span class="uscript-keyword">local</span> Pizza MyPizza<span class="uscript-operator">;</span>             <span class="uscript-comment">// That's where I'm going to hold the pizza.  Like a dish.</span>

MyPizza <span class="uscript-operator">=</span> Spawn<span class="uscript-operator">(</span><span class="uscript-keyword">class</span> <span class="uscript-name">'Pizza'</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>  <span class="uscript-comment">// Hooray!  Pizza's ready!</span></pre><p>Just like we could define variables such as bHasSauce to store information, we can define variables that will store a reference to an object. This is how we can refer to other objects and interact with them. In the example above, the "MyPizza" variable was a reference to the pizza we spawned. Once we have a reference to an object, we can interact with it, like we did before:</p>
<pre class="uscript">MyPizza<span class="uscript-operator">.</span>EatParts<span class="uscript-operator">(</span><span class="uscript-number">2</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>             </pre><p>This breaks down fairly simply. The first part, "MyPizza," is our reference variable. It specifies <em class="em2">what</em> we want to interact with. The second part, "EatParts(2)," specifies <em class="em2">how</em> we want to interact with it.</p>
<p>You can call functions on another thing when you have a reference to it. EatParts was a function, as you may recall, and by using the reference we can call that function on the pizza. Some more examples: (not examples of actual UT2003 code, but for illustrative purposes)</p>
<pre class="uscript">  TheGun<span class="uscript-operator">.</span>Fire<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
  ThatButton<span class="uscript-operator">.</span>Press<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
  APie<span class="uscript-operator">.</span>ThrowAtClown<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
  MyPizza<span class="uscript-operator">.</span>AddSauce<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span></pre><p>We can also use a reference to an object to find out information about it. For instance, suppose we wanted to find out whether the pizza still has sauce on it. The "MyPizza" variable refers to the pizza, so we can clearly state <em class="em2">what</em> we want to know about, then we need only specify what we want to know about it, like so:</p>
<pre class="uscript">  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span> MyPizza<span class="uscript-operator">.</span>bHasSauce <span class="uscript-operator">)</span>     <span class="uscript-comment">// If MyPizza still has sauce on it...</span>
    MyPizza<span class="uscript-operator">.</span>EatSauce<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>        <span class="uscript-comment">// ... then eat the aforementioned sauce.</span></pre><p>We can also use the variables in our referenced object for anything we could use our own variables for, and we can even change them:</p>
<pre class="uscript">  <span class="uscript-keyword">local</span> <span class="uscript-type">float</span> HalfThePieces<span class="uscript-operator">;</span>
  HalfThePieces <span class="uscript-operator">=</span> MyPizza<span class="uscript-operator">.</span>NumberOfParts <span class="uscript-operator">/</span> <span class="uscript-number">2</span><span class="uscript-operator">;</span>

  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span> TheGun<span class="uscript-operator">.</span>Bullets <span class="uscript-operator">&gt;</span> <span class="uscript-number">0</span> <span class="uscript-operator">)</span>
  <span class="uscript-operator">{</span>
    TheGun<span class="uscript-operator">.</span>Fire<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
    TheGun<span class="uscript-operator">.</span>Bullets <span class="uscript-operator">=</span> TheGun<span class="uscript-operator">.</span>Bullets <span class="uscript-operator">-</span> <span class="uscript-number">1</span><span class="uscript-operator">;</span>
  <span class="uscript-operator">}</span></pre><h3><a name="0.1.2"></a>Getting a Reference to an Object</h3>
<p>In order to call functions on an object or to access it's variables, we must first obtain a valid reference to it. When we first declare the reference, it is empty. Before we can use it for anything productive we must assign an object to it. Remember this line?</p>
<pre class="uscript">MyPizza <span class="uscript-operator">=</span> Spawn<span class="uscript-operator">(</span><span class="uscript-keyword">class</span> <span class="uscript-name">'Pizza'</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>  <span class="uscript-comment">// Hooray!  Pizza's ready!</span></pre><p>The <em class="em2">spawn</em> function not only creates the object you specify, but returns a reference to it. This is an easy way to obtain a reference to an object. Just as you would assign a number to a numeric variable, you can assign an object to an object reference. Generally an object reference is set by setting it equal to another object reference, either obtained through Spawn or through another function call. Sometimes, however, you want a reference to an object that is already in the game but is not currently interacting in any way with your class. To find a reference to it you will generally have to use an <a href="iterator.html">iterator</a>.</p>
<h3><a name="0.1.3"></a>Casting References</h3>
<p>Remember when we made the BetterPizza from before? It had properties and functions that the regular pizza did not. However, we can still use a regular pizza reference to hold it.</p>
<pre class="uscript"><span class="uscript-keyword">local</span> Pizza MyPizza<span class="uscript-operator">;</span>

MyPizza <span class="uscript-operator">=</span> Spawn<span class="uscript-operator">(</span><span class="uscript-keyword">class</span> <span class="uscript-name">'BetterPizza'</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>  <span class="uscript-comment">// Hooray!  Pizza's ready!</span></pre><p>Similarly, we could use something even lower level to hold the pizza, such as the Meal class that the pizza was derived from. You can hold a more complex class in a reference to simpler class, but you cannot store a simpler class in a reference to a more complex class. For instance, we can use a reference to Meal or Pizza to refer to a BetterPizza, but we cannot use a reference to a BetterPizza to store a regular Pizza. This is because a BetterPizza is a special type of Pizza, but it's still a Pizza. A BetterPizza is a special type of Meal too, because  it's a special type of Pizza and a Pizza is a special type of Meal. However, a Pizza is not a special type of BetterPizza, so we can't use a BetterPizza to refer to a Pizza.</p>
<pre class="uscript"><span class="uscript-keyword">local</span> Meal        AMeal<span class="uscript-operator">;</span>
<span class="uscript-keyword">local</span> Pizza       MyPizza<span class="uscript-operator">;</span>
<span class="uscript-keyword">local</span> BetterPizza MyBetterPizza<span class="uscript-operator">;</span>

AMeal   <span class="uscript-operator">=</span> Spawn<span class="uscript-operator">(</span><span class="uscript-keyword">class</span> <span class="uscript-name">'BetterPizza'</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>  <span class="uscript-comment">// A BetterPizza is a type of meal.</span>
MyPizza <span class="uscript-operator">=</span> Spawn<span class="uscript-operator">(</span><span class="uscript-keyword">class</span> <span class="uscript-name">'BetterPizza'</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>  <span class="uscript-comment">// It's also a type of Pizza.</span>
MyBetterPizza <span class="uscript-operator">=</span> Spawn<span class="uscript-operator">(</span><span class="uscript-keyword">class</span> <span class="uscript-name">'Meal'</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>   <span class="uscript-comment">// This won't work. A Meal is not a type of BetterPizza.</span></pre><p>Now, this all seems fine and dandy, but what's the catch? When you store a reference to an object you can only call functions and access variables that are in the class to which that reference was defined. So, for instance, you can't do the following:</p>
<pre class="uscript"><span class="uscript-keyword">local</span> Meal AMeal<span class="uscript-operator">;</span>

AMeal <span class="uscript-operator">=</span> Spawn<span class="uscript-operator">(</span><span class="uscript-keyword">class</span> <span class="uscript-name">'BetterPizza'</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
AMeal<span class="uscript-operator">.</span>EatSauce<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>                      <span class="uscript-comment">// This won't work. Meals don't have sauce, and although</span>
                                       <span class="uscript-comment">// this meal happens to be a Pizza, which does have</span>
                                       <span class="uscript-comment">// sauce, the game has no way of knowing when it</span>
                                       <span class="uscript-comment">// compiles that there is indeed a pizza in that meal</span>
                                       <span class="uscript-comment">// reference, so it goes to the lowest common</span>
                                       <span class="uscript-comment">// denominator: the meal.</span></pre><p>However, there is a way around this: If you know ahead of time that a reference to a certain class actually contains a subclass of it, you can <em class="em2">cast</em> it to let the game know just to take your word for it. The cast lets you temporarily access the functions and variables of a class just as if the reference was actually one to the subclass you specify. It makes no permanent change to the reference itself, though, so you must cast the reference every time you want to access it's subclasses' special functions. This is best illustrated by examples. This is done like so:</p>
<pre class="uscript"><span class="uscript-keyword">local</span> Meal AMeal<span class="uscript-operator">;</span>

AMeal <span class="uscript-operator">=</span> Spawn<span class="uscript-operator">(</span><span class="uscript-keyword">class</span> <span class="uscript-name">'Pizza'</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
Pizza<span class="uscript-operator">(</span> AMeal <span class="uscript-operator">)</span><span class="uscript-operator">.</span>EatSauce<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>             <span class="uscript-comment">// This one works. We have told the compiler that</span>
                                       <span class="uscript-comment">// although the reference is to a meal, the reference</span>
                                       <span class="uscript-comment">// actually points to a special type of meal that has</span>
                                       <span class="uscript-comment">// some added functions. By doing this, we can access</span>
                                       <span class="uscript-comment">// that subclasses special variables and functions.</span></pre><p>If you try to cast something into a class that it is not, or a class that it is not a subclass of, it will return an empty reference. In the above example, we can cast the meal to a pizza, but not to a BetterPizza because it doesn't actually store a BetterPizza, it only stores a Pizza. The compiler will let you cast to any subclass, but it will cause problems in-game if you cast a reference to a class that it does not actually point to. As shown above, the syntax for casting is to put the name of the class as if it were a function, with the argument being the reference that you are casting. Some more examples:</p>
<pre class="uscript">Pawn<span class="uscript-operator">(</span> Owner <span class="uscript-operator">)</span><span class="uscript-operator">.</span>Health <span class="uscript-operator">=</span> <span class="uscript-number">100</span><span class="uscript-operator">;</span>            <span class="uscript-comment">// Owner is an actor reference to a pawn object. We have casted it to</span>
                                       <span class="uscript-comment">// Pawn so we can access it's health, which is declared</span>
                                       <span class="uscript-comment">// in pawn, not in actor.</span>

AIController<span class="uscript-operator">(</span> Controller <span class="uscript-operator">)</span><span class="uscript-operator">.</span>AIScript <span class="uscript-operator">=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">;</span>    <span class="uscript-comment">// Controller's don't have AIScripts, only</span>
                                               <span class="uscript-comment">// AIControllers do. But, if we know for sure</span>
                                               <span class="uscript-comment">// that a Pawns controller is an AIController,</span>
                                               <span class="uscript-comment">// we can cast it to access the AIScript anyway.</span>

<span class="uscript-keyword">if</span> <span class="uscript-operator">(</span> BetterPizza<span class="uscript-operator">(</span> MyPizza <span class="uscript-operator">)</span><span class="uscript-operator">.</span>bHasEgg <span class="uscript-operator">)</span>    <span class="uscript-comment">// Only BetterPizzas have eggs.</span>
<span class="uscript-operator">{</span>
  BetterPizza<span class="uscript-operator">(</span> MyPizza <span class="uscript-operator">)</span><span class="uscript-operator">.</span>bHasEgg <span class="uscript-operator">=</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span><span class="uscript-comment">// I don't like egg on pizza. Pick it off.</span>
  MyPizza<span class="uscript-operator">.</span>EatSauce<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>                    <span class="uscript-comment">// Note that although I'm not calling the betterpizzas</span>
                                         <span class="uscript-comment">// EatSauce directly, it will still get the call and</span>
                                         <span class="uscript-comment">// still call the betterpizzas EatSauce. You only have</span>
                                         <span class="uscript-comment">// to cast for things that didn't exist in the</span>
                                         <span class="uscript-comment">// superclass. You don't have to cast to use functions</span>
                                         <span class="uscript-comment">// that were only overridden.</span>
  MyPizza<span class="uscript-operator">.</span>EatParts<span class="uscript-operator">(</span> <span class="uscript-number">2</span> <span class="uscript-operator">)</span><span class="uscript-operator">;</span>                 <span class="uscript-comment">// But all pizzas can have parts eaten, no cast is</span>
                                         <span class="uscript-comment">// required.</span>
<span class="uscript-operator">}</span></pre><h3><a name="0.1.4"></a>IsA and ClassIsChildOf</h3>
<p>Now you know how to cast a class, in circumstances where you already know for sure that a reference points to a certain subclass. However, what about situations where you don't know for sure? Suppose you had a function like the following:</p>
<pre class="uscript"><span class="uscript-comment">// Called to determine what type of food something is.</span>
<span class="uscript-keyword">function</span> <span class="uscript-type">string</span> TypeOfMeal<span class="uscript-operator">(</span> Meal M <span class="uscript-operator">)</span></pre><p>This function takes a meal as a parameter, and returns a string describing what type of food it is. We want to return "Spicy" if it is a pizza with sauce, "Bland" if it is a pizza without sauce. Otherwise, we want to return "Unknown."</p>
<pre class="uscript"><span class="uscript-comment">// Called to determine what type of food something is.</span>
<span class="uscript-keyword">function</span> <span class="uscript-type">string</span> TypeOfMeal<span class="uscript-operator">(</span> Meal M <span class="uscript-operator">)</span>
<span class="uscript-operator">{</span>
       <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>  Pizza<span class="uscript-operator">(</span> M <span class="uscript-operator">)</span><span class="uscript-operator">.</span>bHasSauce <span class="uscript-operator">)</span> <span class="uscript-keyword">return</span> <span class="uscript-string">"Spicy"</span><span class="uscript-operator">;</span>
  <span class="uscript-keyword">else</span> <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span> <span class="uscript-operator">!</span>Pizza<span class="uscript-operator">(</span> M <span class="uscript-operator">)</span><span class="uscript-operator">.</span>bHasSauce <span class="uscript-operator">)</span> <span class="uscript-keyword">return</span> <span class="uscript-string">"Bland"</span><span class="uscript-operator">;</span>
  <span class="uscript-keyword">else</span> <span class="uscript-keyword">return</span> <span class="uscript-string">"Unknown"</span><span class="uscript-operator">;</span>
<span class="uscript-operator">}</span></pre><p>This seems like it would work, but it does not. If the pizza has sauce, it returns "Spicy." If the pizza does not have sauce, it returns "Bland." This is what we want, so far. However, if the meal is not a pizza at all, we want to return "Unknown." This function will return "Bland" in that situation. Here's why: If M is not a pizza, then Pizza( M ) returns None. None.bHasSauce will always evaluate as false, as well as generating an error message in the log. Before we can safely cast to the Pizza, we need to know for sure whether or not the meal M actually is a Pizza. There are four ways to do this:</p>
<ul><li>As mentioned, a cast to something that isn't that class will always return None. We can test this to see if it really is a Pizza or not. If Pizza( M ) == None, then M is either an empty reference, or it isn't a reference to a pizza.</li>
<li>There is a native function called IsA that does basically the same thing. IsA takes a name argument, like 'Pizza'. To find out if M is a pizza, just call M.IsA( 'Pizza' ); It will return true if M is a pizza, or false if M is not a pizza.</li>
<li>Every object has a class variable that holds it's own class. We can check this to determine if a class is a pizza or not. However, this method is not ideal because it will not catch subclasses. A pizza checked in this manner will not register as a pizza if it is a BetterPizza.</li>
<li>ClassIsChildOf is another native function that allows us to investigate the class tree. However, like the above method, ClassIsChildOf is less than ideal for this application as it will return only subclasses of the specified class, not that class itself. It can be combined with the above methods to get the same results as either of the top two methods. It's syntax is below.</li>
</ul>
<pre class="uscript">  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span> Pizza<span class="uscript-operator">(</span> M <span class="uscript-operator">)</span> <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span> <span class="uscript-operator">)</span> <span class="uscript-keyword">return</span> <span class="uscript-string">"Unknown"</span><span class="uscript-operator">;</span>
  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span> M<span class="uscript-operator">.</span>IsA<span class="uscript-operator">(</span> <span class="uscript-name">'Pizza'</span> <span class="uscript-operator">)</span> <span class="uscript-operator">)</span>
  <span class="uscript-operator">{</span>
         <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>  Pizza<span class="uscript-operator">(</span> M <span class="uscript-operator">)</span><span class="uscript-operator">.</span>bHasSauce <span class="uscript-operator">)</span> <span class="uscript-keyword">return</span> <span class="uscript-string">"Spicy"</span><span class="uscript-operator">;</span>
    <span class="uscript-keyword">else</span> <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span> <span class="uscript-operator">!</span>Pizza<span class="uscript-operator">(</span> M <span class="uscript-operator">)</span><span class="uscript-operator">.</span>bHasSauce <span class="uscript-operator">)</span> <span class="uscript-keyword">return</span> <span class="uscript-string">"Bland"</span><span class="uscript-operator">;</span>
  <span class="uscript-operator">}</span>

  <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span> <span class="uscript-keyword">Class</span> <span class="uscript-operator">!=</span> <span class="uscript-keyword">class</span><span class="uscript-name">'Pizza'</span>
  <span class="uscript-operator">&amp;&amp;</span>  <span class="uscript-operator">!</span>ClassIsChildOf<span class="uscript-operator">(</span> <span class="uscript-name">'Pizza'</span> <span class="uscript-operator">)</span> <span class="uscript-operator">)</span>
    <span class="uscript-keyword">return</span> <span class="uscript-string">"Unknown"</span><span class="uscript-operator">;</span></pre><h3><a name="0.1.5"></a>References to Classes</h3>
<p>As you may have noticed, the class comparing and ClassIsChildOf both use a "class" notation. This is a special type of variable, somewhere between a reference and a primitive. It holds the class name of an object. Remember how we spawned the Pizza?</p>
<pre class="uscript">Spawn<span class="uscript-operator">(</span><span class="uscript-keyword">class</span> <span class="uscript-name">'Pizza'</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span></pre><p>Note that the class designation was used there as well. In those cases, a variable is not used, just an absolute value. For instance, the number 5 is not the same as a variable holding the number 5, but both can be used interchangeably. Similarly, a class variable and the constant version (as illustrated above) can be used interchangeably. You can set a class variable in the same way you would set any other variable:</p>
<pre class="uscript"><span class="uscript-keyword">local</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>Meal<span class="uscript-operator">&gt;</span> PizzaClass<span class="uscript-operator">;</span>        <span class="uscript-comment">// The triangle brackets in the declaration narrow down what type</span>
                                     <span class="uscript-comment">// of class this can point to, but it is not necessary.</span>
<span class="uscript-keyword">local</span> Pizza MyPizza<span class="uscript-operator">;</span>
<span class="uscript-keyword">local</span> Pizza AnotherPizza<span class="uscript-operator">;</span>

MyPizza <span class="uscript-operator">=</span> Spawn<span class="uscript-operator">(</span><span class="uscript-keyword">class</span><span class="uscript-name">'Pizza'</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>

PizzaClass <span class="uscript-operator">=</span> <span class="uscript-keyword">class</span><span class="uscript-name">'Pizza'</span><span class="uscript-operator">;</span>
AnotherPizza <span class="uscript-operator">=</span> Spawn<span class="uscript-operator">(</span> PizzaClass <span class="uscript-operator">)</span><span class="uscript-operator">;</span></pre><p>The constant syntax should be obvious, it is simply the word class, followed by a single quote, followed by the name of the class, followed by another single quote. It is useful in cases where you do not know at compile time what the class is going to be. For instance, weapons use this for their projectiles. Instead of having to change every reference to the projectile class in the code, you can change it all by modifying one simple variable. In other cases, that may not even be an option, and a class variable is required. Here's an example: Let's say we were making a duplicator gun. Whenever it hit something, it spawns a duplicate of that thing. The code for the duplication function might look something like the following:</p>
<pre class="uscript"><span class="uscript-keyword">function</span> Duplicate<span class="uscript-operator">(</span> actor Other <span class="uscript-operator">)</span>
<span class="uscript-operator">{</span>
  <span class="uscript-keyword">local</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>actor<span class="uscript-operator">&gt;</span> OtherClass<span class="uscript-operator">;</span>

  OtherClass <span class="uscript-operator">=</span> Other<span class="uscript-operator">.</span><span class="uscript-keyword">Class</span><span class="uscript-operator">;</span>
  Spawn<span class="uscript-operator">(</span> OtherClass <span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-operator">}</span></pre><h2><a name="0.2"></a>Related Topics</h2>
<p>These pages cover the above in more detail:</p>
<ul><li><a href="peppers-and-pepper-grinders.html">Peppers And Pepper Grinders</a> </li>
<li><a href="typecasting.html">Typecasting</a></li>
</ul>
<hr class="thin"><p><em class="em2">Sobiwan:</em> I dont 'remember when we spawned a pizza'.  The previous section only defined a pizza (the class), but there was no mention of spawning or what spawning is.  Hence, I am confused until this first sentence is clearer.</p>
<p><em class="em2">Tarquin:</em> we spawned one in the section 'Where's My Pizza?'. But it could be clearer. I'll work on it.</p>
<p><em class="em2">Don:</em> Forgive the professor mode here, but I'd suggest changing the example that includes "TheGun.Fire(); TheGun.Bullets = TheGun.Bullets - 1;" - it may just be an example but it completely disregards proper encapsulation.</p>
<p><em class="em2">Tarquin:</em> Good point. Change it <img alt=":)" src="emoticons/smile.gif" align="middle"></p>
<p><em class="em2">n8:</em> Looks like Don copped out.  Did he mean change to: "TheGun.Fire(); TheGun.Bullets -= 1;"?</p>
<p><em class="em2">Pachacutec:</em> Hmmm. I want to alter an object reference in a class post its initialization instead to one of its subclasses.  This way, all existing calls to that reference can stay the same, the functionality is updated with no hassle.  I think this is called protoyping in javascript.  I can do this here with Spawn?  I'm not adding new function NAMES, but one of the functions will have extra commands in the new sub.  Is this possible?</p>
<p><em class="em2">Pachacutec:</em> "You don't have to cast to use functions that were only overridden." Sorry, missed that comment.  thanks for this great page <img alt=":)" src="emoticons/smile.gif" align="middle"></p>
<p><em class="em2">HoMeRS}i{MpSoN:</em> It looks to me like the ClassIsChildOf function has changed in UT2k4 (and I am guessing 2k3 before it): </p>
<pre class="uscript"><span class="uscript-keyword">native</span><span class="uscript-operator">(</span><span class="uscript-number">258</span><span class="uscript-operator">)</span> <span class="uscript-keyword">static</span> <span class="uscript-keyword">final</span> <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> ClassIsChildOf<span class="uscript-operator">(</span> <span class="uscript-keyword">class</span> TestClass<span class="uscript-operator">,</span> <span class="uscript-keyword">class</span> ParentClass <span class="uscript-operator">)</span><span class="uscript-operator">;</span></pre><p>This requires a statement such as:</p>
<pre class="uscript"><span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>ClassIsChildOf<span class="uscript-operator">(</span>V<span class="uscript-operator">.</span><span class="uscript-keyword">Class</span><span class="uscript-operator">,</span> <span class="uscript-keyword">class</span><span class="uscript-name">'Volume'</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span>
    <span class="uscript-operator">.</span><span class="uscript-operator">.</span><span class="uscript-operator">.</span>blah blah</pre><p>instead of the examples above.</p>
<p><em class="em2">SuperApe:</em> This <em class="em1">restaurant</em> family of beginner UScripting pages should be linked from the Modding pages.  Currently, <a href="making-mods.html">Making Mods</a> and <a href="mutator-topics.html">Mutator Topics</a> are the ones that get the most foot traffic.</p>
<p><em class="em2">Stelcontar:</em> In UT2004 the ChildIsClassOf function returns true if the test class is a child of the "parent" class OR is the same as the parent class. Example:</p>
<pre class="uscript"><span class="uscript-comment">//the following return true in UT2004</span>
ClassIsChildOf<span class="uscript-operator">(</span><span class="uscript-keyword">class</span><span class="uscript-name">'ShockRifle'</span><span class="uscript-operator">,</span><span class="uscript-keyword">class</span><span class="uscript-name">'ShockRifle'</span><span class="uscript-operator">)</span> 
ClassIsChildOf<span class="uscript-operator">(</span><span class="uscript-keyword">class</span><span class="uscript-name">'ShockRifle'</span><span class="uscript-operator">,</span><span class="uscript-keyword">class</span><span class="uscript-name">'Weapon'</span><span class="uscript-operator">)</span>
ClassIsChildOf<span class="uscript-operator">(</span><span class="uscript-keyword">class</span><span class="uscript-name">'ShockRifle'</span><span class="uscript-operator">,</span><span class="uscript-keyword">class</span><span class="uscript-name">'Inventory'</span><span class="uscript-operator">)</span></pre><p><em class="em2">KewlAzMe</em> For the <em class="em1">Duplicate</em> function example, do you always need to make a variable for that class? Wouldn't this work:</p>
<pre class="uscript"><span class="uscript-keyword">function</span> Duplicate<span class="uscript-operator">(</span> actor Other <span class="uscript-operator">)</span>
<span class="uscript-operator">{</span>
  Spawn<span class="uscript-operator">(</span> Other <span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-operator">}</span></pre><p>???</p>
<hr class="thin"><p><a href="category-tutorial.html">Category Tutorial</a></p>
<script type="text/javascript"><!--
 menuItemAdd("Object References", "#0.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>What can object references be used for?", "#0.1.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Getting a Reference to an Object", "#0.1.2");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Casting References", "#0.1.3");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>IsA and ClassIsChildOf", "#0.1.4");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>References to Classes", "#0.1.5");
menuItemAdd("Related Topics", "#0.2");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p>
<a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a><br>
Last edited March 18, 2007 14:14 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=Using_Objects">(diff)</a><br>Search: <input type="text" name="search"  size="14" /><input type="button" onclick="location.href='../search-error/index.html';" value="search" /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/Using_Objects">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>

	</p>
	<p>I'm a doctor, not a mechanic
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="../index.html"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>


<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
