<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: Mapping For VCTF</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=Mapping_For_VCTF; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<form class="inline" method="post" action="/wiki" enctype="application/x-www-form-urlencoded"><input type="text" name="search"  size="20" /> <input type="submit" name="search" value="search" /></form>
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="http://wiki.beyondunreal.com/wiki?back=Mapping For VCTF">Mapping For VCTF</a></h1>
	<div class="wiki"><p><em class="em2">Vehicle Capture the Flag (VCTF):</em> Two teams both have a movable flag that's planted on an immobile flag base. A team scores a point by getting both flags to their home flag base.  This is an extention of the Capture the Flag gametype for <a href="unreal-tournament-2004.html">UT2004</a> with the primary difference being vehicle support.  Flying Vehicles may not carry the flag and translocator use is prohibited by default.  <em class="em1">It's strongly recommended that mappers review <a href="mapping-for-ctf.html">Mapping for CTF</a> as well.</em></p>
<h2><a name="0.1"></a>Design considerations</h2>
<h3><a name="0.1.1"></a>Layout</h3>
<p>An obviousbly linear layout (straight from RedFlagBase to BlueFlagBase) is very easy to make when you have a gametype with only two game objectives and the long range/fast movement of vehicles.  Try to spread out (branch out) the routes between flags; spreading the field out and offering more variety in routes to and from the enemy flag.  Otherwise, an obvious bottleneck or 'choke spot' will present itself, making flag capture difficult if not impossible; but definately frustrating to play, due to lack of variety.</p>
<p>That said, vehicles almost demand layouts of considerable size.  Pedestrians should feel somewhat "stranded" in remote places in your map without a vehicle. (See ITEM PLACEMENT for pedestrian remedies)</p>
<p>Vehicles also add firepower and armor to each Team.  Therefore, the route to the flag should be appropriately difficult.  Defenses of all kinds are encouraged to help make the Capture challenging. (walls, doors, gates, turrets, custom shields, etc.)</p>
<h3><a name="0.1.2"></a>Item Placement</h3>
<p>The flagbases should be inaccessible by larger vehicles, either by structure, barrier or pedestal.  Otherwise, players and bots will ride a tank or leviathan on top of their flag to defend and camp on it.</p>
<p>Neutral vehicles placed in the center can add to gameplay by providing a "soft" gameObjective; a place Teams want to control.  Neutral (non-flying) vehicles placed near flagbases allow enemies to make quick getaways.</p>
<p>With large layouts, pedestrians can feel stranded out in remote locations.  Offer them alternative travel to key points with JumpPads, Teleporters, Movers, etc. in those locations.</p>
<h3><a name="0.1.3"></a>Vehicles</h3>
<p>Remember: By default, flying vehicles cannot carry the flag.  Also, someone riding on top of any vehicle can pick up the flag without getting off the vehicle (the Manta is excellent for this).</p>
<p>VehicleFactories will not spawn vehicles in a VCTF map until the gametype is set in LevelInfo to <tt>xGame.XVehicleCTFGame</tt> and both FlagBases are placed.</p>
<p>ONSVehicles(Factories) will spawn by automatically setting the TeamNumber to match that of the nearest GameObjective (Flag).  Try the custom <a href="teamvehiclefactory.html">TeamVehicleFactory</a> for greater control over aspects of vehicle spawning.</p>
<h3><a name="0.1.4"></a>Botplay</h3>
<p>Bots will not use vehicles until a proper CTF bot path network is set, with an AssaultPath set to each flag and at least one WHITE (widest) path connects the two flags.  The vehicle spawn points must also be accessible to these wide pathways with their own WHITE paths.</p>
<p>Neutral controllers, controlling bots, turrets, etc., will attack Red and Blue Team members equally.  They will ignore other Neutral controllers, as if Neutral was it's own Team. (Team 255)</p>
<h2><a name="0.2"></a>Creating a VCTF Map </h2>
<p>This is a list of critical elements needed to create a simple VCTF map.</p>
<ul><li>Modify LevelProperties&rarr;LevelInfo&rarr;DefaultGametype to <tt>xGame.xVehicleCTFGame</tt>.</li>
<li>A big enough space for vehicles and/or flying vehicles.</li>
<li>Place two <a href="xrealctfbase.html">xRealCTFBase</a>s, ones for Red and Blue teams.  These must be accessible to a RoadPathNode path network. (see the <em class="em2">Botplay</em> section above)</li>
<li>Place player starts (set <tt>PlayerStart.TeamNum</tt>s: 0=red, 1=blue)</li>
<li>Place an <a href="assaultpath.html">AssaultPath</a> near each flag (line of sight is good) for the attacking team.</li>
<li>Place VehicleFactory actors where you want vehicles to spawn. Set the direction you want them to start in. The TeamNumber for the vehicles will be set automatically when using ONSVehicleFactories; whichever gameobjective is closer; the red flag or the blue flag. By using custom actors like the <a href="teamvehiclefactory.html">TeamVehicleFactory</a>, you can set the TeamNumber yourself. (0=red, 1=blue, 255=none or neutral)</li>
<li>When placing <a href="roadpathnode.html">RoadPathNode</a>s, keep the paths wide (white) between nodes for large ground vehicles and especially along the paths to the flags. Keep these spaced over 512 or 1024 apart because vehicles are not as agile as players on foot; they need to make wider turns.  Try to keep the number of pathnodes even on each team's side of the map.  There must be at least one white path connecting the flags to the path network, but more paths are recommended.</li>
<li>Place <a href="flyingpathnode.html">FlyingPathNode</a>s (between 1024 and 2048 apart) about 1024 to 2048 above the ground. Don't bother making fine or complicated pathing for flying vehicles, with momentum carrying them, they need to make very wide turns, rises and dives.</li>
</ul>
<h2><a name="0.3"></a>Tips</h2>
<h3><a name="0.3.1"></a>Vehicle Pathing for VCTF ( by Toonces T. Cat )</h3>
<p>A few key points to note in the construction of a VCTF level.</p>
<ul><li>Using an <a href="assaultpath.html">AssaultPath</a> after the last <a href="roadpathnode.html">RoadPathNode</a> that vehicles can reach works, and works well, but introduces new and even more complex issues into the equation. Someone else mentioned it in another thread, but what good is it to have your bot grab the flag and then not have a vehicle available when it returns to the RoadPathed area of the map? The best bet is to have the flag in an area where it can make a double (bi-directional) white connection to one or more RoadPathNodes.</li>
<li>Think vertical and you can have your cake and eat it too. I have created a second elevated level that is pathed just for foot use and it also connects to both flags and, even though the bots use it, it does not preclude them from using the vehicles as well. In fact, combos are very possible as I have seen them use the overhead route to get the flag and then jump into a Tank or a Hell Bender that one of their team-mates is using and hitch a ride home...</li>
<li>The translocator definitely should be allowed in the game-type. The bots commonly chase a team-mate's vehicle with it and will jump on-board in mid-toss...It is extremely cool to watch them do this... (<em class="em2">SuperApe</em>: Toonce's is talking about ignoring the default rules for VCTF that disallow Translocators.  This could be done by placing a custom actor (subclass of <a href="xpickupbase.html">xPickUpBase</a>) and specifying a XWeapon.Transpickup as it's Powerup.  See also <a href="http://forums.unrealplayground.com/showthread.php?t=24029">[this thread]</a>.)</li>
<li>When the flag is in a vehicle accessible area, elevate it above the floor on some type of base that the bots can climb on foot, but not in a vehicle. I am using an octagonal base that is about 256 units in diameter and about 40 units high. It has 4 narrow stairwells cut into it (one on every other side) that the bots can use. It is high enough to stop a vehicle (except for the Leviathan), but not so high that the nearby RoadPathNodes cannot make a good path connection.</li>
</ul>
<p>Why do you need this? Because the bots playing defense will pile into a Goliath and camp the flag if they can get on top of it...and I mean literally ON TOP of it. An enemy bot cannot get to it to take the flag if they are there. This is a workaround of sorts, but it is an effective one as even if they are using a Tank, if the attacker engages them, another bot can come up form behind and take the flag...I've watched it a dozen times.</p>
<ul><li>As I said above, the 40 unit high barrier will not stop a Leviathan...Hence, tip #5 is do not path the Leviathans if you have them in your level. If a Masterful bot gets into one of them with a couple of his pals, the other team is in big trouble. It's better to keep them out the Leviathans unless a human is driving it.</li>
<li>RoadPathNodes can be further cleaned up by changing the MaxRoadDistance value in the properties. The default distance is ten thousand. This can create ALL KINDS of unwanted clutter. In the top orthographic view measure between the nodes that you want to connect using  SHIFT+MIDDLEMOUSE to bring up the ruler and adjust the nodes accordingly.</li>
</ul>
<h2><a name="0.4"></a>FAQ</h2>
<p>Frequently asked questions and common problems while mapping for VCTF.</p>
<ul><li><em class="em1">Where is the VehicleCTF gametype in the UT2004 menu?</em></li>
</ul>
<p>The VehicleCTF gametype will not show up in the list of available gametypes until at least one VCTF map is placed in the Maps directory. (Filename syntax is : <em class="em2">VCTF-Foo</em>)</p>
<ul><li><em class="em1">Vehicles aren't spawning</em></li>
</ul>
<p>You must modify LevelProperties&rarr;LevelInfo&rarr;DefaultGametype to <tt>xGame.xVehicleCTFGame</tt> and have both the Red and Blue team FlagBases set in the map.  After that, Vehicle Factories will spawn vehicles.</p>
<ul><li><em class="em1">Bots won't use the vehicles</em></li>
</ul>
<p>There must be at least one fully connected path from one flag to the other and at least one of these paths must be solidly <em class="em2">white</em> all along the route.  This will indicate to bots that they can use a vehicle to reach their goal along that path.  The VehicleFactories will also have to be connected to at least one of these routes with a white path.</p>
<ul><li><em class="em1">Bots only use the shortest path to the enemy flag and back</em></li>
</ul>
<p>Use of an AssaultPath close to and within line of sight of the target flag will help bots reach their goal, but to encourage bots to use more of the layout, use other AssaultPaths that meet up to that goal.  See <a href="assaultpath.html">AssaultPath</a> and <a href="bot-pathing.html">Bot Pathing</a>.</p>
<h2><a name="0.5"></a>External Links</h2>
<ul><li><a href="http://forums.unrealplayground.com/showthread.php?t=23758">[Unreal Playground Forum: Mapping for VCTF]</a></li>
<li><a href="http://blitz.unrealplayground.com/tutorials/bots.html">[Blitz's Advanced Bot Pathing Tutorial]</a></li>
</ul>
<h2><a name="0.6"></a>Related Topics</h2>
<ul><li><a href="topics-on-mapping.html">Topics on Mapping</a></li>
<li><a href="mapping-for-ctf.html">Mapping for CTF</a></li>
<li><a href="pathing-for-vehicles.html">Pathing For Vehicles</a></li>
<li><a href="pathing-2k4-flying-vehicles.html">Pathing 2k4 Flying Vehicles</a></li>
<li><a href="map-flow.html">Map Flow</a></li>
<li><a href="gametype.html">Gametype</a></li>
<li><a href="vehicle.html">Vehicle</a> &ndash; Parent class for all vehicles in UT2004</li>
<li><a href="vehicles.html">Vehicles</a> &ndash; Vehicle main topic</li>
</ul>
<h2><a name="0.7"></a>Discussion</h2>
<p><em class="em2">SuperApe</em>: Created.  Most borrowed from the external link I wrote a while ago.  Toonce's vehicle pathing comments added from <a href="pathing-for-vehicles.html">Pathing for Vehicles</a> and edited slightly.  <a href="xvehiclectfgame.html">xVehicleCTFGame</a>, <a href="roadpathnode.html">RoadPathNode</a>, <a href="flyingpathnode.html">FlyingPathNode</a>, <a href="specialvehicleobjective.html">SpecialVehicleObjective</a> pages added and other misc links changed. (<a href="navigationpoint.html">NavigationPoint</a> subclass list, etc.)</p>
<hr class="thin"><p><a href="category-mapping.html">Category Mapping</a></p>
<script type="text/javascript"><!--
 menuItemAdd("Design considerations", "#0.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Layout", "#0.1.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Item Placement", "#0.1.2");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Vehicles", "#0.1.3");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Botplay", "#0.1.4");
menuItemAdd("Creating a VCTF Map ", "#0.2");
menuItemAdd("Tips", "#0.3");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Vehicle Pathing for VCTF ( by Toonces T. Cat )", "#0.3.1");
menuItemAdd("FAQ", "#0.4");
menuItemAdd("External Links", "#0.5");
menuItemAdd("Related Topics", "#0.6");
menuItemAdd("Discussion", "#0.7");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p><form method="post" action="http://wiki.beyondunreal.com/wiki" enctype="application/x-www-form-urlencoded">
<a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a><br>
Last edited April 25, 2007 19:09 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=Mapping_For_VCTF">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/Mapping_For_VCTF">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>
</form>
	</p>
	<p>My program doesn't have bugs. It just develops random features.
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="../index.html"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>


<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
