<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: Pathing For Vehicles</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=Pathing_For_Vehicles; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<form class="inline" method="post" action="/wiki" enctype="application/x-www-form-urlencoded"><input type="text" name="search"  size="20" /> <input type="submit" name="search" value="search" /></form>
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="http://wiki.beyondunreal.com/wiki?back=Pathing For Vehicles">Pathing For Vehicles</a></h1>
	<div class="wiki"><p>The common use of vehicles in <a href="unreal-tournament-2004.html">UT2004</a> prompts mappers to take precautions and add special navigation paths for maps that include vehicles.  Once properly connected to the network, bots will use the vehicles to travel on the special paths for road and sky navigation.  Proper connection to the botpath network includes a complete path connection (one where each path is white, indicating the widest path) from vehicle spawn point to game objective.</p>
<p><em class="em2">Note:</em> The main focus on this page began with Vehicle CTF, but these concepts apply to pathing for all vehicle gametypes.</p>
<h3><a name="0.0.1"></a>Parking Spots</h3>
<p>Vehicles are large and difficult to navigate in tight spaces.  Vehicles too close to obstacles like map layout elements, decorative objects, or other vehicles will be hard for bots to get into and navigate with.  When placing paths nodes that vehicles might use, make sure there is a lot of room to leave each spawn spot and be aware of areas (like PowerNodes) where bots and players will want to exit the vehicle, do something and get back in.  Often gridlock can occur if RoadPaths are too close together near such areas.  Nodes used to find and enter larger vehicles (like HellBenders or larger) should be away from the center of the vehicle (like towards the driver's side door), otherwise bots will get stuck trying to enter.</p>
<h3><a name="0.0.2"></a>RoadPathNodes</h3>
<p>RoadPathNodes define safe and easy places for ground-based vehicles to navigate.  Because vehicles take up much more space than players, RoadPathNodes could always be connected by WHITE path nodes; detnoting the widest path available.  It should be noted, however, that driving bots will use normal PathNodes as well, as long as they are wide enough.  See also <a href="roadpathnode.html">RoadPathNode</a>s.</p>
<h3><a name="0.0.3"></a>FlyingPathNodes</h3>
<p>FlyingPathNodes indicate clear paths through the sky for flying vehicles.  See also <a href="pathing-2k4-flying-vehicles.html">Pathing 2k4 Flying Vehicles</a> and <a href="flyingpathnode.html">FlyingPathNode</a>s.</p>
<h2><a name="0.1"></a>Vehicle (VCTF) Pathing Info by Toonces T. Cat	</h2>
<p>The prime directive here is the K.I.S.S. principle...Keep It Simple Stupid! The more complex and meandering you make the <a href="roadpathnode.html">RoadPathNode</a> routing, the worse the bots will drive and the less likely it is that they will directly attack the other base. </p>
<p>In normal <em class="em1">pedestrian</em> gametypes, sometimes more is better with PathNodes to ensure that the bots can get everywhere on the level.  Not so with vehicles.  Just lay down the RoadPathNodes where you need the bots to drive the vehicles and nowhere else. The simpler and the more straight-forward the layout of the nodes, the better.</p>
<p>One huge problem with this is that the default range setting on a RoadPathNode is 10,000 <a href="unreal-unit.html">UU</a> (Unreal Units). If you put them down without adjusting this property, they will connect all over the level and the bots will go nuts and likely never reach the objective. I don't know any shortcuts for doing this other than to place 4 or 5 RPNs and then set their range and build the paths. If you get two-way pathing for all the Nodes, then you are in good shape. If they make connections you did not intend for them to make, then reduce the distance until they drop the connection. If they do not connect as a two-way point, then shorten it up a bit until they do. Sound tedious? Yeah it is, but the end result is well worth the trouble.</p>
<hr class="thin"><p>Here's a screenie of the editor to show you what it should look like:</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[VehiclePathing]" src="images/vehiclepathing.jpeg"><p><em class="em1">Road Pathing on VCTF-Strip Mine</em></p>
</div>
</td>
</tr>
</table>
</div>
<hr class="thin"><p>Here's is Steve Polge's summation of the rest of it: </p>
<blockquote><p>"The larger vehicles require white (or forced vehicle) paths connected to the objective (flag base) and all assault paths. If the vehicle can't get all the way to the objective, make sure they can get to the assault paths for the objective, and then they'll continue on foot.</p>
<p>Also, objectives have a VehiclePathName property. If you can't get a vehicle path all the way to the objective, set the VehiclePathName to the name (under the object tab) of the nearest NavigationPoint that vehicles can reach.</p>
<p>If you need to force paths for vehicles, you'll need to check bVehicleDestination in the destination NavigationPoint properties, and then add a forced path in the normal manner.</p>
</blockquote><p>The bottom line is that if you do not have an all white path between the objectives, the bots will not play the game properly. As Steve states above, if the bots can't reach the objective in the vehicle, then you'll have to use an assault Path to get them there. His instructions are spot-on. Follow them carefully and it will work for you.</p>
<p>The other instructive thing I learned from this lengthy exercise is that very few existing CTF levels will make for really good VCTF maps if you plan to use bots.  I suppose you can jack an ONS map and convert it, but remember that the main deal in VCTF is they have to do the following:</p>
<ol><li>Get in a vehicle and drive as close as possible to the objective.</li>
<li>Exit the vehicle and grab the objective.</li>
<li>Make their way back to the vehicle with the objective and get into it.</li>
<li>Drive back to their own base with the objective.</li>
<li>Get out of the vehicle and make the capture.</li>
</ol>
<p>That is not what happens in ONS and the A.I. in the maps is not set-up to facilitate it happening. If you use a base ONS map, dump the existing A.I. and start building it from scratch. I haven't even begun to mess with the FlyingPathNodes, but as you can't carry the flag in either a Raptor or a Manta, who cares? I put some into a level and they connected and it seemed to work okay as long they covered the map with their connections...Here's another tip, though, wait to do the FlyingPathNodes until you're just about 100% done with the RoadPathNodes. Once they are in place, with View Paths enabled, the map looks like an explosion in an orange spaggetti factory...i.e. - You can't see a thing after that.</p>
<h2><a name="0.2"></a>Additional VCTF (VehicleCTF) Level Tips by Toonces T. Cat</h2>
<p>I have discovered a few additional key points to note in the construction of a VCTF level:</p>
<ol><li>Using an <a href="assaultpath.html">AssaultPath</a> after the last RoadPathNode that vehicles can reach works, and works well, but introduces new and even more complex issues into the equation. Someone else mentioned it in another thread, but what good is it to have your bot grab the flag and then not have a vehicle available when it returns to the RoadPathed area of the map? The best bet is to have the flag in an area where it can make a double (bi-directional) white connection to one or more RoadPathNodes.</li>
<li>Think vertical and you can have your cake and eat it too. I have created a second elevated level that is pathed just for foot use and it also connects to both flags and, even though the bots use it, it does not preclude them from using the vehicles as well. In fact, combos are very possible as I have seen them use the overhead route to get the flag and then jump into a Tank or a Hell Bender that one of their team-mates is using and hitch a ride home...</li>
<li>The Teleporter definitely needs to be in the game-type. The bots commonly chase a team-mate's vehicle with it and will jump on-board in mid-toss...It is extremely cool to watch them do this...</li>
<li>When the flag is in a vehicle accessible area, elevate it above the floor on some type of base that the bots can climb on foot, but not in a vehicle. I am using an octagonal base that is about 256 units in diameter and about 40 units high. It has 4 narrow stairwells cut into it (one on every other side) that the bots can use. It is high enough to stop a vehicle (except for the Leviathan), but not so high that the nearby RoadPathNodes cannot make a good path connection.  (<em class="em1">Why do you need this? Because the bots playing defense will pile into a Goliath and camp the flag if they can get on top of it...and I mean literally ON TOP of it. An enemy bot cannot get to it to take the flag if they are there. This is a workaround of sorts, but it is an effective one as even if they are using a Tank, if the attacker engages them, another bot can come up form behind and take the flag...I've watched it a dozen times.</em>)</li>
<li>As I said above, the 40 unit high barrier will not stop a Leviathan...Hence, tip #5 is do not path the Leviathans if you have them in your level. If a Masterful bot gets into one of them with a couple of his pals, the other team is in big trouble. It's better to keep them out the Leviathans unless a human is driving it.</li>
<li>RoadPathNodes can be further cleaned up by changing the MaxRoadDistance value in the properties. The default distance is ten thousand. This can create ALL KINDS of unwanted clutter. In the top orthographic view measure between the nodes that you want to connect using  SHIFT+MIDDLEMOUSE to bring up the ruler and adjust the nodes accordingly.</li>
</ol>
<h2><a name="0.3"></a>External Links</h2>
<ul><li><a href="http://blitz.unrealplayground.com/tutorials/bots.html">[Blitz's Advanced Bot Pathing Tutorial]</a></li>
</ul>
<h2><a name="0.4"></a>Related Topics</h2>
<ul><li><a href="bot-support.html">Bot Support</a> &ndash; Main topic<ul><li><a href="bot-pathing.html">Bot Pathing</a> &ndash; Concepts and elements of a bot path network<ul><li><a href="basic-bot-pathing.html">Basic Bot Pathing</a> &ndash; A tutorial on basic bot pathing</li>
</ul>
</li>
</ul>
</li>
<li><a href="pathing-2k4-flying-vehicles.html">Pathing 2k4 Flying Vehicles</a></li>
<li><a href="mapping-for-as-ut2004.html">Mapping for AS (UT2004)</a></li>
<li><a href="mapping-for-ons.html">Mapping for ONS</a></li>
<li><a href="mapping-for-vctf.html">Mapping for VCTF</a></li>
</ul>
<h2><a name="0.5"></a>Discussion</h2>
<p><em class="em2">(relaying Toonces' sentiments):</em> I hope this is helpful to everyone!</p>
<p><em class="em2">SuperApe:</em> Thank you, Toonces!  You da Cat!</p>
<p><em class="em2">SuperApe:</em> Edit.  Additional VCTF Notes added.  Somebody should write up a VehicleCTF or VCTF page.  EDIT: I will post the important stuff here on the wiki soon (after VCTF contest is over): <a href="http://forums.unrealplayground.com/showthread.php?t=23758">[Mapping for VCTF]</a>.</p>
<p><em class="em2">King Mango</em> Going to look for the proper place to post this, but in the meantime, to enable xloc in a VCTF game check <a href="http://forums.unrealplayground.com/showthread.php?t=24029">[this thread]</a> at Unreal Playground. (<em class="em2">SuperApe:</em> I think I got it up there now.)</p>
<p><em class="em2">Tarquin:</em> Use the # wiki markup for numbered lists please <img alt=":)" src="emoticons/smile.gif" align="middle"></p>
<p><em class="em2">Erdrik:</em> This is very help for pathing vehicles for VCTF, but I was wondering about Onslaught.  <em class="em1">Edit:</em> doh, Assultpaths work in Onslaught as well, my bad <img alt=":p" src="emoticons/tongue.gif" align="middle"></p>
<p><em class="em2">SuperApe:</em> Temporarily copying VCTF information to <a href="mapping-for-vctf.html">Mapping for VCTF</a> before I remove it from here.</p>
<p><em class="em2">Lucy:</em> The main problem I'm having with VCTF pathing is that the bots will get in a vehicle and immediately get out. On the rare occasion they stay in the vehicle, they will not drive it anywhere and just stay in place.</p>
<p><em class="em2">SuperApe:</em> This is a common pathing problem, akin to bots getting "stuck".  In this case, the bot knows the vehicle is desirable, but the destination isn't clear, so it jumps back out or sits there.  In real terms, this means the paths from the vehicle (spawn point) all the way to the enemy flag are not <u>all</u> white (the widest) paths.  Added Blit'z Pathing Tut in External Links, which includes this explanation on the "white road":</p>
<blockquote><p><em class="em1">In other words, think of this as a single, white road that connects to each vehicle and each objective. Bots will only understand how to reach objectives if there is a white route from the vehicle they just hopped into to the objective they're seeking. If this route doesn't exist, then the bot will abandon the vehicle and proceed on foot.</em></p>
</blockquote><p><em class="em2">LionsPhil:</em> Aww. Am I so wrong for feeling sorry for bots who have found a shiny tank to play with, but can't work out where to take it? <img alt=";)" src="emoticons/wink.gif" align="middle"></p>
<hr class="thin"><p><a href="category-mapping.html">Category Mapping</a></p>
<script type="text/javascript"><!--
 menuItemAdd("Parking Spots", "#0.0.1");
menuItemAdd("RoadPathNodes", "#0.0.2");
menuItemAdd("FlyingPathNodes", "#0.0.3");
menuItemAdd("Vehicle (VCTF) Pathing Info by Toonces T. Cat	", "#0.1");
menuItemAdd("Additional VCTF (VehicleCTF) Level Tips by Toonces T. Cat", "#0.2");
menuItemAdd("External Links", "#0.3");
menuItemAdd("Related Topics", "#0.4");
menuItemAdd("Discussion", "#0.5");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p><form method="post" action="http://wiki.beyondunreal.com/wiki" enctype="application/x-www-form-urlencoded">
<a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a><br>
Last edited November 24, 2006 22:01 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=Pathing_For_Vehicles">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/Pathing_For_Vehicles">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>
</form>
	</p>
	<p>My program doesn't have bugs. It just develops random features.
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="../index.html"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>


<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
