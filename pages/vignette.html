<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: Vignette</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=Vignette; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<form class="inline" method="post" action="/wiki" enctype="application/x-www-form-urlencoded"><input type="text" name="search"  size="20" /> <input type="submit" name="search" value="search" /></form>
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="http://wiki.beyondunreal.com/wiki?back=Vignette">Vignette</a></h1>
	<div class="wiki"><div class="classpath"><img src="shared//gameicons/icon-ut2003.png"> <a href="unreal-tournament-2003.html">UT2003</a> :: <a href="actor.html">Actor</a> &gt;&gt; Vignette (Package: Engine)<br></div>
<p>This class is abstract, transient and native.</p>
<p>A <em class="em2">vignette</em> in the Unreal Engine is essentially something that is shown to keep you busy while the engine does something. The prime example is the loading screens in UT2003.</p>
<p>A vignette is a very special type of actor because it is seemingly completely inert. One would have to wonder why it's even an actor, instead of just an object. Vignettes do not exist during gameplay, only in a transient state whenever the engine is busy.</p>
<h2><a name="0.1"></a>Properties</h2>
<dl><dt>string MapName</dt><dd>This will be filled in for you by the engine, if there is a relevant map name to display on the Vignette.</dd></dl>
<h3><a name="0.1.1"></a>UT2004 Only</h3>
<dl><dt>class&lt;<a href="gameinfo.html">GameInfo</a>&gt; GameClass</dt><dd>This variable is used in the subclass UT2k4ServerLoading<a href="http://wiki.beyondunreal.com/wiki?action=edit&id=UT2k4ServerLoading&referrerid=Vignette">?</a> to determine which gametype loading hints to display.</dd></dl>
<h2><a name="0.2"></a>Events</h2>
<dl><dt>Init() (simulated)</dt><dd>Init is called directly before the Vignettes first draw.</dd><dt>DrawVignette( <a href="canvas.html">Canvas</a> C, float Progress ) (simulated)</dt><dd>DrawVignette is essentially the same thing as PostRender - use it to draw graphics to the screen. DrawVignette also takes as an argument a float which in theory should show the progress of the map being loaded, but it doesn't seem to work. In UT2003, it's always 100%.</dd></dl>
<h2><a name="0.3"></a>Entry Point</h2>
<p>Vignettes are created natively. The native code that their creation resides in is in the <a href="engine.html">Engine</a> class. Fortunately, however, you do not need to subclass <a href="engine.html">Engine</a> to use a vignette you have created. The loading vignette is specified in the LoadingClass variable in <a href="engine.html">Engine</a>, which is a string. It is a config variable, so you can add an entry to the <a href="game-ini-file.html">Game ini file</a> or your [mod ini file]<a href="http://wiki.beyondunreal.com/wiki?action=edit&id=Mod_Ini_File&referrerid=Vignette">?</a> under the [Engine.GameEngine] section like this one:</p>
<pre class="uscript">LoadingClass<span class="uscript-operator">=</span>MyPackage<span class="uscript-operator">.</span>MyCustomVignette</pre><h2><a name="0.4"></a>Known Subclasses (UT2004)</h2>
<pre class="paraverbatim"> Vignette
   +- TestVignette<a href="http://wiki.beyondunreal.com/wiki?action=edit&id=TestVignette&referrerid=Vignette">?</a>
   +- UT2k4LoadingPageBase<a href="http://wiki.beyondunreal.com/wiki?action=edit&id=UT2k4LoadingPageBase&referrerid=Vignette">?</a>
   |      +- UT2k4SP_LadderLoading<a href="http://wiki.beyondunreal.com/wiki?action=edit&id=UT2k4SP_LadderLoading&referrerid=Vignette">?</a>
   |      +- UT2k4ServerLoading<a href="http://wiki.beyondunreal.com/wiki?action=edit&id=UT2k4ServerLoading&referrerid=Vignette">?</a>
   +- UT2LoadingPageBase<a href="http://wiki.beyondunreal.com/wiki?action=edit&id=UT2LoadingPageBase&referrerid=Vignette">?</a>
          +- UT2SP_LadderLoading<a href="http://wiki.beyondunreal.com/wiki?action=edit&id=UT2SP_LadderLoading&referrerid=Vignette">?</a></pre><h2><a name="0.5"></a>Discussion</h2>
<p><em class="em2">EricBlade:</em> It would appear that this is not an engine feature, and is specific to UT2003(4?).  <a href="land-of-the-dead.html">Land of the Dead</a>, for example, is build 2226, same as last build of UT2003, and although it has LoadingClass in the GameEngine, it doesnt appear to be called at any point. Can anyone confirm that, or that I'm somehow using it incorrectly?</p>
<p><em class="em2">MythOpus:</em> I do believe that Vignettes are the loading screens each of the gametypes.  You don't see it being called anyways because I think the engine only calls it's sub-classes.</p>
<p><em class="em2">EricBlade:</em> Well, I don't have a Vignette class that is declared native, like the UT2003 code has.  Can anyone confirm if Vignette is in the Runtime release?</p>
<p><em class="em2">Wormbo:</em> The UE2 Runtime has the ConnectingMenuClass property in <a href="gameengine.html">GameEngine</a>, but no Vignette class.</p>
<p><em class="em2">EricBlade:</em> UE Runtime has the ConnectingMenuClass property, but it doesn't appear to be used, as far as I can tell.</p>
<hr class="thin"><p><em class="em2">SuperApe:</em> Added UTk4 variable.  Subclass tree added.  Wikified.  Does anyone know where/when the GameClass property is filled in for Vignette?  UT2k4ServerLoading<a href="http://wiki.beyondunreal.com/wiki?action=edit&id=UT2k4ServerLoading&referrerid=Vignette">?</a> will complain that my custom gametype is invalid (GameClass property missing) if I do not run the map through the UT2k4 Menu system.  If I run the map by double-clicking, upon map switch, UT2k4ServerLoading will not display the loading hints and a warning is logged that this property was not passed properly.  Anyone have experience with this?</p>
<p><em class="em2">SuperApe:</em> After a little investigation and tests, I find that even stock maps/gametypes have this problem: if you start the map by double-clicking (or opening) the map file, the vignette will fail to load the proper gametype loading hints when the map changes after match end.  It gives the same warning (invalid gametype) in the log file, even for Deathmatch.  This is obviously a stock code bug.</p>
<hr class="thin"><p><a href="category-class-ut2003.html">Category Class (UT2003)</a></p>
<p><a href="category-class-ut2004.html">Category Class (UT2004)</a></p>
<p><a href="refactor-me.html">Refactor Me</a></p>
<script type="text/javascript"><!--
 menuItemAdd("Properties", "#0.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>UT2004 Only", "#0.1.1");
menuItemAdd("Events", "#0.2");
menuItemAdd("Entry Point", "#0.3");
menuItemAdd("Known Subclasses (UT2004)", "#0.4");
menuItemAdd("Discussion", "#0.5");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p><form method="post" action="http://wiki.beyondunreal.com/wiki" enctype="application/x-www-form-urlencoded">
<a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a><br>
Last edited July 30, 2006 21:53 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=Vignette">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/Vignette">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>
</form>
	</p>
	<p>The three virtues of a programmer: Laziness, Impatience, and Hubris. (Larry Wall)
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="../index.html"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>


<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
