<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: Movers With More Than 8 Keys</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=Movers_With_More_Than_8_Keys; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<input type="text" name="search"  size="14" /> <input type="button" onclick="location.href='../search-error/index.html';" value="search" />
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="http://wiki.beyondunreal.com/wiki?back=Movers With More Than 8 Keys">Movers With More Than 8 Keys</a></h1>
	<div class="wiki"><p><em class="em3">This is a work around for</em> <a href="unreal-tournament.html">UT</a>.</p>
<p><a href="unreal-tournament-2003.html">UT2003</a>, <a href="unreal-tournament-2004.html">UT2004</a>, UE2<a href="http://wiki.beyondunreal.com/wiki?action=edit&id=UE2&referrerid=Movers_With_More_Than_8_Keys">?</a>, <em class="em2">and likely</em> <a href="unreal-2.html">U2</a> <em class="em2">support up to 256 keyframes.  8 can be set from the right-click menu, the rest must be set using Mover Properties.</em></p>
<pre class="paraverbatim"> </pre><h2><a name="0.1"></a>Overview: How to make a Monorail</h2>
<p>By <em class="em2">Pitboy</em></p>
<p>Until Epic, or someone in the mapping community clever enough to code a script to allow movers to have more than 7(+1) keys, we are stuck with this limitation. There is a way around it however. It just takes a little patience and some simple math...</p>
<p>The mover that you create (monorail, helicopter, ect.) has NO key points itself.</p>
<p>What we are going to do is make a few other mini movers I call 'MoverGuides' and attach the mover to the first of these.</p>
<h2><a name="0.2"></a>The main mover </h2>
<p>Create a large room (say, 256x1024x1024) and Re-build Geometry. </p>
<p><a href="create-a-mover.html">Create a mover</a> the usual way, maybe just a platform (16x64x128). </p>
<p><a href="set-the-following-propertie.html">Set the following Properties</a> for your mover:</p>
<ul><li>Movement &rarr; Attach Tag = 'MG1' </li>
<li>Mover &rarr; MoverEncroachType = 'IgnoreWhenEncroach'</li>
<li>Object &rarr; InitialState = 'None'</li>
</ul>
<h2><a name="0.3"></a>The mover guides</h2>
<p>Select a unique texture not used elsewhere in your new room. Make a cube 2x4x4 and add it to your level. Cut the rectangle into a triangle. Using a triangle helps you keep track of the direction it's heading in. Make this triangle into a mover the usual way (just do not delete the blue triangle when you're done). </p>
<p>Note: Just make a regular mover, NOT an Attach Mover. I find it's easy to make about 10 MoverGuides at this time (just click the mover button 10 times) if you don't know yet how many total keys you want, or if you later screw one up. Delete the leftovers when you're done. In this example, we will use six of them.</p>
<p>At this point, in the Top View, I will arrange all the MoverGuides into a neat row to make changing each of their properties quicker. Move the blue triangle to the side where you can later easily select it.</p>
<p>Select ALL of the MoverGuides, and change their following properties... </p>
<ul><li>Events &gt; Tag... 'MG'</li>
<li>Movement &gt; Attach Tag... 'MG'</li>
<li>Mover &gt; MoverGlideType... 'MV_MoveByTime'</li>
<li>Mover &gt; NumKeys... '8'</li>
<li>Object &gt; InitialState... TriggerOpenedTimed</li>
</ul>
<p>Now to adjust each one...</p>
<p>Go to the first one and change...</p>
<p>Event &gt; Tag to 'MG1'</p>
<p>Movement &gt; Attach Tag... 'MG2' </p>
<p>Go to the second one and change...</p>
<p>Event &gt; Tag to 'MG2'</p>
<p>Movement &gt; Attach Tag... 'MG3' </p>
<p>Go to the third one and change...</p>
<p>Event &gt; Tag to 'MG3'</p>
<p>Movement &gt; Attach Tag... 'MG4' </p>
<p>Go to the fourth one and change...</p>
<p>Event &gt; Tag to 'MG4'</p>
<p>Movement &gt; Attach Tag... 'MG5<em class="em1"> </em></p>
<p>Go to the fifth one and change...</p>
<p>Event &gt; Tag to 'MG5'</p>
<p>Movement &gt; Attach Tag... 'MG6'</p>
<p>The final one will be a little different...</p>
<p>Go to the sixth one and change...</p>
<p>Event &gt; Tag to 'MG6'</p>
<p>BUT leave Movement &gt; Attach Tag... to 'None'</p>
<p>Also, while they are all selected, right click on one of them and select 'Movers &gt; Show Polys. They should now all be visible in the 3-D window. Right click on one of it's sides (make sure it has that unique texture) and select 'Select Surfaces' &gt; 'Matching Textures' (or use Shift + T). All the Mover Guide's surfaces should now be highlighted. Hit F5 (Surface Properties) and on the Flags tab tick off 'Invisible' and 'Unlit'. I'm assuming this saves the game engine a bit of stress, not having to draw or light these. Go back to Top View and select all the MoverGuides (if they aren't already), the platform mover and the blue triangle. Right click on one of the highlighted brushes (should be 12 of them) and select Transform &gt;Transform Permanently (you could also do these separately, this way is quicker) </p>
<p>Re-build Geometry and save. </p>
<p>Move the platform mover just off the ground somewhere in the room. From the Top View, place the first Mover Guide (MG1) AND the blue triangle to the same spot in the middle of the platform. Make sure they are pointing towards the front of the mover in the direction it will head. From a side 2D view, lower MG1 so it's somewhere below your level (underground). At this point I will move all the other MG's to the same Z axis (height) below ground as MG1. Switch back to the top view. As you created MG1 after the added brush, MG1 should cover up the triangle.</p>
<p>For this example, have MG1 point to the right while looking through the Top View. You should stay in Top View from this point on. </p>
<p>NOTE: Every time you select one of the MG's, make sure its pivot point the dot in the middle, or the front tip. </p>
<p>Right click MG1 and select Movers &gt; Key 1.</p>
<p>It is important to keep in mind that the MG's should be placed (roughly) equally apart. Otherwise, your mover will speed up and slow down while traveling (unless this is what you want). Now, select the mover, triangle and MG1 (I usually just Left Control and draw a box around all three) and drag them 256 units to the right. </p>
<p>Left click MG1 so it is the only thing highlighted, Now, right click it and select Movers &gt; Key 2. MG1 should snap back to its original position (Key1). Drag it so it's back over top of the blue triangle. Select all three again, and drag them to the right 128 units and up 128 units. Now rotate them (Left CTRL + Right mouse button) so that they are angled 45 degrees up. We are going to go around a corner, so they will be next be heading up. </p>
<p>Again left click MG1 so it is the only thing highlighted, Right click it and select Movers &gt; Key 3. After it snaps back, drag it on top of the triangle again. Make sure it is angled correctly as well. The reason we take the blue triangle along for all of this is that it not only makes it easy to find the center of the mover, but also the current angle of the mover.</p>
<p>Drag all three 128 units right and 128 units up. Angle them another 45 degrees up (now facing straight up) and Left click MG1 so it is the only thing highlighted, then right click and select Key 4. Drag MG1 back over top the triangle...</p>
<p>To keep this from being 80 pages long, continue to move all three around to where you want... right clicking MG1 and setting the next key point, then drag it back on top of the triangle and moving all three to the next spot. Assuming you've set them up to key 7, move them to one last point somewhere, and select MG1, and set this spot as Key 0 (base). After it snaps back, leave it there.</p>
<p>Grab MG2 and place it on top of the blue triangle, (and angle it so it's pointing in the same direction) so the blue triangle is hidden beneath. Right click MG2 and select Movers &gt; Key 1. At this spot, MG1 stops moving and MG2 takes over. Move your mover, the triangle and MG2 through 7 more key frames. ('1' is where the previous mover ended, '0 (Base)' is where the next MoverGuide will start). To quickly finish up our example, continue using this method till you have used up 6 of the MoverGuides. Make MG6's final key point (0 Base) is lined up back on top of MG1 to complete the route (before MG6 snaps back to its starting position).</p>
<p>Add into your map one regular trigger (Actor &gt; Triggers &gt; +Trigger) and two dispatchers (Actor &gt; Triggers &gt; Dispatcher) </p>
<p>Place the trigger on the platform so it can be activated when someone stands on it. Set in the trigger's Properties...</p>
<p>Events &gt; Event to 'Mdisp1' </p>
<p>Trigger &gt; TriggerOnlyOnce to 'True'.</p>
<p>Give the first dispatcher a tag of 'Mdisp1'. </p>
<p>Give the second dispatcher a tag of 'Mdisp2'.</p>
<p>It doesn't matter where they are placed.</p>
<p>Now for the math...</p>
<p>We left all the MG's Properties &gt; Mover &gt; MoveTime at '1' (one second). So we know it will reach the spot where MG2 is in 7 seconds.</p>
<p>Select Mdisp1 and open Properties &gt; Dispatcher, and expand OutDelays and OutEvents. </p>
<p>Type in OutDelays... </p>
<p>(0) '0'</p>
<p>(1) '7'</p>
<p>(2) '7'</p>
<p>(3) '7'</p>
<p>(4) '7'</p>
<p>(5) '7'</p>
<p>(6) '63'</p>
<p>(7) '0<em class="em1"></em></p>
<p>Type in OutEvents... </p>
<p>(0) 'MG1'</p>
<p>(1) 'MG2'</p>
<p>(2) 'MG3'</p>
<p>(3) 'MG4'</p>
<p>(4) 'MG5'</p>
<p>(5) 'MG6'</p>
<p>(6) 'Disp2'</p>
<p>(7) 'None'</p>
<p>When a player stands on the platform, it will activate the trigger, which calls whatever is in its 'Event', in this case the dispatcher Mdisp1. Mdisp1 one will look at its OutDelays, wait the appropriate time, and then activate what is in line (1) of its OutEvents. Because we want it to start right away, we left OutEvents (1) at '0'.</p>
<p>Each MoverGuide needs to be activated 7 seconds later, so we put '7' in lines (2) through (5) of OutDelays.</p>
<p>So now, the player gets on the platform, activates the trigger which calls Mdisp1 which activates MG1. It will go through its 7 key frames and stop on top of MG2, (taking the platform with it because the platforms AttachTag is MG1). At this exact moment Mdisp1 activates MG2, and MG2 heads off on its key frames, taking MG1 with it because its AttachTag is MG2. This continues till the last MoverGuide (MG6) lands on the spot where we started out.</p>
<p>Next we have to set each of the following MoverGuides Properties &gt; Mover &gt; StayOpenTime. We left this till now because this number depends on the amount of MoverGuides we used (6), and the MoveTimes of them (1 sec)</p>
<p>Select the last MoverGuide we used (MG6), and set its StayOpenTime to '7'</p>
<p>Select MG5 and set its StayOpenTime to '21'</p>
<p>Select MG4 and set its StayOpenTime to '35'</p>
<p>Select MG3 and set its StayOpenTime to '49'</p>
<p>Select MG2 and set its StayOpenTime to '63'</p>
<p>Select MG1 and set its StayOpenTime to '77'</p>
<p>See the pattern? </p>
<p>The last thing to do is figure out when line 6 of Disp2 should be called to make it an endless loop (so the platform keeps moving). Dispatchers can't call (activate) themselves, but they can call a second dispatcher, which in turn can call the first dispatcher (in 0.0 seconds!). As you may have noted, the DelayTimes in dispatchers count up from 0 at each OutEvent they come to. So...</p>
<p>After MG6 is called, we have to start counting. It takes...</p>
<p>7 seconds to get to its last key (0 base - also the starting point of the monorail)</p>
<p>7 seconds to stay there (its StayOpenTime)</p>
<p>7 seconds to get back to its first key</p>
<p>7 seconds to for MG5 to travel back to its first key</p>
<p>7 seconds to for MG4 to travel back to its first key</p>
<p>7 seconds to for MG3 to travel back to its first key</p>
<p>7 seconds to for MG2 to travel back to its first key</p>
<p>7 seconds for MG1 to get to its first key (also the starting point of the monorail)</p>
<p>7 seconds for it to wait before you have it go again </p>
<p>This adds up to 63. So we put in '63' at line (6) of Mdisp1's OutDelays</p>
<p>Now select Mdisp2 and open Properties &gt; Dispatcher, and expand OutDelays and OutEvents. </p>
<p>Set line (0) of OutDelays to '0'</p>
<p>Set line (0) of OutEvents to 'Mdisp1'</p>
<p>So after the platform has gone around it route, paused, and returned... Mdisp1 activates Mdisp2 which in turn activates Mdisp1 and the platform heads off again.</p>
<p>If you look at the small sample map, you can see the MoverGuides in action. </p>
<p>If you open the Monorail map, you'll see there are two monorails, blue and red. I first laid out the blue monorail's MoverGuides (BMONO1-8). When I added in the red monorails MoverGuides (RMONO1-8) opposite the first one, I put its first MoverGuide on top of the blue Monorail1's 5th key frame. (Each of these monorails have 8 MoverGuides, and the 5th key frame is the halfway point). </p>
<p>You can download this tutorial, a small monorail map, and the tutorial map here...</p>
<p><a href="http://www.planetunreal.com/prefabl...ailtutorial.zip">http://www.planetunreal.com/prefabl...ailtutorial.zip</a></p>
<h2><a name="0.4"></a>Coments</h2>
<p><em class="em2">Sett:</em> : I posted this tute' on Pitboy's behalf.</p>
<p>More to come!</p>
<p><em class="em2">SabbathCat:</em> : The download link is broken. Can't find on google. Anyone from prefablab got fileplanet access? <img alt=":)" src="emoticons/smile.gif" align="middle"></p>
<p><em class="em2">Ticalion:</em> : Your gonna love me <em class="em2">SabbathCat</em> we have it hosted over at UTmaniac <img alt=":)" src="emoticons/smile.gif" align="middle"> the link to the Download is </p>
<p><a href="http://www.utmaniac.com/sitestuff/ut2k3featured/monorailfiles/monorailtutorial.zip">http://www.utmaniac.com/sitestuff/ut2k3featured/monorailfiles/monorailtutorial.zip</a></p>
<hr class="thin"><p><a href="category-mapping.html">Category Mapping</a><br><a href="category-to-do.html">Category To Do</a> &ndash; format this page</p>
<script type="text/javascript"><!--
 menuItemAdd("Overview: How to make a Monorail", "#0.1");
menuItemAdd("The main mover ", "#0.2");
menuItemAdd("The mover guides", "#0.3");
menuItemAdd("Coments", "#0.4");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p>
<a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a><br>
Last edited April 6, 2006 18:08 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=Movers_With_More_Than_8_Keys">(diff)</a><br>Search: <input type="text" name="search"  size="14" /><input type="button" onclick="location.href='../search-error/index.html';" value="search" /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/Movers_With_More_Than_8_Keys">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>

	</p>
	<p>Always snap to grid
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="../index.html"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>


<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
