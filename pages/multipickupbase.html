<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: MultiPickupBase</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=MultiPickupBase; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<form class="inline" method="post" action="/wiki" enctype="application/x-www-form-urlencoded"><input type="text" name="search"  size="20" /> <input type="submit" name="search" value="search" /></form>
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="(start).html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a> | <a href="http://wiki.beyondunreal.com/wiki?action=editprefs">Preferences</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="http://wiki.beyondunreal.com/wiki?back=MultiPickupBase">MultiPickupBase</a></h1>
	<div class="wiki"><div class="classpath"><img src="shared//gameicons/icon-ut2003.png"> <a href="unreal-tournament-2003.html">UT2003</a> :: <a href="actor.html">Actor</a> &gt;&gt; <a href="xpickupbase.html">xPickUpBase</a> &gt;&gt; MultiPickupBase (Package: MultiPickup)<br></div>
<p>The MultiPickupBase is an <a href="xpickupbase.html">xPickUpBase</a> subclass similar to the <a href="wildcardbase.html">WildcardBase</a> which can spawn different types of <a href="pickup.html">pickup</a>s.</p>
<p>It was made for Chaos UT 2: Evolution by <a href="wormbo.html">Wormbo</a> to replace the limited <a href="multiitem.html">MultiItem</a> used in the UT version and add features similar to those available in the <a href="enhanceditems.html">MultiPickupPlus</a> class. All pickup types are supported and you can add as many as you like.</p>
<p>By default the first pickups is selected randomly, but you can also specify one of the pickups in the list. A new pickup will always be spawned after the current one has been picked up (after that pickup's RespawnTime), but you can also enable respawning after a certain time interval. In this case every pickup can have its own interval or use the default interval. The pickups can either be spawned in sequential or random order. In random order every pickup can have different chances to spawn. Pickups with a higher rating will spawn more often than those with a lower rating.</p>
<p>The MultiPickupBase is designed to work when placed in a map and when created by a mutator. See <em class="em1">Using the MultiPickupBase In A Mutator</em> below.</p>
<h2><a name="0.1"></a>Download</h2>
<p>Just extract the files to your UT2003\System directory and you're ready to use it.</p>
<p><a href="http://www.koehler-homepage.de/Wormbo/downloads/UT2003/MultiPickup.zip">http://www.koehler-homepage.de/Wormbo/downloads/UT2003/MultiPickup.zip</a> (15 kB)</p>
<h2><a name="0.2"></a>Properties</h2>
<h3><a name="0.2.1"></a>PickUpBase Group (inherited from <a href="xpickupbase.html">xPickUpBase</a>)</h3>
<dl><dt>class&lt;<a href="pickup.html">Pickup</a>&gt; PowerUp</dt><dd>The initial value of this property is not used by the MultiPickupBase.</dd><dt>float SpawnHeight</dt><dd>With bNoVisibleBase=False pickups are spawned this distance above the pickup base. With bNoVisibleBase=True pickups are spawned this distance <em class="em1">plus their CollisionHeight</em> above the base.</dd><dt>class&lt;<a href="emitter.html">Emitter</a>&gt; SpiralEmitter</dt><dd>This emitter is spawned for the pickup base unless bNoVisibleBase is set to True.</dd></dl>
<h3><a name="0.2.2"></a>MultiPickupBase Group</h3>
<dl><dt>bool bAllowReset</dt><dd>Advanced. Allows the gametype to reset the MultiPickupBase to its initial state when it resets the map.</dd><dt>bool bChangeOnlyOnPickup (protected)</dt><dd>Setting this to True will cause a behavior similar to the WildcardBase: A new pickup will only be spawned after the previous one was picked up. Setting it to False means that the pickup will be replaced after a certain amount of time if it didn't get picked up.</dd><dt>bool bNoVisibleBase</dt><dd>Hides the MultiPickupBase. Setting this to true causes the MultiPickupBase to be invisible and the SpiralEmitter will not be used. Also SpawnHeight works a bit differently. (see above)</dd><dt>bool bRandomAfterPickup</dt><dd>If set to True this will override the bSequential property if the previous pickup was picked up by a player. The next pickup will be selected randomly then. Using this only makes sense when bChangeOnlyOnPickup is set to False.</dd><dt>bool bSequential</dt><dd>This specifies whether new pickups should be spawned in the order they were listed. This doesn't affect the first pickup spawned.</dd><dt>bool bTriggerable</dt><dd>Allows the mapper to trigger this MultiPickupBase. It will spawn a new pickup when triggered, regardless whether the previous pickup is still there (that pickup will be removed first) or was picked up.</dd><dt>float DefaultDuration</dt><dd>The default duration for each pickup to stay around before another pickup is spawned. This has no effect if bChangeOnlyOnPickup is set to True.</dd><dt>float DefaultSpawnRating</dt><dd>The default spawn rating for each pickup. This will affect both the random initial pickup selection and the random selection after pickup or timeout.</dd><dt>array&lt;PickupType&gt; PickupTypes</dt><dd>Contains a list of pickups to spawn. You can set the PickupClass, Duration and SpawnRating for each pickup in the list. Both Duration and SpawnRating can be set to 0 to use the default duration or spawn rating respectively. See PickupType struct below.</dd><dt>class&lt;<a href="actor.html">Actor</a>&gt; RespawnEffectClass</dt><dd>This Actor will be spawned right before a new pickup is spawned. The default is UT2003's default respawn effect for pickups.</dd><dt>float RespawnEffectTime</dt><dd>After spawning the respawn effect the MultiPickupBase will wait for this amount of time to pass before actually spawning the pickup.</dd><dt>int StartingItem</dt><dd>Specifies, which pickup from the list is spawned when the map starts. Setting this to a negative value will randomly select a pickup from the list.</dd></dl>
<h3><a name="0.2.3"></a>Internal Variables</h3>
<dl><dt>float AdditionalRespawnWait (protected)</dt><dd>Used to store the remaining sleeping time of the old pickup if it is in Sleeping state when it should be replaced. </dd><dt>bool bDebugMode (localized)</dt><dd>The MultiPickupBase has a built-in debug mode which causes log file output for its more important functionality. To enable this mode simply create or open the file MultiPickup.int in your UT2003\System directory and put the following two lines in it:<pre>
[MultiPickupBase]
bDebugMode=True</pre></dd><dt>bool bInitialized (protected)</dt><dd>Whether the first pickup was spawned.</dd><dt>bool bWasPickedUp (protected)</dt><dd>Set to true if the pickup should be replaced but was picked up already.</dd><dt>int CurrentClass (protected)</dt><dd>Currently selected pickup list index.</dd><dt>int NumClasses (protected)</dt><dd>Number of classes in the pickup list.</dd><dt><a href="pickup.html">Pickup</a> oldPickup (protected)</dt><dd>Temporary reference to the old pickup before it gets destroyed.</dd></dl>
<h2><a name="0.3"></a>Structs</h2>
<h3><a name="0.3.1"></a>PickupType</h3>
<dl><dt>float Duration</dt><dd>This specifies the duration in seconds the pickup stays available before it is replaced by another pickup if the MultiPickupBase is in "timed pickup change" mode. (bChangeOnlyOnPickup = False) Leave this 0 to use the DefaultDuration.</dd><dt>class&lt;<a href="pickup.html">Pickup</a>&gt; PickupClass</dt><dd>The Pickup class to spawn.</dd><dt>float SpawnRating</dt><dd>A value greater than 0 that specifies, how often the pickup should be selected. A higher value (relative to the SpawnRatings of other pickups) means "spawn more often". Set this to 0 to use the DefaultSpawnRating.</dd></dl>
<h2><a name="0.4"></a>Methods</h2>
<h3><a name="0.4.1"></a>Static Methods</h3>
<p>These functions are designed to be called from other classes, e.g. <a href="mutator.html">Mutator</a>s, to create a new MultiPickupBase.</p>
<dl><dt>MultiPickupBase ConvertToMPB (<a href="actor.html">Actor</a> Other, optional string MPBClassName) [final]</dt><dd>Takes a Pickup or xPickupBase actor and converts it into a MultiPickupBase, which is returned. If the name of a MultiPickupBase class is specified, then that MultiPickupBase class is spawned and the original Pickup or the content of the xPickupBase is added to the new MultiPickupBase. This also works with a WildcardBase.<br>If no MultiPickupBase class is specified, then a MultiPickup.xMultiPickupBase is spawned.</dd><dt>MultiPickupBase ReplaceWithMPB (<a href="actor.html">Actor</a> Other, optional string MPBClassName) [final]</dt><dd>Takes a Pickup or xPickupBase actor and replaces it with a MultiPickupBase, which is returned. If the name of a MultiPickupBase class is specified, then that MultiPickupBase class is spawned, otherwise a MultiPickup.xMultiPickupBase is spawned.<br>If no MultiPickupBase class is specified, then a MultiPickup.xMultiPickupBase is spawned.</dd></dl>
<h3><a name="0.4.2"></a>Public Methods</h3>
<dl><dt>bool AddPickup (coerce string NewClassName, optional float NewDuration, optional float NewRating)</dt><dd>Adds an item to this MultiPickupBase. A new item will only be added if it isn't present in the list.<br>Returns true if the item already was in the list or was added successfully. (Used by mutators.)</dd><dt>bool ItemIsIn (class&lt;<a href="pickup.html">Pickup</a>&gt; TestClass)</dt><dd>Returns, whether a pickup class is already in this MultiPickupBase's list. Can be used by mutators to prevent adding items twice.</dd><dt>SetChangeOnlyOnPickup (bool bNewChangeMode)<br>bool GetChangeOnlyOnPickup ( )</dt><dd>Accessor methods for bChangeOnlyOnPickup.</dd><dt>Trigger (<a href="actor.html">Actor</a> Other, <a href="pawn.html">Pawn</a> EventInstigator)</dt><dd>Inherited from <a href="actor.html">Actor</a>. The MultiPickupBase can be triggered to immediately spawn a new pickup.</dd><dt>Reset ( )</dt><dd>Inherited from <a href="actor.html">Actor</a>. Resets the MultiPickupBase to its initial state.</dd></dl>
<h2><a name="0.5"></a>Using the MultiPickupBase</h2>
<h3><a name="0.5.1"></a>...in a Map</h3>
<p>First make sure the MultiPickup package is loaded by either adding it to the EditPackage list in UT2003.ini or by manualy loading MultiPickup.u from the <a href="actor-class-browser.html">Actor Classes</a> browser.</p>
<p>To use MultiPickupBase just place it in the map like you would place any other pickup base. Unlike the <a href="wildcardbase.html">WildcardBase</a> a MultiPickupBase initialy doesn't have any pickups in its list, so open its <a href="actor-overview.html">Actor Properties</a> and go to the MultiPickupBase group to add pickups and change other options.</p>
<h3><a name="0.5.2"></a>...in a Mutator</h3>
<p>MultiPickupBases have their bStatic property set to true, i.e. they can't be spawned from a mutator. The MultiPickup package offers a special notplaceable subclass (xMultiPickupBase) with bStatic set to false which can be spawned from mutators, but won't work if directly placed in a map.</p>
<p>You should extract the MultiPickup package's source code and have a look at the MPBMutator class. The functions CheckPickupBase and CheckPickup illustrate the usage of basic features of the MultiPickupBase class. You can see that the MultiPickupBase can also be used for pickups that didn't have a pickup base.</p>
<p>To test the MPBMutator just create or open the file MultiPickup.int in your UT2003\System directory and add</p>
<pre>[Public]
Object=(Class=Class,MetaClass=Engine.Mutator,Name=MultiPickup.MPBMutator)</pre><p>to make the mutator appear in the mutator list. It will change three things:</p>
<ul><li>Add the Redeemer to the pickup base spawning the Ion Painter</li>
<li>Minigun ammo and grenade ammo will both spawn at both pickups' locations</li>
<li>The Shock Rifle will also spawn at the Link Gun's location (to demonstrate WeaponsStay behavior)</li>
</ul>
<p>You might want to enable the MultiPickupBase's debug mode when making mods using the MultiPickupBase to get additional information about what's going on.</p>
<h2><a name="0.6"></a>Known Subclasses</h2>
<ul><li>xMultiPickupBase (only used for mutators)</li>
</ul>
<h2><a name="0.7"></a>Related Topics</h2>
<ul><li><a href="third-party-components.html">Third-Party Components</a></li>
</ul>
<hr class="thin"><p><a href="category-class-ut2003.html">Category Class (UT2003)</a><br><a href="category-custom-class.html">Category Custom Class</a></p>
<script type="text/javascript"><!--
 menuItemAdd("Download", "#0.1");
menuItemAdd("Properties", "#0.2");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>PickUpBase Group (inherited from <a href=\"xpickupbase.html\">xPickUpBase</a>)", "#0.2.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>MultiPickupBase Group", "#0.2.2");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Internal Variables", "#0.2.3");
menuItemAdd("Structs", "#0.3");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>PickupType", "#0.3.1");
menuItemAdd("Methods", "#0.4");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Static Methods", "#0.4.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Public Methods", "#0.4.2");
menuItemAdd("Using the MultiPickupBase", "#0.5");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>...in a Map", "#0.5.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>...in a Mutator", "#0.5.2");
menuItemAdd("Known Subclasses", "#0.6");
menuItemAdd("Related Topics", "#0.7");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p><form method="post" action="http://wiki.beyondunreal.com/wiki" enctype="application/x-www-form-urlencoded">
<a href="(start).html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a> | <a href="http://wiki.beyondunreal.com/wiki?action=editprefs">Preferences</a><br>
<a href="http://wiki.beyondunreal.com/wiki?action=edit&id=MultiPickupBase">Edit text of this page</a> | <a href="http://wiki.beyondunreal.com/wiki?action=history&id=MultiPickupBase">View other revisions</a><br>Last edited October 18, 2005 17:30 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=MultiPickupBase">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/MultiPickupBase">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>
</form>
	</p>
	<p>Describe the new page here.
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="http://wiki.beyondunreal.com/"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>
<p><a href="/cgi-bin/imageupload.cgi/wiki-ext/imageupload.htt" target="_blank ">Image Uploads</a></p>
<p><a href="http://wiki.beyondunreal.com/wiki?action=random">Random Page</a></p>
<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
