<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: EricBlade/Emitters</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=EricBlade/Emitters; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<input type="text" name="search"  size="14" /> <input type="button" onclick="location.href='../search-error/index.html';" value="search" />
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="ericblade.html">EricBlade</a>/<a href="http://wiki.beyondunreal.com/wiki?back=EricBlade/Emitters">Emitters</a></h1>
	<div class="wiki"><p>I've made some pretty neat looking weather emitters, and wanted to share them with everyone, since they did take me quite a while of toying with the parameters (even with guidance from UDN and Unrealwiki, the Rain one took me most of a day to tweak out).. I think it'd be really awesome if others wanted to share some of their emitter codes as well, as this is practically an arcane science, especially if you're totally new to this sort of thing.. (before working with <a href="land-of-the-dead.html">Land of the Dead</a> all my game experience has been in text-based games, both MUD and Web) </p>
<h3><a name="0.0.1"></a>Rain</h3>
<pre class="uscript"><span class="uscript-keyword">class</span> WeatherRain <span class="uscript-keyword">extends</span> Emitter<span class="uscript-operator">;</span>

<span class="uscript-keyword">DefaultProperties</span>
<span class="uscript-operator">{</span>
    bStatic <span class="uscript-operator">=</span> <span class="uscript-keyword">false</span>
    bNoDelete <span class="uscript-operator">=</span> <span class="uscript-keyword">false</span>
     Begin Object <span class="uscript-keyword">Class</span><span class="uscript-operator">=</span>SpriteEmitter <span class="uscript-type">Name</span><span class="uscript-operator">=</span>RainEmitter0
        StartVelocityRange<span class="uscript-operator">=</span><span class="uscript-operator">(</span>Z<span class="uscript-operator">=</span><span class="uscript-operator">(</span>Min<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">25000</span><span class="uscript-operator">,</span>Max<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">25000</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span>
        LifeTimeRange<span class="uscript-operator">=</span><span class="uscript-operator">(</span>Min<span class="uscript-operator">=</span><span class="uscript-number">0.0175</span><span class="uscript-operator">,</span>Max<span class="uscript-operator">=</span><span class="uscript-number">0.0175</span><span class="uscript-operator">)</span>
        MaxParticles<span class="uscript-operator">=</span><span class="uscript-number">400</span>
        UseDirectionAs<span class="uscript-operator">=</span>PTDU_Up
        StartSizeRange<span class="uscript-operator">=</span><span class="uscript-operator">(</span>X<span class="uscript-operator">=</span><span class="uscript-operator">(</span>Min<span class="uscript-operator">=</span><span class="uscript-number">0.1</span><span class="uscript-operator">,</span>Max<span class="uscript-operator">=</span><span class="uscript-number">1.0</span><span class="uscript-operator">)</span><span class="uscript-operator">,</span>Y<span class="uscript-operator">=</span><span class="uscript-operator">(</span>Min<span class="uscript-operator">=</span><span class="uscript-number">10</span><span class="uscript-operator">,</span>Max<span class="uscript-operator">=</span><span class="uscript-number">30</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span>
        StartLocationRange<span class="uscript-operator">=</span><span class="uscript-operator">(</span>X<span class="uscript-operator">=</span><span class="uscript-operator">(</span>Min<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">250</span><span class="uscript-operator">,</span>Max<span class="uscript-operator">=</span><span class="uscript-number">250</span><span class="uscript-operator">)</span><span class="uscript-operator">,</span>Y<span class="uscript-operator">=</span><span class="uscript-operator">(</span>Min<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">250</span><span class="uscript-operator">,</span>Max<span class="uscript-operator">=</span><span class="uscript-number">250</span><span class="uscript-operator">)</span><span class="uscript-operator">,</span>Z<span class="uscript-operator">=</span><span class="uscript-operator">(</span>Min<span class="uscript-operator">=</span><span class="uscript-number">300</span><span class="uscript-operator">,</span>Max<span class="uscript-operator">=</span><span class="uscript-number">400</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span>
        UseCollision<span class="uscript-operator">=</span><span class="uscript-keyword">True</span>
        DampingFactorRange<span class="uscript-operator">=</span><span class="uscript-operator">(</span>X<span class="uscript-operator">=</span><span class="uscript-operator">(</span>Min<span class="uscript-operator">=</span><span class="uscript-number">10000</span><span class="uscript-operator">,</span>Max<span class="uscript-operator">=</span><span class="uscript-number">10000</span><span class="uscript-operator">)</span><span class="uscript-operator">,</span>Y<span class="uscript-operator">=</span><span class="uscript-operator">(</span>Min<span class="uscript-operator">=</span><span class="uscript-number">10000</span><span class="uscript-operator">,</span>Max<span class="uscript-operator">=</span><span class="uscript-number">10000</span><span class="uscript-operator">)</span><span class="uscript-operator">,</span>Z<span class="uscript-operator">=</span><span class="uscript-operator">(</span>Min<span class="uscript-operator">=</span><span class="uscript-number">10000</span><span class="uscript-operator">,</span>Max<span class="uscript-operator">=</span><span class="uscript-number">10000</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span>
        AcceptsProjectors<span class="uscript-operator">=</span><span class="uscript-keyword">True</span>
        MaxCollisions<span class="uscript-operator">=</span><span class="uscript-operator">(</span>Min<span class="uscript-operator">=</span><span class="uscript-number">1</span><span class="uscript-operator">,</span>Max<span class="uscript-operator">=</span><span class="uscript-number">1</span><span class="uscript-operator">)</span>
        Texture<span class="uscript-operator">=</span>Texture<span class="uscript-name">'DATextures.Weather.Rain'</span>
            <span class="uscript-type">Name</span><span class="uscript-operator">=</span><span class="uscript-string">"RainEmitter0"</span>
     End Object
     Emitters<span class="uscript-operator">(</span><span class="uscript-number">0</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span>SpriteEmitter<span class="uscript-name">'UZGEffects.WeatherRain.RainEmitter0'</span>
     AmbientSound<span class="uscript-operator">=</span>Sound<span class="uscript-name">'DASounds.Environment.Rain'</span>
     SoundVolume<span class="uscript-operator">=</span><span class="uscript-number">148</span>
<span class="uscript-operator">}</span></pre><p>For the Rain example, the texture is something that looks vaguely like a raindrop, and it has an ambientsound attached that sounds like a slow rainfall.  This is not a downpour type of rain, with a 400 particle maximum, it runs fairly smoothly on my 2ghz pc, actually up to around 900 or so particles before i really notice any serious degradation.  Of course more intensive games like UT2k4 would probably be harder hit, but if you're running that, you've probably got better hardware than I do <img alt=":)" src="emoticons/smile.gif" align="middle">  I use this with a special <a href="weathereffect.html">WeatherEffect</a> actor that attaches the emitter to the player, so that you don't have to cover the entire level with the effect.  I think it looks pretty stunning.  </p>
<h3><a name="0.0.2"></a>Fog</h3>
<pre class="uscript"><span class="uscript-keyword">class</span> WeatherFog <span class="uscript-keyword">extends</span> Emitter<span class="uscript-operator">;</span>

<span class="uscript-keyword">DefaultProperties</span>
<span class="uscript-operator">{</span>
    bStatic <span class="uscript-operator">=</span> <span class="uscript-keyword">false</span>
    bNoDelete <span class="uscript-operator">=</span> <span class="uscript-keyword">false</span>
     Begin Object <span class="uscript-keyword">Class</span><span class="uscript-operator">=</span>SpriteEmitter <span class="uscript-type">Name</span><span class="uscript-operator">=</span>FogEmitter0
        FadeIn<span class="uscript-operator">=</span><span class="uscript-keyword">True</span>
        FadeInEndTime<span class="uscript-operator">=</span><span class="uscript-number">10</span>
        FadeOut<span class="uscript-operator">=</span><span class="uscript-keyword">True</span>
        FadeOutStartTime<span class="uscript-operator">=</span><span class="uscript-number">12</span>
        MaxParticles<span class="uscript-operator">=</span><span class="uscript-number">40</span>
        ResetAfterChange<span class="uscript-operator">=</span><span class="uscript-keyword">True</span>
        StartLocationRange<span class="uscript-operator">=</span><span class="uscript-operator">(</span>X<span class="uscript-operator">=</span><span class="uscript-operator">(</span>Min<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">128</span><span class="uscript-operator">,</span>Max<span class="uscript-operator">=</span><span class="uscript-number">128</span><span class="uscript-operator">)</span><span class="uscript-operator">,</span>Y<span class="uscript-operator">=</span><span class="uscript-operator">(</span>Min<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">128</span><span class="uscript-operator">,</span>Max<span class="uscript-operator">=</span><span class="uscript-number">128</span><span class="uscript-operator">)</span><span class="uscript-operator">,</span>Z<span class="uscript-operator">=</span><span class="uscript-operator">(</span>Min<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">,</span>Max<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span>
        AcceptsProjectors<span class="uscript-operator">=</span><span class="uscript-keyword">True</span>
        SpinParticles<span class="uscript-operator">=</span><span class="uscript-keyword">True</span>
        StartSizeRange<span class="uscript-operator">=</span><span class="uscript-operator">(</span>X<span class="uscript-operator">=</span><span class="uscript-operator">(</span>Min<span class="uscript-operator">=</span><span class="uscript-number">128</span><span class="uscript-operator">,</span>Max<span class="uscript-operator">=</span><span class="uscript-number">256</span><span class="uscript-operator">)</span><span class="uscript-operator">,</span>Y<span class="uscript-operator">=</span><span class="uscript-operator">(</span>Min<span class="uscript-operator">=</span><span class="uscript-number">128</span><span class="uscript-operator">,</span>Max<span class="uscript-operator">=</span><span class="uscript-number">256</span><span class="uscript-operator">)</span><span class="uscript-operator">,</span>Z<span class="uscript-operator">=</span><span class="uscript-operator">(</span>Min<span class="uscript-operator">=</span><span class="uscript-number">128</span><span class="uscript-operator">,</span>Max<span class="uscript-operator">=</span><span class="uscript-number">256</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span>
        AutomaticInitialSpawning<span class="uscript-operator">=</span><span class="uscript-keyword">True</span>
        DrawStyle<span class="uscript-operator">=</span>PTDS_Brighten
        LifetimeRange<span class="uscript-operator">=</span><span class="uscript-operator">(</span>Min<span class="uscript-operator">=</span><span class="uscript-number">90</span><span class="uscript-operator">,</span>Max<span class="uscript-operator">=</span><span class="uscript-number">90</span><span class="uscript-operator">)</span>
        StartVelocityRange<span class="uscript-operator">=</span><span class="uscript-operator">(</span>X<span class="uscript-operator">=</span><span class="uscript-operator">(</span>Min<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">20</span><span class="uscript-operator">,</span>Max<span class="uscript-operator">=</span><span class="uscript-number">20</span><span class="uscript-operator">)</span><span class="uscript-operator">,</span>Y<span class="uscript-operator">=</span><span class="uscript-operator">(</span>Min<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">10</span><span class="uscript-operator">,</span>Max<span class="uscript-operator">=</span><span class="uscript-number">10</span><span class="uscript-operator">)</span><span class="uscript-operator">,</span>Z<span class="uscript-operator">=</span><span class="uscript-operator">(</span>Min<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">1</span><span class="uscript-operator">,</span>Max<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">10</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span>
        WarmupTicksPerSecond<span class="uscript-operator">=</span><span class="uscript-number">1</span>
        RelativeWarmupTime<span class="uscript-operator">=</span><span class="uscript-number">1</span>
        Texture<span class="uscript-operator">=</span>Texture<span class="uscript-name">'DA_Particles1.fog1'</span>
         <span class="uscript-type">Name</span><span class="uscript-operator">=</span><span class="uscript-string">"FogEmitter0"</span>
     End Object
     Emitters<span class="uscript-operator">(</span><span class="uscript-number">0</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span>SpriteEmitter<span class="uscript-name">'UZGEffects.WeatherFog.FogEmitter0'</span>
<span class="uscript-operator">}</span></pre><p>This nifty Fog effect has a few advantages over using the traditional distance fog.  First, which is mentioned in the <a href="fog.html">Fog</a> page, is that it can swirl and move and drift and such, like real fog normally would, as compared to distance fog  (though distance fog can be used for some pretty scary effects!).. and the second thing, which I like the most about it, is that it's not nearly as uniform as the distance fog .. and the third thing is that it can be used to cover just a certain area (like, in an outdoor area, you could have it just over a lake in the distance) or used at a specific level, to just cover the ground without obscuring everything.  Ground fog can be put to some incredible mood enhancing effects.   I have not managed to get this to work very well with the <a href="weathereffect.html">WeatherEffect</a> class yet, as the player moves way too fast for the particles to catch up, but I hope to find a way around that.  Also, this one needs a LOT more tweaking for use in individual areas, than the rain does.  For the rain, you can pretty much just increase the affected area and the number of particles to add more/less, but for the fog, you need to also do that, and mess with the velocities, start location, particles, a lot more to get it to cover the right area without turning it into a complete and total whiteout.</p>
<h3><a name="0.0.3"></a>Discussion</h3>
<p><em class="em2">EricBlade:</em> I would love for anyone to comment, or add your own tips or codes/settings, the more we all have available, the better we all become <img alt=":)" src="emoticons/smile.gif" align="middle"></p>
<script type="text/javascript"><!--
 menuItemAdd("Rain", "#0.0.1");
menuItemAdd("Fog", "#0.0.2");
menuItemAdd("Discussion", "#0.0.3");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p>
<a href="../index.html">Home Page</a> | <a href="ericblade.html">EricBlade</a> | <a href="recent-changes.html">Recent Changes</a><br>
Last edited April 6, 2006 11:15 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=EricBlade/Emitters">(diff)</a><br>Search: <input type="text" name="search"  size="14" /><input type="button" onclick="location.href='../search-error/index.html';" value="search" /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/EricBlade/Emitters">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>

	</p>
	<p>Once I get that upgrade to 36-hour days, I will tackle that. (Mychaeel)
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="../index.html"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>


<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
