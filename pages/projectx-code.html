<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: ProjectX/Code</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=ProjectX/Code; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<input type="text" name="search"  size="14" /> <input type="button" onclick="location.href='../search-error/index.html';" value="search" />
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="../index.html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="projectx.html">ProjectX</a>/<a href="http://wiki.beyondunreal.com/wiki?back=ProjectX/Code">Code</a></h1>
	<div class="wiki"><p>Ok here is where you will see a lot of code that dont work cos im a n00b at coding, if u can please tell me what ive dun wrong and tell me how to crrect id be really greatful.</p>
<p>When i load the new bulldog in a level, it appears, but when i walk up to it, and press [use] i cant get in it. The code i've changed is: </p>
<pre class="uscript"><span class="uscript-line">00001</span>  <span class="uscript-exec">#exec OBJ LOAD FILE=..\staticmeshes\BulldogMeshes.usx</span>
<span class="uscript-line">00002</span>  <span class="uscript-exec">#exec OBJ LOAD FILE=..\sounds\WeaponSounds.uax</span>
<span class="uscript-line">00003</span>  <span class="uscript-exec">#exec OBJ LOAD FILE=..\textures\VehicleFX.utx</span>
<span class="uscript-line">00004</span>  
<span class="uscript-line">00005</span>  <span class="uscript-keyword">class</span> Betterbulldog <span class="uscript-keyword">extends</span> KCar
<span class="uscript-line">00006</span>      <span class="uscript-keyword">placeable</span><span class="uscript-operator">;</span>
<span class="uscript-line">00007</span>  
<span class="uscript-line">00008</span>  <span class="uscript-comment">// triggers used to get into the Bulldog</span>
<span class="uscript-line">00009</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">const</span> vector    FrontTriggerOffset<span class="uscript-operator">;</span>
<span class="uscript-line">00010</span>  <span class="uscript-keyword">var</span> BulldogTrigger  FLTrigger<span class="uscript-operator">,</span> FRTrigger<span class="uscript-operator">,</span> FlipTrigger<span class="uscript-operator">;</span>
<span class="uscript-line">00011</span>  
<span class="uscript-line">00012</span>  
<span class="uscript-line">00013</span>  <span class="uscript-comment">// headlight projector</span>
<span class="uscript-line">00014</span>  <span class="uscript-keyword">var</span> <span class="uscript-keyword">const</span> vector        HeadlightOffset<span class="uscript-operator">;</span>
<span class="uscript-line">00015</span>  <span class="uscript-keyword">var</span> BulldogHeadlight    Headlight<span class="uscript-operator">;</span>
<span class="uscript-line">00016</span>  <span class="uscript-keyword">var</span> <span class="uscript-type">bool</span>                HeadlightOn<span class="uscript-operator">;</span>
<span class="uscript-line">00017</span>  
<span class="uscript-line">00018</span>  <span class="uscript-comment">// Light materials</span>
<span class="uscript-line">00019</span>  <span class="uscript-keyword">var</span> Material            ReverseMaterial<span class="uscript-operator">;</span>
<span class="uscript-line">00020</span>  <span class="uscript-keyword">var</span> Material            BrakeMaterial<span class="uscript-operator">;</span>
<span class="uscript-line">00021</span>  <span class="uscript-keyword">var</span> Material            TailOffMaterial<span class="uscript-operator">;</span>
<span class="uscript-line">00022</span>  
<span class="uscript-line">00023</span>  <span class="uscript-keyword">var</span> Material            HeadlightOnMaterial<span class="uscript-operator">;</span>
<span class="uscript-line">00024</span>  <span class="uscript-keyword">var</span> Material            HeadlightOffMaterial<span class="uscript-operator">;</span>
<span class="uscript-line">00025</span>  
<span class="uscript-line">00026</span>  <span class="uscript-keyword">var</span> BulldogHeadlightCorona HeadlightCorona<span class="uscript-operator">[</span><span class="uscript-number">8</span><span class="uscript-operator">]</span><span class="uscript-operator">;</span>
<span class="uscript-line">00027</span>  <span class="uscript-keyword">var</span> <span class="uscript-operator">(</span>Bulldog<span class="uscript-operator">)</span> vector    HeadlightCoronaOffset<span class="uscript-operator">[</span><span class="uscript-number">8</span><span class="uscript-operator">]</span><span class="uscript-operator">;</span>
<span class="uscript-line">00028</span>  
<span class="uscript-line">00029</span>  <span class="uscript-comment">// Used to prevent triggering sounds continuously</span>
<span class="uscript-line">00030</span>  <span class="uscript-keyword">var</span> <span class="uscript-type">float</span>           UntilNextImpact<span class="uscript-operator">;</span>
<span class="uscript-line">00031</span>  
<span class="uscript-line">00032</span>  <span class="uscript-comment">// Wheel dirt emitter</span>
<span class="uscript-line">00033</span>  <span class="uscript-keyword">var</span> BulldogDust     Dust<span class="uscript-operator">[</span><span class="uscript-number">4</span><span class="uscript-operator">]</span><span class="uscript-operator">;</span> <span class="uscript-comment">// FL, FR, RL, RR</span>
<span class="uscript-line">00034</span>  
<span class="uscript-line">00035</span>  <span class="uscript-comment">// Distance below centre of tire to place dust.</span>
<span class="uscript-line">00036</span>  <span class="uscript-keyword">var</span> <span class="uscript-type">float</span>           DustDrop<span class="uscript-operator">;</span>
<span class="uscript-line">00037</span>  
<span class="uscript-line">00038</span>  <span class="uscript-comment">// Ratio between dust kicked up and amount wheels are slipping</span>
<span class="uscript-line">00039</span>  <span class="uscript-keyword">var</span> <span class="uscript-operator">(</span>Bulldog<span class="uscript-operator">)</span> <span class="uscript-type">float</span> DustSlipRate<span class="uscript-operator">;</span>
<span class="uscript-line">00040</span>  <span class="uscript-keyword">var</span> <span class="uscript-operator">(</span>Bulldog<span class="uscript-operator">)</span> <span class="uscript-type">float</span> DustSlipThresh<span class="uscript-operator">;</span>
<span class="uscript-line">00041</span>  
<span class="uscript-line">00042</span>  <span class="uscript-comment">// Maximum speed at which you can get in the vehicle.</span>
<span class="uscript-line">00043</span>  <span class="uscript-keyword">var</span> <span class="uscript-operator">(</span>Bulldog<span class="uscript-operator">)</span> <span class="uscript-type">float</span> TriggerSpeedThresh<span class="uscript-operator">;</span>
<span class="uscript-line">00044</span>  <span class="uscript-keyword">var</span> <span class="uscript-type">bool</span>            TriggerState<span class="uscript-operator">;</span> <span class="uscript-comment">// true for on, false for off.</span>
<span class="uscript-line">00045</span>  <span class="uscript-keyword">var</span> <span class="uscript-type">bool</span>            FlipTriggerState<span class="uscript-operator">;</span>
<span class="uscript-line">00046</span>  
<span class="uscript-line">00047</span>  <span class="uscript-comment">// Destroyed Buggy</span>
<span class="uscript-line">00048</span>  <span class="uscript-keyword">var</span> <span class="uscript-operator">(</span>Bulldog<span class="uscript-operator">)</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>Actor<span class="uscript-operator">&gt;</span>  DestroyedEffect<span class="uscript-operator">;</span>
<span class="uscript-line">00049</span>  <span class="uscript-keyword">var</span> <span class="uscript-operator">(</span>Bulldog<span class="uscript-operator">)</span> sound         DestroyedSound<span class="uscript-operator">;</span>
<span class="uscript-line">00050</span>  
<span class="uscript-line">00051</span>  <span class="uscript-comment">// Weapon</span>
<span class="uscript-line">00052</span>  <span class="uscript-keyword">var</span>           <span class="uscript-type">float</span> FireCountdown<span class="uscript-operator">;</span>
<span class="uscript-line">00053</span>  <span class="uscript-keyword">var</span>           <span class="uscript-type">float</span> SinceLastTargetting<span class="uscript-operator">;</span>
<span class="uscript-line">00054</span>  <span class="uscript-keyword">var</span>           Pawn  CurrentTarget<span class="uscript-operator">;</span>
<span class="uscript-line">00055</span>  
<span class="uscript-line">00056</span>  <span class="uscript-keyword">var</span> <span class="uscript-operator">(</span>Bulldog<span class="uscript-operator">)</span> <span class="uscript-type">float</span>     FireInterval<span class="uscript-operator">;</span>
<span class="uscript-line">00057</span>  <span class="uscript-keyword">var</span> <span class="uscript-operator">(</span>Bulldog<span class="uscript-operator">)</span> <span class="uscript-type">float</span>     TargettingInterval<span class="uscript-operator">;</span>
<span class="uscript-line">00058</span>  <span class="uscript-keyword">var</span> <span class="uscript-operator">(</span>Bulldog<span class="uscript-operator">)</span> vector    RocketFireOffset<span class="uscript-operator">;</span> <span class="uscript-comment">// Position (car ref frame) that rockets are launched from</span>
<span class="uscript-line">00059</span>  <span class="uscript-keyword">var</span> <span class="uscript-operator">(</span>Bulldog<span class="uscript-operator">)</span> <span class="uscript-type">float</span>     TargettingRange<span class="uscript-operator">;</span>
<span class="uscript-line">00060</span>  <span class="uscript-keyword">var</span> <span class="uscript-operator">(</span>Bulldog<span class="uscript-operator">)</span> Material  TargetMaterial<span class="uscript-operator">;</span>
<span class="uscript-line">00061</span>  
<span class="uscript-line">00062</span>  
<span class="uscript-line">00063</span>  <span class="uscript-comment">// Bulldog sound things</span>
<span class="uscript-line">00064</span>  <span class="uscript-keyword">var</span> <span class="uscript-operator">(</span>Bulldog<span class="uscript-operator">)</span> <span class="uscript-type">float</span> EnginePitchScale<span class="uscript-operator">;</span>
<span class="uscript-line">00065</span>  <span class="uscript-keyword">var</span> <span class="uscript-operator">(</span>Bulldog<span class="uscript-operator">)</span> sound BulldogStartSound<span class="uscript-operator">;</span>
<span class="uscript-line">00066</span>  <span class="uscript-keyword">var</span> <span class="uscript-operator">(</span>Bulldog<span class="uscript-operator">)</span> sound BulldogIdleSound<span class="uscript-operator">;</span>
<span class="uscript-line">00067</span>  <span class="uscript-keyword">var</span> <span class="uscript-operator">(</span>Bulldog<span class="uscript-operator">)</span> <span class="uscript-type">float</span> HitSoundThreshold<span class="uscript-operator">;</span>
<span class="uscript-line">00068</span>  <span class="uscript-keyword">var</span> <span class="uscript-operator">(</span>Bulldog<span class="uscript-operator">)</span> sound BulldogSquealSound<span class="uscript-operator">;</span>
<span class="uscript-line">00069</span>  <span class="uscript-keyword">var</span> <span class="uscript-operator">(</span>Bulldog<span class="uscript-operator">)</span> <span class="uscript-type">float</span> SquealVelThresh<span class="uscript-operator">;</span>
<span class="uscript-line">00070</span>  <span class="uscript-keyword">var</span> <span class="uscript-operator">(</span>Bulldog<span class="uscript-operator">)</span> sound BulldogHitSound<span class="uscript-operator">;</span>
<span class="uscript-line">00071</span>  
<span class="uscript-line">00072</span>  <span class="uscript-keyword">var</span> <span class="uscript-operator">(</span>Bulldog<span class="uscript-operator">)</span> <span class="uscript-type">String</span> BulldogStartForce<span class="uscript-operator">;</span>
<span class="uscript-line">00073</span>  <span class="uscript-keyword">var</span> <span class="uscript-operator">(</span>Bulldog<span class="uscript-operator">)</span> <span class="uscript-type">String</span> BulldogIdleForce<span class="uscript-operator">;</span>
<span class="uscript-line">00074</span>  <span class="uscript-keyword">var</span> <span class="uscript-operator">(</span>Bulldog<span class="uscript-operator">)</span> <span class="uscript-type">String</span> BulldogSquealForce<span class="uscript-operator">;</span>
<span class="uscript-line">00075</span>  <span class="uscript-keyword">var</span> <span class="uscript-operator">(</span>Bulldog<span class="uscript-operator">)</span> <span class="uscript-type">String</span> BulldogHitForce<span class="uscript-operator">;</span>
<span class="uscript-line">00076</span>  
<span class="uscript-line">00077</span>  <span class="uscript-keyword">replication</span>
<span class="uscript-line">00078</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00079</span>      <span class="uscript-keyword">reliable</span> <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>Role <span class="uscript-operator">==</span> ROLE_Authority<span class="uscript-operator">)</span>
<span class="uscript-line">00080</span>          HeadlightOn<span class="uscript-operator">,</span> CurrentTarget<span class="uscript-operator">;</span>
<span class="uscript-line">00081</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00082</span>  
<span class="uscript-line">00083</span>  <span class="uscript-keyword">function</span> PreBeginPlay<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00084</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00085</span>      <span class="uscript-keyword">Super</span><span class="uscript-operator">.</span>PreBeginPlay<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00086</span>      <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span> Level<span class="uscript-operator">.</span>IsDemoBuild<span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-operator">)</span>
<span class="uscript-line">00087</span>          Destroy<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00088</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00089</span>  
<span class="uscript-line">00090</span>  <span class="uscript-keyword">simulated</span> <span class="uscript-keyword">function</span> PostNetBeginPlay<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00091</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00092</span>      <span class="uscript-keyword">local</span> vector RotX<span class="uscript-operator">,</span> RotY<span class="uscript-operator">,</span> RotZ<span class="uscript-operator">;</span>
<span class="uscript-line">00093</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00094</span>  
<span class="uscript-line">00095</span>      <span class="uscript-keyword">Super</span><span class="uscript-operator">.</span>PostNetBeginPlay<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00096</span>  
<span class="uscript-line">00097</span>      GetAxes<span class="uscript-operator">(</span>Rotation<span class="uscript-operator">,</span>RotX<span class="uscript-operator">,</span>RotY<span class="uscript-operator">,</span>RotZ<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00098</span>  
<span class="uscript-line">00099</span>      <span class="uscript-comment">// Only have triggers on server</span>
<span class="uscript-line">00100</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>Level<span class="uscript-operator">.</span>NetMode <span class="uscript-operator">!=</span> NM_Client<span class="uscript-operator">)</span>
<span class="uscript-line">00101</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00102</span>          <span class="uscript-comment">// Create triggers for gettting into the Bulldog</span>
<span class="uscript-line">00103</span>          FLTrigger <span class="uscript-operator">=</span> spawn<span class="uscript-operator">(</span><span class="uscript-keyword">class</span><span class="uscript-name">'BetterbulldogTrigger'</span><span class="uscript-operator">,</span> <span class="uscript-keyword">self</span><span class="uscript-operator">,</span><span class="uscript-operator">,</span> Location <span class="uscript-operator">+</span> FrontTriggerOffset<span class="uscript-operator">.</span>X <span class="uscript-operator">*</span> RotX <span class="uscript-operator">+</span> FrontTriggerOffset<span class="uscript-operator">.</span>Y <span class="uscript-operator">*</span> RotY <span class="uscript-operator">+</span> FrontTriggerOffset<span class="uscript-operator">.</span>Z <span class="uscript-operator">*</span> RotZ<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00104</span>          FLTrigger<span class="uscript-operator">.</span>SetBase<span class="uscript-operator">(</span><span class="uscript-keyword">self</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00105</span>          FLTrigger<span class="uscript-operator">.</span>SetCollision<span class="uscript-operator">(</span><span class="uscript-keyword">true</span><span class="uscript-operator">,</span> <span class="uscript-keyword">false</span><span class="uscript-operator">,</span> <span class="uscript-keyword">false</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00106</span>  
<span class="uscript-line">00107</span>          FRTrigger <span class="uscript-operator">=</span> spawn<span class="uscript-operator">(</span><span class="uscript-keyword">class</span><span class="uscript-name">'BetterbulldogTrigger'</span><span class="uscript-operator">,</span> <span class="uscript-keyword">self</span><span class="uscript-operator">,</span><span class="uscript-operator">,</span> Location <span class="uscript-operator">+</span> FrontTriggerOffset<span class="uscript-operator">.</span>X <span class="uscript-operator">*</span> RotX <span class="uscript-operator">-</span> FrontTriggerOffset<span class="uscript-operator">.</span>Y <span class="uscript-operator">*</span> RotY <span class="uscript-operator">+</span> FrontTriggerOffset<span class="uscript-operator">.</span>Z <span class="uscript-operator">*</span> RotZ<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00108</span>          FRTrigger<span class="uscript-operator">.</span>SetBase<span class="uscript-operator">(</span><span class="uscript-keyword">self</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00109</span>          FRTrigger<span class="uscript-operator">.</span>SetCollision<span class="uscript-operator">(</span><span class="uscript-keyword">true</span><span class="uscript-operator">,</span> <span class="uscript-keyword">false</span><span class="uscript-operator">,</span> <span class="uscript-keyword">false</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00110</span>  
<span class="uscript-line">00111</span>          TriggerState <span class="uscript-operator">=</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00112</span>  
<span class="uscript-line">00113</span>          <span class="uscript-comment">// Create trigger for flipping the bulldog back over.</span>
<span class="uscript-line">00114</span>          FlipTrigger <span class="uscript-operator">=</span> spawn<span class="uscript-operator">(</span><span class="uscript-keyword">class</span><span class="uscript-name">'BetterbulldogTrigger'</span><span class="uscript-operator">,</span> <span class="uscript-keyword">self</span><span class="uscript-operator">,</span><span class="uscript-operator">,</span> Location<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00115</span>          Fliptrigger<span class="uscript-operator">.</span>bCarFlipTrigger <span class="uscript-operator">=</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00116</span>          FlipTrigger<span class="uscript-operator">.</span>SetBase<span class="uscript-operator">(</span><span class="uscript-keyword">self</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00117</span>          FlipTrigger<span class="uscript-operator">.</span>SetCollisionSize<span class="uscript-operator">(</span><span class="uscript-number">350</span><span class="uscript-operator">,</span> <span class="uscript-number">200</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00118</span>          FlipTrigger<span class="uscript-operator">.</span>SetCollision<span class="uscript-operator">(</span><span class="uscript-keyword">false</span><span class="uscript-operator">,</span> <span class="uscript-keyword">false</span><span class="uscript-operator">,</span> <span class="uscript-keyword">false</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00119</span>  
<span class="uscript-line">00120</span>          FlipTriggerState <span class="uscript-operator">=</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00121</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00122</span>  
<span class="uscript-line">00123</span>      <span class="uscript-comment">// Dont bother making emitters etc. on dedicated server</span>
<span class="uscript-line">00124</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>Level<span class="uscript-operator">.</span>NetMode <span class="uscript-operator">!=</span> NM_DedicatedServer<span class="uscript-operator">)</span>
<span class="uscript-line">00125</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00126</span>          <span class="uscript-comment">// Create headlight projector. We make sure it doesn't project on the vehicle itself.</span>
<span class="uscript-line">00127</span>          Headlight <span class="uscript-operator">=</span> spawn<span class="uscript-operator">(</span><span class="uscript-keyword">class</span><span class="uscript-name">'BulldogHeadlight'</span><span class="uscript-operator">,</span> <span class="uscript-keyword">self</span><span class="uscript-operator">,</span><span class="uscript-operator">,</span> Location <span class="uscript-operator">+</span> HeadlightOffset<span class="uscript-operator">.</span>X <span class="uscript-operator">*</span> RotX <span class="uscript-operator">+</span> HeadlightOffset<span class="uscript-operator">.</span>Y <span class="uscript-operator">*</span> RotY <span class="uscript-operator">+</span> HeadlightOffset<span class="uscript-operator">.</span>Z <span class="uscript-operator">*</span> RotZ<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00128</span>          Headlight<span class="uscript-operator">.</span>SetBase<span class="uscript-operator">(</span><span class="uscript-keyword">self</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00129</span>          Headlight<span class="uscript-operator">.</span>SetRelativeRotation<span class="uscript-operator">(</span><span class="uscript-keyword">rot</span><span class="uscript-operator">(</span><span class="uscript-operator">-</span><span class="uscript-number">2000</span><span class="uscript-operator">,</span> <span class="uscript-number">32768</span><span class="uscript-operator">,</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00130</span>  
<span class="uscript-line">00131</span>          <span class="uscript-comment">// Create wheel dust emitters.</span>
<span class="uscript-line">00132</span>          Dust<span class="uscript-operator">[</span><span class="uscript-number">0</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> spawn<span class="uscript-operator">(</span><span class="uscript-keyword">class</span><span class="uscript-name">'BulldogDust'</span><span class="uscript-operator">,</span> <span class="uscript-keyword">self</span><span class="uscript-operator">,</span><span class="uscript-operator">,</span> Location <span class="uscript-operator">+</span> WheelFrontAlong<span class="uscript-operator">*</span>RotX <span class="uscript-operator">+</span> WheelFrontAcross<span class="uscript-operator">*</span>RotY <span class="uscript-operator">+</span> <span class="uscript-operator">(</span>WheelVert<span class="uscript-operator">-</span>DustDrop<span class="uscript-operator">)</span><span class="uscript-operator">*</span>RotZ<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00133</span>          Dust<span class="uscript-operator">[</span><span class="uscript-number">0</span><span class="uscript-operator">]</span><span class="uscript-operator">.</span>SetBase<span class="uscript-operator">(</span><span class="uscript-keyword">self</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00134</span>  
<span class="uscript-line">00135</span>          Dust<span class="uscript-operator">[</span><span class="uscript-number">1</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> spawn<span class="uscript-operator">(</span><span class="uscript-keyword">class</span><span class="uscript-name">'BulldogDust'</span><span class="uscript-operator">,</span> <span class="uscript-keyword">self</span><span class="uscript-operator">,</span><span class="uscript-operator">,</span> Location <span class="uscript-operator">+</span> WheelFrontAlong<span class="uscript-operator">*</span>RotX <span class="uscript-operator">-</span> WheelFrontAcross<span class="uscript-operator">*</span>RotY <span class="uscript-operator">+</span> <span class="uscript-operator">(</span>WheelVert<span class="uscript-operator">-</span>DustDrop<span class="uscript-operator">)</span><span class="uscript-operator">*</span>RotZ<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00136</span>          Dust<span class="uscript-operator">[</span><span class="uscript-number">1</span><span class="uscript-operator">]</span><span class="uscript-operator">.</span>SetBase<span class="uscript-operator">(</span><span class="uscript-keyword">self</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>  
<span class="uscript-line">00137</span>  
<span class="uscript-line">00138</span>          Dust<span class="uscript-operator">[</span><span class="uscript-number">2</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> spawn<span class="uscript-operator">(</span><span class="uscript-keyword">class</span><span class="uscript-name">'BulldogDust'</span><span class="uscript-operator">,</span> <span class="uscript-keyword">self</span><span class="uscript-operator">,</span><span class="uscript-operator">,</span> Location <span class="uscript-operator">+</span> WheelRearAlong<span class="uscript-operator">*</span>RotX <span class="uscript-operator">+</span> WheelRearAcross<span class="uscript-operator">*</span>RotY <span class="uscript-operator">+</span> <span class="uscript-operator">(</span>WheelVert<span class="uscript-operator">-</span>DustDrop<span class="uscript-operator">)</span><span class="uscript-operator">*</span>RotZ<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00139</span>          Dust<span class="uscript-operator">[</span><span class="uscript-number">2</span><span class="uscript-operator">]</span><span class="uscript-operator">.</span>SetBase<span class="uscript-operator">(</span><span class="uscript-keyword">self</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00140</span>  
<span class="uscript-line">00141</span>          Dust<span class="uscript-operator">[</span><span class="uscript-number">3</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> spawn<span class="uscript-operator">(</span><span class="uscript-keyword">class</span><span class="uscript-name">'BulldogDust'</span><span class="uscript-operator">,</span> <span class="uscript-keyword">self</span><span class="uscript-operator">,</span><span class="uscript-operator">,</span> Location <span class="uscript-operator">+</span> WheelRearAlong<span class="uscript-operator">*</span>RotX <span class="uscript-operator">-</span> WheelRearAcross<span class="uscript-operator">*</span>RotY <span class="uscript-operator">+</span> <span class="uscript-operator">(</span>WheelVert<span class="uscript-operator">-</span>DustDrop<span class="uscript-operator">)</span><span class="uscript-operator">*</span>RotZ<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00142</span>          Dust<span class="uscript-operator">[</span><span class="uscript-number">3</span><span class="uscript-operator">]</span><span class="uscript-operator">.</span>SetBase<span class="uscript-operator">(</span><span class="uscript-keyword">self</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00143</span>  
<span class="uscript-line">00144</span>          <span class="uscript-comment">// Set light materials</span>
<span class="uscript-line">00145</span>          Skins<span class="uscript-operator">[</span><span class="uscript-number">1</span><span class="uscript-operator">]</span><span class="uscript-operator">=</span>BrakeMaterial<span class="uscript-operator">;</span>
<span class="uscript-line">00146</span>          Skins<span class="uscript-operator">[</span><span class="uscript-number">2</span><span class="uscript-operator">]</span><span class="uscript-operator">=</span>HeadlightOffMaterial<span class="uscript-operator">;</span>
<span class="uscript-line">00147</span>  
<span class="uscript-line">00148</span>          <span class="uscript-comment">// Spawn headlight coronas</span>
<span class="uscript-line">00149</span>          <span class="uscript-keyword">for</span><span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span><span class="uscript-number">8</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00150</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00151</span>              HeadlightCorona<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span> <span class="uscript-operator">=</span> spawn<span class="uscript-operator">(</span><span class="uscript-keyword">class</span><span class="uscript-name">'BulldogHeadlightCorona'</span><span class="uscript-operator">,</span> <span class="uscript-keyword">self</span><span class="uscript-operator">,</span><span class="uscript-operator">,</span> Location <span class="uscript-operator">+</span> <span class="uscript-operator">(</span>HeadlightCoronaOffset<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span> <span class="uscript-operator">&gt;&gt;</span> Rotation<span class="uscript-operator">)</span> <span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00152</span>              HeadlightCorona<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>SetBase<span class="uscript-operator">(</span><span class="uscript-keyword">self</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00153</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00154</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00155</span>  
<span class="uscript-line">00156</span>      <span class="uscript-comment">// For KImpact event</span>
<span class="uscript-line">00157</span>      KSetImpactThreshold<span class="uscript-operator">(</span>HitSoundThreshold<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00158</span>  
<span class="uscript-line">00159</span>      <span class="uscript-comment">// If this is not 'authority' version - don't destroy it if there is a problem. </span>
<span class="uscript-line">00160</span>      <span class="uscript-comment">// The network should sort things out.</span>
<span class="uscript-line">00161</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>Role <span class="uscript-operator">!=</span> ROLE_Authority<span class="uscript-operator">)</span>
<span class="uscript-line">00162</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00163</span>          KarmaParams<span class="uscript-operator">(</span>KParams<span class="uscript-operator">)</span><span class="uscript-operator">.</span>bDestroyOnSimError <span class="uscript-operator">=</span> <span class="uscript-keyword">False</span><span class="uscript-operator">;</span>
<span class="uscript-line">00164</span>          KarmaParams<span class="uscript-operator">(</span>frontLeft<span class="uscript-operator">.</span>KParams<span class="uscript-operator">)</span><span class="uscript-operator">.</span>bDestroyOnSimError <span class="uscript-operator">=</span> <span class="uscript-keyword">False</span><span class="uscript-operator">;</span>
<span class="uscript-line">00165</span>          KarmaParams<span class="uscript-operator">(</span>frontRight<span class="uscript-operator">.</span>KParams<span class="uscript-operator">)</span><span class="uscript-operator">.</span>bDestroyOnSimError <span class="uscript-operator">=</span> <span class="uscript-keyword">False</span><span class="uscript-operator">;</span>
<span class="uscript-line">00166</span>          KarmaParams<span class="uscript-operator">(</span>rearLeft<span class="uscript-operator">.</span>KParams<span class="uscript-operator">)</span><span class="uscript-operator">.</span>bDestroyOnSimError <span class="uscript-operator">=</span> <span class="uscript-keyword">False</span><span class="uscript-operator">;</span>
<span class="uscript-line">00167</span>          KarmaParams<span class="uscript-operator">(</span>rearRight<span class="uscript-operator">.</span>KParams<span class="uscript-operator">)</span><span class="uscript-operator">.</span>bDestroyOnSimError <span class="uscript-operator">=</span> <span class="uscript-keyword">False</span><span class="uscript-operator">;</span>
<span class="uscript-line">00168</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00169</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00170</span>  
<span class="uscript-line">00171</span>  <span class="uscript-keyword">simulated</span> <span class="uscript-keyword">event</span> Destroyed<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00172</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00173</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00174</span>  
<span class="uscript-line">00175</span>      <span class="uscript-comment">//Log("Betterbulldog Destroyed");</span>
<span class="uscript-line">00176</span>  
<span class="uscript-line">00177</span>      <span class="uscript-comment">// Clean up random stuff attached to the car</span>
<span class="uscript-line">00178</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>Level<span class="uscript-operator">.</span>NetMode <span class="uscript-operator">!=</span> NM_Client<span class="uscript-operator">)</span>
<span class="uscript-line">00179</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00180</span>  
<span class="uscript-line">00181</span>          FLTrigger<span class="uscript-operator">.</span>Destroy<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00182</span>          FRTrigger<span class="uscript-operator">.</span>Destroy<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00183</span>          FlipTrigger<span class="uscript-operator">.</span>Destroy<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00184</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00185</span>  
<span class="uscript-line">00186</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>Level<span class="uscript-operator">.</span>NetMode <span class="uscript-operator">!=</span> NM_DedicatedServer<span class="uscript-operator">)</span>
<span class="uscript-line">00187</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00188</span>          <span class="uscript-name">''</span><span class="uscript-name">'Headlight.Destroy();</span>
<span class="uscript-line">00189</span>  
<span class="uscript-line">00190</span>          <span class="uscript-keyword">for</span><span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span><span class="uscript-number">4</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00191</span>              Dust<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Destroy<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00192</span>  
<span class="uscript-line">00193</span>          <span class="uscript-keyword">for</span><span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span><span class="uscript-number">8</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00194</span>              HeadlightCorona<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Destroy<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span><span class="uscript-name">''</span><span class="uscript-name">'</span>
<span class="uscript-line">00195</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00196</span>  
<span class="uscript-line">00197</span>      <span class="uscript-comment">// This will destroy wheels &amp; joints</span>
<span class="uscript-line">00198</span>      <span class="uscript-keyword">Super</span><span class="uscript-operator">.</span>Destroyed<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00199</span>  
<span class="uscript-line">00200</span>      <span class="uscript-comment">// Trigger destroyed sound and effect</span>
<span class="uscript-line">00201</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>Level<span class="uscript-operator">.</span>NetMode <span class="uscript-operator">!=</span> NM_DedicatedServer<span class="uscript-operator">)</span>
<span class="uscript-line">00202</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00203</span>          spawn<span class="uscript-operator">(</span>DestroyedEffect<span class="uscript-operator">,</span> <span class="uscript-keyword">self</span><span class="uscript-operator">,</span> <span class="uscript-operator">,</span> Location <span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00204</span>          PlaySound<span class="uscript-operator">(</span>DestroyedSound<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00205</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00206</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00207</span>  
<span class="uscript-line">00208</span>  <span class="uscript-keyword">function</span> KImpact<span class="uscript-operator">(</span>actor other<span class="uscript-operator">,</span> vector pos<span class="uscript-operator">,</span> vector impactVel<span class="uscript-operator">,</span> vector impactNorm<span class="uscript-operator">)</span>
<span class="uscript-line">00209</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00210</span>      <span class="uscript-comment">/* Only make noises for Bulldog-world impacts */</span>
<span class="uscript-line">00211</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>other <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00212</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">00213</span>  
<span class="uscript-line">00214</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>UntilNextImpact <span class="uscript-operator">&lt;</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00215</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00216</span>          <span class="uscript-comment">//PlaySound(BulldogHitSound);</span>
<span class="uscript-line">00217</span>  
<span class="uscript-line">00218</span>          <span class="uscript-comment">// hack to stop the sound repeating rapidly on impacts</span>
<span class="uscript-line">00219</span>          <span class="uscript-comment">//UntilNextImpact = GetSoundDuration(BulldogHitSound);</span>
<span class="uscript-line">00220</span>          
<span class="uscript-line">00221</span>          
<span class="uscript-line">00222</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00223</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00224</span>  
<span class="uscript-line">00225</span>  <span class="uscript-keyword">simulated</span> <span class="uscript-keyword">function</span> ClientKDriverEnter<span class="uscript-operator">(</span>PlayerController pc<span class="uscript-operator">)</span>
<span class="uscript-line">00226</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00227</span>      <span class="uscript-comment">//Log("Bulldog ClientKDriverEnter");</span>
<span class="uscript-line">00228</span>  
<span class="uscript-line">00229</span>      <span class="uscript-keyword">Super</span><span class="uscript-operator">.</span>ClientKDriverEnter<span class="uscript-operator">(</span>pc<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00230</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00231</span>  
<span class="uscript-line">00232</span>  <span class="uscript-keyword">function</span> KDriverEnter<span class="uscript-operator">(</span>Pawn p<span class="uscript-operator">)</span>
<span class="uscript-line">00233</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00234</span>      <span class="uscript-comment">//Log("Bulldog KDriverEnter");</span>
<span class="uscript-line">00235</span>  
<span class="uscript-line">00236</span>      <span class="uscript-keyword">Super</span><span class="uscript-operator">.</span>KDriverEnter<span class="uscript-operator">(</span>p<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00237</span>  
<span class="uscript-line">00238</span>      <span class="uscript-comment">//PlaySound(BulldogStartSound);</span>
<span class="uscript-line">00239</span>  
<span class="uscript-line">00240</span>      <span class="uscript-comment">//AmbientSound=BulldogIdleSound;</span>
<span class="uscript-line">00241</span>  
<span class="uscript-line">00242</span>      p<span class="uscript-operator">.</span>bHidden <span class="uscript-operator">=</span> <span class="uscript-keyword">True</span><span class="uscript-operator">;</span>
<span class="uscript-line">00243</span>      ReceiveLocalizedMessage<span class="uscript-operator">(</span><span class="uscript-keyword">class</span><span class="uscript-name">'Vehicles.BulldogMessage'</span><span class="uscript-operator">,</span> <span class="uscript-number">1</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00244</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00245</span>  
<span class="uscript-line">00246</span>  <span class="uscript-keyword">simulated</span> <span class="uscript-keyword">function</span> ClientKDriverLeave<span class="uscript-operator">(</span>PlayerController pc<span class="uscript-operator">)</span>
<span class="uscript-line">00247</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00248</span>      <span class="uscript-comment">//Log("Bulldog ClientKDriverLeave");</span>
<span class="uscript-line">00249</span>  
<span class="uscript-line">00250</span>      <span class="uscript-keyword">Super</span><span class="uscript-operator">.</span>ClientKDriverLeave<span class="uscript-operator">(</span>pc<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00251</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00252</span>  
<span class="uscript-line">00253</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> KDriverLeave<span class="uscript-operator">(</span><span class="uscript-type">bool</span> bForceLeave<span class="uscript-operator">)</span>
<span class="uscript-line">00254</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00255</span>      <span class="uscript-keyword">local</span> Pawn OldDriver<span class="uscript-operator">;</span>
<span class="uscript-line">00256</span>  
<span class="uscript-line">00257</span>      <span class="uscript-comment">//Log("Bulldog KDriverLeave");</span>
<span class="uscript-line">00258</span>  
<span class="uscript-line">00259</span>      OldDriver <span class="uscript-operator">=</span> Driver<span class="uscript-operator">;</span>
<span class="uscript-line">00260</span>  
<span class="uscript-line">00261</span>      <span class="uscript-comment">// If we succesfully got out of the car, make driver visible again.</span>
<span class="uscript-line">00262</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span> <span class="uscript-keyword">Super</span><span class="uscript-operator">.</span>KDriverLeave<span class="uscript-operator">(</span>bForceLeave<span class="uscript-operator">)</span> <span class="uscript-operator">)</span>
<span class="uscript-line">00263</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00264</span>          OldDriver<span class="uscript-operator">.</span>bHidden <span class="uscript-operator">=</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00265</span>          AmbientSound <span class="uscript-operator">=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">;</span>    
<span class="uscript-line">00266</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00267</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00268</span>      <span class="uscript-keyword">else</span>
<span class="uscript-line">00269</span>          <span class="uscript-keyword">return</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00270</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00271</span>  
<span class="uscript-line">00272</span>  <span class="uscript-keyword">function</span> LaunchRocket<span class="uscript-operator">(</span><span class="uscript-type">bool</span> bWasAltFire<span class="uscript-operator">)</span>
<span class="uscript-line">00273</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00274</span>      <span class="uscript-keyword">local</span> vector RotX<span class="uscript-operator">,</span> RotY<span class="uscript-operator">,</span> RotZ<span class="uscript-operator">,</span> FireLocation<span class="uscript-operator">;</span>
<span class="uscript-line">00275</span>      <span class="uscript-keyword">local</span> BulldogRocket R<span class="uscript-operator">;</span>
<span class="uscript-line">00276</span>      <span class="uscript-keyword">local</span> PlayerController PC<span class="uscript-operator">;</span>
<span class="uscript-line">00277</span>  
<span class="uscript-line">00278</span>      <span class="uscript-comment">// Client can't do firing</span>
<span class="uscript-line">00279</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>Role <span class="uscript-operator">!=</span> ROLE_Authority<span class="uscript-operator">)</span>
<span class="uscript-line">00280</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">00281</span>  
<span class="uscript-line">00282</span>      <span class="uscript-comment">// Fire as many rockets as we have time to.</span>
<span class="uscript-line">00283</span>      GetAxes<span class="uscript-operator">(</span>Rotation<span class="uscript-operator">,</span> RotX<span class="uscript-operator">,</span> RotY<span class="uscript-operator">,</span> RotZ<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00284</span>      FireLocation <span class="uscript-operator">=</span> Location <span class="uscript-operator">+</span> <span class="uscript-operator">(</span>RocketFireOffset <span class="uscript-operator">&gt;&gt;</span> Rotation<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00285</span>  
<span class="uscript-line">00286</span>      <span class="uscript-keyword">while</span><span class="uscript-operator">(</span>FireCountdown <span class="uscript-operator">&lt;=</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00287</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00288</span>          <span class="uscript-keyword">if</span><span class="uscript-operator">(</span><span class="uscript-operator">!</span>bWasAltFire<span class="uscript-operator">)</span>
<span class="uscript-line">00289</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00290</span>              <span class="uscript-comment">// Fire a rocket at the current target (starts flying forward and up a bit)</span>
<span class="uscript-line">00291</span>  
<span class="uscript-line">00292</span>              R <span class="uscript-operator">=</span> spawn<span class="uscript-operator">(</span><span class="uscript-keyword">class</span><span class="uscript-name">'Vehicles.BulldogRocket'</span><span class="uscript-operator">,</span> <span class="uscript-keyword">self</span><span class="uscript-operator">,</span> <span class="uscript-operator">,</span> FireLocation<span class="uscript-operator">,</span> rotator<span class="uscript-operator">(</span><span class="uscript-operator">-</span><span class="uscript-number">1</span> <span class="uscript-operator">*</span> RotX <span class="uscript-operator">+</span> <span class="uscript-number">0.2</span> <span class="uscript-operator">*</span> RotZ<span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00293</span>              R<span class="uscript-operator">.</span>Seeking <span class="uscript-operator">=</span> CurrentTarget<span class="uscript-operator">;</span>
<span class="uscript-line">00294</span>      
<span class="uscript-line">00295</span>              <span class="uscript-comment">// Play firing noise</span>
<span class="uscript-line">00296</span>              PlaySound<span class="uscript-operator">(</span>Sound<span class="uscript-name">'WeaponSounds.RocketLauncher.RocketLauncherFire'</span><span class="uscript-operator">,</span> SLOT_None<span class="uscript-operator">,</span><span class="uscript-operator">,</span><span class="uscript-operator">,</span><span class="uscript-operator">,</span><span class="uscript-operator">,</span> <span class="uscript-keyword">false</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00297</span>              PC <span class="uscript-operator">=</span> PlayerController<span class="uscript-operator">(</span>Controller<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00298</span>              <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span>PC <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span> <span class="uscript-operator">&amp;&amp;</span> PC<span class="uscript-operator">.</span>bEnableWeaponForceFeedback<span class="uscript-operator">)</span>
<span class="uscript-line">00299</span>                  PC<span class="uscript-operator">.</span>ClientPlayForceFeedback<span class="uscript-operator">(</span><span class="uscript-string">"RocketLauncherFire"</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00300</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00301</span>          <span class="uscript-keyword">else</span>
<span class="uscript-line">00302</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00303</span>              <span class="uscript-comment">//Log("Would AltFire At:"$CurrentTarget);</span>
<span class="uscript-line">00304</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00305</span>  
<span class="uscript-line">00306</span>          FireCountdown <span class="uscript-operator">+=</span> FireInterval<span class="uscript-operator">;</span>
<span class="uscript-line">00307</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00308</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00309</span>  
<span class="uscript-line">00310</span>  <span class="uscript-comment">// Fire a rocket (if we've had time to reload!)</span>
<span class="uscript-line">00311</span>  <span class="uscript-keyword">function</span> VehicleFire<span class="uscript-operator">(</span><span class="uscript-type">bool</span> bWasAltFire<span class="uscript-operator">)</span>
<span class="uscript-line">00312</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00313</span>      <span class="uscript-keyword">Super</span><span class="uscript-operator">.</span>VehicleFire<span class="uscript-operator">(</span>bWasAltFire<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00314</span>  
<span class="uscript-line">00315</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>FireCountdown <span class="uscript-operator">&lt;</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00316</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00317</span>          FireCountdown <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">00318</span>          LaunchRocket<span class="uscript-operator">(</span>bWasAltFire<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00319</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00320</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00321</span>  
<span class="uscript-line">00322</span>  <span class="uscript-comment">// For drawing targetting reticule</span>
<span class="uscript-line">00323</span>  <span class="uscript-keyword">simulated</span> <span class="uscript-keyword">function</span> DrawHud<span class="uscript-operator">(</span>Canvas C<span class="uscript-operator">)</span>
<span class="uscript-line">00324</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00325</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> XPos<span class="uscript-operator">,</span> YPos<span class="uscript-operator">;</span>
<span class="uscript-line">00326</span>      <span class="uscript-keyword">local</span> vector ScreenPos<span class="uscript-operator">;</span>
<span class="uscript-line">00327</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">float</span> RatioX<span class="uscript-operator">,</span> RatioY<span class="uscript-operator">;</span>
<span class="uscript-line">00328</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">float</span> tileX<span class="uscript-operator">,</span> tileY<span class="uscript-operator">;</span>
<span class="uscript-line">00329</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">float</span> SizeX<span class="uscript-operator">,</span> SizeY<span class="uscript-operator">,</span> PosDotDir<span class="uscript-operator">;</span>
<span class="uscript-line">00330</span>      <span class="uscript-keyword">local</span> vector CameraLocation<span class="uscript-operator">,</span> CamDir<span class="uscript-operator">;</span>
<span class="uscript-line">00331</span>      <span class="uscript-keyword">local</span> rotator CameraRotation<span class="uscript-operator">;</span>
<span class="uscript-line">00332</span>  
<span class="uscript-line">00333</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>CurrentTarget <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00334</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">00335</span>  
<span class="uscript-line">00336</span>      SizeX <span class="uscript-operator">=</span> <span class="uscript-number">64.0</span><span class="uscript-operator">;</span>
<span class="uscript-line">00337</span>      SizeY <span class="uscript-operator">=</span> <span class="uscript-number">64.0</span><span class="uscript-operator">;</span>
<span class="uscript-line">00338</span>  
<span class="uscript-line">00339</span>      ScreenPos <span class="uscript-operator">=</span> C<span class="uscript-operator">.</span>WorldToScreen<span class="uscript-operator">(</span> CurrentTarget<span class="uscript-operator">.</span>Location <span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00340</span>  
<span class="uscript-line">00341</span>      <span class="uscript-comment">// Dont draw reticule if target is behind camera</span>
<span class="uscript-line">00342</span>      C<span class="uscript-operator">.</span>GetCameraLocation<span class="uscript-operator">(</span> CameraLocation<span class="uscript-operator">,</span> CameraRotation <span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00343</span>      CamDir <span class="uscript-operator">=</span> vector<span class="uscript-operator">(</span>CameraRotation<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00344</span>      PosDotDir <span class="uscript-operator">=</span> <span class="uscript-operator">(</span>CurrentTarget<span class="uscript-operator">.</span>Location <span class="uscript-operator">-</span> CameraLocation<span class="uscript-operator">)</span> <span class="uscript-operator">Dot</span> CamDir<span class="uscript-operator">;</span>
<span class="uscript-line">00345</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span> PosDotDir <span class="uscript-operator">&lt;</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00346</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">00347</span>  
<span class="uscript-line">00348</span>      RatioX <span class="uscript-operator">=</span> C<span class="uscript-operator">.</span>SizeX <span class="uscript-operator">/</span> <span class="uscript-number">640.0</span><span class="uscript-operator">;</span>
<span class="uscript-line">00349</span>      RatioY <span class="uscript-operator">=</span> C<span class="uscript-operator">.</span>SizeY <span class="uscript-operator">/</span> <span class="uscript-number">480.0</span><span class="uscript-operator">;</span>
<span class="uscript-line">00350</span>  
<span class="uscript-line">00351</span>      tileX <span class="uscript-operator">=</span> sizeX <span class="uscript-operator">*</span> RatioX<span class="uscript-operator">;</span>
<span class="uscript-line">00352</span>      tileY <span class="uscript-operator">=</span> sizeY <span class="uscript-operator">*</span> RatioX<span class="uscript-operator">;</span>
<span class="uscript-line">00353</span>  
<span class="uscript-line">00354</span>      XPos <span class="uscript-operator">=</span> ScreenPos<span class="uscript-operator">.</span>X<span class="uscript-operator">;</span>
<span class="uscript-line">00355</span>      YPos <span class="uscript-operator">=</span> ScreenPos<span class="uscript-operator">.</span>Y<span class="uscript-operator">;</span>
<span class="uscript-line">00356</span>      C<span class="uscript-operator">.</span>Style <span class="uscript-operator">=</span> ERenderStyle<span class="uscript-operator">.</span>STY_Additive<span class="uscript-operator">;</span>
<span class="uscript-line">00357</span>      C<span class="uscript-operator">.</span>DrawColor<span class="uscript-operator">.</span>R <span class="uscript-operator">=</span> <span class="uscript-number">255</span><span class="uscript-operator">;</span>
<span class="uscript-line">00358</span>      C<span class="uscript-operator">.</span>DrawColor<span class="uscript-operator">.</span>G <span class="uscript-operator">=</span> <span class="uscript-number">255</span><span class="uscript-operator">;</span>
<span class="uscript-line">00359</span>      C<span class="uscript-operator">.</span>DrawColor<span class="uscript-operator">.</span>B <span class="uscript-operator">=</span> <span class="uscript-number">255</span><span class="uscript-operator">;</span>
<span class="uscript-line">00360</span>      C<span class="uscript-operator">.</span>DrawColor<span class="uscript-operator">.</span>A <span class="uscript-operator">=</span> <span class="uscript-number">255</span><span class="uscript-operator">;</span>
<span class="uscript-line">00361</span>      C<span class="uscript-operator">.</span>SetPos<span class="uscript-operator">(</span>XPos <span class="uscript-operator">-</span> tileX<span class="uscript-operator">*</span><span class="uscript-number">0.5</span><span class="uscript-operator">,</span> YPos <span class="uscript-operator">-</span> tileY<span class="uscript-operator">*</span><span class="uscript-number">0.5</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00362</span>      C<span class="uscript-operator">.</span>DrawTile<span class="uscript-operator">(</span> TargetMaterial<span class="uscript-operator">,</span> tileX<span class="uscript-operator">,</span> tileY<span class="uscript-operator">,</span> <span class="uscript-number">0.0</span><span class="uscript-operator">,</span> <span class="uscript-number">0.0</span><span class="uscript-operator">,</span> <span class="uscript-number">256</span><span class="uscript-operator">,</span> <span class="uscript-number">256</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span> <span class="uscript-comment">//--- TODO : Fix HARDCODED USIZE</span>
<span class="uscript-line">00363</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00364</span>  
<span class="uscript-line">00365</span>  <span class="uscript-keyword">simulated</span> <span class="uscript-keyword">function</span> Tick<span class="uscript-operator">(</span><span class="uscript-type">float</span> Delta<span class="uscript-operator">)</span>
<span class="uscript-line">00366</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00367</span>      <span class="uscript-keyword">Local</span> <span class="uscript-type">float</span> BestAim<span class="uscript-operator">,</span> BestDist<span class="uscript-operator">,</span> TotalSlip<span class="uscript-operator">,</span> EnginePitch<span class="uscript-operator">,</span> VMag<span class="uscript-operator">;</span>
<span class="uscript-line">00368</span>      <span class="uscript-keyword">Local</span> vector RotX<span class="uscript-operator">,</span> RotY<span class="uscript-operator">,</span> RotZ<span class="uscript-operator">,</span> FireLocation<span class="uscript-operator">;</span>
<span class="uscript-line">00369</span>      <span class="uscript-keyword">local</span> pawn NewTarget<span class="uscript-operator">;</span>
<span class="uscript-line">00370</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00371</span>  
<span class="uscript-line">00372</span>      <span class="uscript-keyword">Super</span><span class="uscript-operator">.</span>Tick<span class="uscript-operator">(</span>Delta<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00373</span>  
<span class="uscript-line">00374</span>      <span class="uscript-comment">// Weapons (run on server and replicated to client)</span>
<span class="uscript-line">00375</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>Role <span class="uscript-operator">==</span> ROLE_Authority<span class="uscript-operator">)</span>
<span class="uscript-line">00376</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00377</span>          <span class="uscript-comment">// Only put headlights on when driver is in. Save batteries!</span>
<span class="uscript-line">00378</span>          <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>Driver <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00379</span>              HeadlightOn<span class="uscript-operator">=</span><span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00380</span>          <span class="uscript-keyword">else</span>
<span class="uscript-line">00381</span>              HeadlightOn<span class="uscript-operator">=</span><span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00382</span>  
<span class="uscript-line">00383</span>          <span class="uscript-comment">// Do targetting (do nothing if no controller)</span>
<span class="uscript-line">00384</span>          SinceLastTargetting <span class="uscript-operator">+=</span> Delta<span class="uscript-operator">;</span>
<span class="uscript-line">00385</span>          <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>Controller <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span> <span class="uscript-operator">&amp;&amp;</span> SinceLastTargetting <span class="uscript-operator">&gt;</span> TargettingInterval<span class="uscript-operator">)</span>
<span class="uscript-line">00386</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00387</span>              GetAxes<span class="uscript-operator">(</span>Rotation<span class="uscript-operator">,</span> RotX<span class="uscript-operator">,</span> RotY<span class="uscript-operator">,</span> RotZ<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00388</span>      
<span class="uscript-line">00389</span>              FireLocation <span class="uscript-operator">=</span> Location <span class="uscript-operator">+</span> <span class="uscript-operator">(</span>RocketFireOffset <span class="uscript-operator">&gt;&gt;</span> Rotation<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00390</span>  
<span class="uscript-line">00391</span>              <span class="uscript-comment">// BestAim is zero - so we will only target things in front of the buggy</span>
<span class="uscript-line">00392</span>              BestAim <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">00393</span>              NewTarget <span class="uscript-operator">=</span> Controller<span class="uscript-operator">.</span>PickTarget<span class="uscript-operator">(</span>BestAim<span class="uscript-operator">,</span> BestDist<span class="uscript-operator">,</span> <span class="uscript-operator">-</span><span class="uscript-number">1.0</span> <span class="uscript-operator">*</span> RotX<span class="uscript-operator">,</span> FireLocation<span class="uscript-operator">,</span> TargettingRange<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00394</span>              
<span class="uscript-line">00395</span>              <span class="uscript-comment">// If this is a new lock - play lock-on noise</span>
<span class="uscript-line">00396</span>              <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>NewTarget <span class="uscript-operator">!=</span> CurrentTarget<span class="uscript-operator">)</span>
<span class="uscript-line">00397</span>              <span class="uscript-operator">{</span>
<span class="uscript-line">00398</span>                  <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>NewTarget <span class="uscript-operator">==</span> <span class="uscript-keyword">None</span><span class="uscript-operator">)</span>
<span class="uscript-line">00399</span>                      PlayerController<span class="uscript-operator">(</span>Controller<span class="uscript-operator">)</span><span class="uscript-operator">.</span>ClientPlaySound<span class="uscript-operator">(</span>Sound<span class="uscript-name">'WeaponSounds.SeekLost'</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00400</span>                  <span class="uscript-keyword">else</span>
<span class="uscript-line">00401</span>                      PlayerController<span class="uscript-operator">(</span>Controller<span class="uscript-operator">)</span><span class="uscript-operator">.</span>ClientPlaySound<span class="uscript-operator">(</span>Sound<span class="uscript-name">'WeaponSounds.LockOn'</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00402</span>              <span class="uscript-operator">}</span>
<span class="uscript-line">00403</span>  
<span class="uscript-line">00404</span>              CurrentTarget <span class="uscript-operator">=</span> NewTarget<span class="uscript-operator">;</span>
<span class="uscript-line">00405</span>              SinceLastTargetting <span class="uscript-operator">=</span> <span class="uscript-number">0</span><span class="uscript-operator">;</span>
<span class="uscript-line">00406</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00407</span>  
<span class="uscript-line">00408</span>          <span class="uscript-comment">// Countdown to next shot</span>
<span class="uscript-line">00409</span>          FireCountdown <span class="uscript-operator">-=</span> Delta<span class="uscript-operator">;</span>
<span class="uscript-line">00410</span>  
<span class="uscript-line">00411</span>          <span class="uscript-comment">// This is for sustained barrages.</span>
<span class="uscript-line">00412</span>          <span class="uscript-comment">// Primary fire takes priority</span>
<span class="uscript-line">00413</span>          <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>bVehicleIsFiring<span class="uscript-operator">)</span>
<span class="uscript-line">00414</span>              LaunchRocket<span class="uscript-operator">(</span><span class="uscript-keyword">false</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00415</span>          <span class="uscript-keyword">else</span> <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>bVehicleIsAltFiring<span class="uscript-operator">)</span>
<span class="uscript-line">00416</span>              LaunchRocket<span class="uscript-operator">(</span><span class="uscript-keyword">true</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00417</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00418</span>  
<span class="uscript-line">00419</span>      <span class="uscript-comment">// Dont bother doing effects on dedicated server.</span>
<span class="uscript-line">00420</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>Level<span class="uscript-operator">.</span>NetMode <span class="uscript-operator">!=</span> NM_DedicatedServer<span class="uscript-operator">)</span>
<span class="uscript-line">00421</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00422</span>          <span class="uscript-comment">// Update brake light colors.</span>
<span class="uscript-line">00423</span>          <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>Gear <span class="uscript-operator">==</span> <span class="uscript-operator">-</span><span class="uscript-number">1</span> <span class="uscript-operator">&amp;&amp;</span> OutputBrake <span class="uscript-operator">==</span> <span class="uscript-keyword">false</span><span class="uscript-operator">)</span>
<span class="uscript-line">00424</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00425</span>              <span class="uscript-comment">// REVERSE</span>
<span class="uscript-line">00426</span>              Skins<span class="uscript-operator">[</span><span class="uscript-number">1</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> ReverseMaterial<span class="uscript-operator">;</span>
<span class="uscript-line">00427</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00428</span>          <span class="uscript-keyword">else</span> <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>Gear <span class="uscript-operator">==</span> <span class="uscript-number">0</span> <span class="uscript-operator">&amp;&amp;</span> OutputBrake <span class="uscript-operator">==</span> <span class="uscript-keyword">true</span><span class="uscript-operator">)</span>
<span class="uscript-line">00429</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00430</span>              <span class="uscript-comment">// BRAKE</span>
<span class="uscript-line">00431</span>              Skins<span class="uscript-operator">[</span><span class="uscript-number">1</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> BrakeMaterial<span class="uscript-operator">;</span>
<span class="uscript-line">00432</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00433</span>          <span class="uscript-keyword">else</span>
<span class="uscript-line">00434</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00435</span>              <span class="uscript-comment">// OFF</span>
<span class="uscript-line">00436</span>              Skins<span class="uscript-operator">[</span><span class="uscript-number">1</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> TailOffMaterial<span class="uscript-operator">;</span>
<span class="uscript-line">00437</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00438</span>  
<span class="uscript-line">00439</span>          <span class="uscript-comment">// Set headlight projector state.</span>
<span class="uscript-line">00440</span>          Headlight<span class="uscript-operator">.</span>DetachProjector<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00441</span>          <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>HeadlightOn<span class="uscript-operator">)</span>
<span class="uscript-line">00442</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00443</span>              Headlight<span class="uscript-operator">.</span>AttachProjector<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00444</span>              Skins<span class="uscript-operator">[</span><span class="uscript-number">2</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> HeadlightOnMaterial<span class="uscript-operator">;</span>
<span class="uscript-line">00445</span>              <span class="uscript-keyword">for</span><span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span><span class="uscript-number">8</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00446</span>                  HeadlightCorona<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>bHidden <span class="uscript-operator">=</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00447</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00448</span>          <span class="uscript-keyword">else</span>
<span class="uscript-line">00449</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00450</span>              Skins<span class="uscript-operator">[</span><span class="uscript-number">2</span><span class="uscript-operator">]</span> <span class="uscript-operator">=</span> HeadlightOffMaterial<span class="uscript-operator">;</span>
<span class="uscript-line">00451</span>              <span class="uscript-keyword">for</span><span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span><span class="uscript-number">8</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
<span class="uscript-line">00452</span>                  HeadlightCorona<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>bHidden <span class="uscript-operator">=</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00453</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00454</span>  
<span class="uscript-line">00455</span>          <span class="uscript-comment">// Update dust kicked up by wheels.</span>
<span class="uscript-line">00456</span>          Dust<span class="uscript-operator">[</span><span class="uscript-number">0</span><span class="uscript-operator">]</span><span class="uscript-operator">.</span>UpdateDust<span class="uscript-operator">(</span>frontLeft<span class="uscript-operator">,</span> DustSlipRate<span class="uscript-operator">,</span> DustSlipThresh<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00457</span>          Dust<span class="uscript-operator">[</span><span class="uscript-number">1</span><span class="uscript-operator">]</span><span class="uscript-operator">.</span>UpdateDust<span class="uscript-operator">(</span>frontRight<span class="uscript-operator">,</span> DustSlipRate<span class="uscript-operator">,</span> DustSlipThresh<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00458</span>          Dust<span class="uscript-operator">[</span><span class="uscript-number">2</span><span class="uscript-operator">]</span><span class="uscript-operator">.</span>UpdateDust<span class="uscript-operator">(</span>rearLeft<span class="uscript-operator">,</span> DustSlipRate<span class="uscript-operator">,</span> DustSlipThresh<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00459</span>          Dust<span class="uscript-operator">[</span><span class="uscript-number">3</span><span class="uscript-operator">]</span><span class="uscript-operator">.</span>UpdateDust<span class="uscript-operator">(</span>rearRight<span class="uscript-operator">,</span> DustSlipRate<span class="uscript-operator">,</span> DustSlipThresh<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00460</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00461</span>  
<span class="uscript-line">00462</span>      UntilNextImpact <span class="uscript-operator">-=</span> Delta<span class="uscript-operator">;</span>
<span class="uscript-line">00463</span>  
<span class="uscript-line">00464</span>      <span class="uscript-comment">// This assume the sound is an idle-ing sound, and increases with pitch</span>
<span class="uscript-line">00465</span>      <span class="uscript-comment">// as wheels speed up.</span>
<span class="uscript-line">00466</span>      EnginePitch <span class="uscript-operator">=</span> <span class="uscript-number">64</span> <span class="uscript-operator">+</span> <span class="uscript-operator">(</span><span class="uscript-operator">(</span>WheelSpinSpeed<span class="uscript-operator">/</span>EnginePitchScale<span class="uscript-operator">)</span> <span class="uscript-operator">*</span> <span class="uscript-operator">(</span><span class="uscript-number">255</span><span class="uscript-number">-64</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00467</span>      SoundPitch <span class="uscript-operator">=</span> FClamp<span class="uscript-operator">(</span>EnginePitch<span class="uscript-operator">,</span> <span class="uscript-number">0</span><span class="uscript-operator">,</span> <span class="uscript-number">254</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00468</span>      <span class="uscript-comment">//Log("Engine Pitch:"$SoundPitch);</span>
<span class="uscript-line">00469</span>      <span class="uscript-comment">//SoundVolume = 255;</span>
<span class="uscript-line">00470</span>  
<span class="uscript-line">00471</span>      <span class="uscript-comment">// Currently, just use rear wheels for slipping noise</span>
<span class="uscript-line">00472</span>      TotalSlip <span class="uscript-operator">=</span> rearLeft<span class="uscript-operator">.</span>GroundSlipVel <span class="uscript-operator">+</span> rearRight<span class="uscript-operator">.</span>GroundSlipVel<span class="uscript-operator">;</span>
<span class="uscript-line">00473</span>      <span class="uscript-comment">//log("TotalSlip:"$TotalSlip);</span>
<span class="uscript-line">00474</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>TotalSlip <span class="uscript-operator">&gt;</span> SquealVelThresh<span class="uscript-operator">)</span>
<span class="uscript-line">00475</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00476</span>          rearLeft<span class="uscript-operator">.</span>AmbientSound <span class="uscript-operator">=</span> BulldogSquealSound<span class="uscript-operator">;</span>
<span class="uscript-line">00477</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00478</span>      <span class="uscript-keyword">else</span>
<span class="uscript-line">00479</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00480</span>          rearLeft<span class="uscript-operator">.</span>AmbientSound <span class="uscript-operator">=</span> <span class="uscript-keyword">None</span><span class="uscript-operator">;</span>
<span class="uscript-line">00481</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00482</span>  
<span class="uscript-line">00483</span>      <span class="uscript-comment">// Dont have triggers on network clients.</span>
<span class="uscript-line">00484</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>Level<span class="uscript-operator">.</span>NetMode <span class="uscript-operator">!=</span> NM_Client<span class="uscript-operator">)</span>
<span class="uscript-line">00485</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00486</span>          <span class="uscript-comment">// If vehicle is moving, disable collision for trigger.</span>
<span class="uscript-line">00487</span>          VMag <span class="uscript-operator">=</span> VSize<span class="uscript-operator">(</span>Velocity<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00488</span>  
<span class="uscript-line">00489</span>          <span class="uscript-keyword">if</span><span class="uscript-operator">(</span><span class="uscript-operator">!</span>bIsInverted <span class="uscript-operator">&amp;&amp;</span> VMag <span class="uscript-operator">&lt;</span> TriggerSpeedThresh <span class="uscript-operator">&amp;&amp;</span> TriggerState <span class="uscript-operator">==</span> <span class="uscript-keyword">false</span><span class="uscript-operator">)</span>
<span class="uscript-line">00490</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00491</span>              FLTrigger<span class="uscript-operator">.</span>SetCollision<span class="uscript-operator">(</span><span class="uscript-keyword">true</span><span class="uscript-operator">,</span> <span class="uscript-keyword">false</span><span class="uscript-operator">,</span> <span class="uscript-keyword">false</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00492</span>              FRTrigger<span class="uscript-operator">.</span>SetCollision<span class="uscript-operator">(</span><span class="uscript-keyword">true</span><span class="uscript-operator">,</span> <span class="uscript-keyword">false</span><span class="uscript-operator">,</span> <span class="uscript-keyword">false</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00493</span>              TriggerState <span class="uscript-operator">=</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>
<span class="uscript-line">00494</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00495</span>          <span class="uscript-keyword">else</span> <span class="uscript-keyword">if</span><span class="uscript-operator">(</span><span class="uscript-operator">(</span>bIsInverted <span class="uscript-operator">||</span> VMag <span class="uscript-operator">&gt;</span> TriggerSpeedThresh<span class="uscript-operator">)</span> <span class="uscript-operator">&amp;&amp;</span> TriggerState <span class="uscript-operator">==</span> <span class="uscript-keyword">true</span><span class="uscript-operator">)</span>
<span class="uscript-line">00496</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00497</span>              FLTrigger<span class="uscript-operator">.</span>SetCollision<span class="uscript-operator">(</span><span class="uscript-keyword">false</span><span class="uscript-operator">,</span> <span class="uscript-keyword">false</span><span class="uscript-operator">,</span> <span class="uscript-keyword">false</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00498</span>              FRTrigger<span class="uscript-operator">.</span>SetCollision<span class="uscript-operator">(</span><span class="uscript-keyword">false</span><span class="uscript-operator">,</span> <span class="uscript-keyword">false</span><span class="uscript-operator">,</span> <span class="uscript-keyword">false</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00499</span>              TriggerState <span class="uscript-operator">=</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00500</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00501</span>  
<span class="uscript-line">00502</span>          <span class="uscript-comment">// If vehicle is inverted, and slow, turn on big 'flip vehicle' trigger.</span>
<span class="uscript-line">00503</span>          <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>bIsInverted <span class="uscript-operator">&amp;&amp;</span> VMag <span class="uscript-operator">&lt;</span> TriggerSpeedThresh <span class="uscript-operator">&amp;&amp;</span> FlipTriggerState <span class="uscript-operator">==</span> <span class="uscript-keyword">false</span><span class="uscript-operator">)</span>
<span class="uscript-line">00504</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00505</span>              FlipTrigger<span class="uscript-operator">.</span>SetCollision<span class="uscript-operator">(</span><span class="uscript-keyword">true</span><span class="uscript-operator">,</span> <span class="uscript-keyword">false</span><span class="uscript-operator">,</span> <span class="uscript-keyword">false</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00506</span>              FlipTriggerState <span class="uscript-operator">=</span> <span class="uscript-keyword">true</span><span class="uscript-operator">;</span>    
<span class="uscript-line">00507</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00508</span>          <span class="uscript-keyword">else</span> <span class="uscript-keyword">if</span><span class="uscript-operator">(</span><span class="uscript-operator">(</span><span class="uscript-operator">!</span>bIsInverted <span class="uscript-operator">||</span> VMag <span class="uscript-operator">&gt;</span> TriggerSpeedThresh<span class="uscript-operator">)</span> <span class="uscript-operator">&amp;&amp;</span> FlipTriggerState <span class="uscript-operator">==</span> <span class="uscript-keyword">true</span><span class="uscript-operator">)</span>
<span class="uscript-line">00509</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00510</span>              FlipTrigger<span class="uscript-operator">.</span>SetCollision<span class="uscript-operator">(</span><span class="uscript-keyword">false</span><span class="uscript-operator">,</span> <span class="uscript-keyword">false</span><span class="uscript-operator">,</span> <span class="uscript-keyword">false</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00511</span>              FlipTriggerState <span class="uscript-operator">=</span> <span class="uscript-keyword">false</span><span class="uscript-operator">;</span>
<span class="uscript-line">00512</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00513</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00514</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00515</span>  
<span class="uscript-line">00516</span>  <span class="uscript-comment">// Really simple at the moment!</span>
<span class="uscript-line">00517</span>  <span class="uscript-keyword">function</span> TakeDamage<span class="uscript-operator">(</span><span class="uscript-type">int</span> Damage<span class="uscript-operator">,</span> Pawn instigatedBy<span class="uscript-operator">,</span> Vector hitlocation<span class="uscript-operator">,</span> 
<span class="uscript-line">00518</span>                          Vector momentum<span class="uscript-operator">,</span> <span class="uscript-keyword">class</span><span class="uscript-operator">&lt;</span>DamageType<span class="uscript-operator">&gt;</span> damageType<span class="uscript-operator">)</span>
<span class="uscript-line">00519</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00520</span>      <span class="uscript-comment">// Avoid damage healing the car!</span>
<span class="uscript-line">00521</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>Damage <span class="uscript-operator">&lt;</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00522</span>          <span class="uscript-keyword">return</span><span class="uscript-operator">;</span>
<span class="uscript-line">00523</span>  
<span class="uscript-line">00524</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>damageType <span class="uscript-operator">==</span> <span class="uscript-keyword">class</span><span class="uscript-name">'DamTypeSuperShockBeam'</span><span class="uscript-operator">)</span>
<span class="uscript-line">00525</span>          Health <span class="uscript-operator">-=</span> <span class="uscript-number">100</span><span class="uscript-operator">;</span> <span class="uscript-comment">// Instagib doesn't work on vehicles</span>
<span class="uscript-line">00526</span>      <span class="uscript-keyword">else</span>
<span class="uscript-line">00527</span>          Health <span class="uscript-operator">-=</span> <span class="uscript-number">0.5</span> <span class="uscript-operator">*</span> Damage<span class="uscript-operator">;</span> <span class="uscript-comment">// Weapons do less damage</span>
<span class="uscript-line">00528</span>  
<span class="uscript-line">00529</span>      <span class="uscript-comment">// The vehicle is dead!</span>
<span class="uscript-line">00530</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>Health <span class="uscript-operator">&lt;=</span> <span class="uscript-number">0</span><span class="uscript-operator">)</span>
<span class="uscript-line">00531</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00532</span>          <span class="uscript-keyword">if</span> <span class="uscript-operator">(</span> Controller <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span> <span class="uscript-operator">)</span>
<span class="uscript-line">00533</span>          <span class="uscript-operator">{</span>
<span class="uscript-line">00534</span>              <span class="uscript-keyword">if</span><span class="uscript-operator">(</span> Controller<span class="uscript-operator">.</span>bIsPlayer <span class="uscript-operator">)</span>
<span class="uscript-line">00535</span>              <span class="uscript-operator">{</span>
<span class="uscript-line">00536</span>                  ClientKDriverLeave<span class="uscript-operator">(</span>PlayerController<span class="uscript-operator">(</span>Controller<span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span> <span class="uscript-comment">// Just to reset HUD etc.</span>
<span class="uscript-line">00537</span>                  Controller<span class="uscript-operator">.</span>PawnDied<span class="uscript-operator">(</span><span class="uscript-keyword">self</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span> <span class="uscript-comment">// This should unpossess the controller and let the player respawn</span>
<span class="uscript-line">00538</span>              <span class="uscript-operator">}</span>
<span class="uscript-line">00539</span>              <span class="uscript-keyword">else</span>
<span class="uscript-line">00540</span>                  Controller<span class="uscript-operator">.</span>Destroy<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00541</span>          <span class="uscript-operator">}</span>
<span class="uscript-line">00542</span>  
<span class="uscript-line">00543</span>          Destroy<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span> <span class="uscript-comment">// Destroy the vehicle itself (see Destroyed below)</span>
<span class="uscript-line">00544</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00545</span>  
<span class="uscript-line">00546</span>      <span class="uscript-comment">//KAddImpulse(momentum, hitlocation);</span>
<span class="uscript-line">00547</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00548</span>  
<span class="uscript-line">00549</span>  <span class="uscript-keyword">defaultproperties</span>
<span class="uscript-line">00550</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00551</span>      DrawType<span class="uscript-operator">=</span>DT_StaticMesh
<span class="uscript-line">00552</span>      StaticMesh<span class="uscript-operator">=</span>StaticMesh<span class="uscript-name">'BulldogMeshes.Simple.S_Chassis'</span>
<span class="uscript-line">00553</span>  
<span class="uscript-line">00554</span>      Begin Object <span class="uscript-keyword">Class</span><span class="uscript-operator">=</span>KarmaParamsRBFull <span class="uscript-type">Name</span><span class="uscript-operator">=</span>KParams0
<span class="uscript-line">00555</span>          KInertiaTensor<span class="uscript-operator">(</span><span class="uscript-number">0</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-number">20</span>
<span class="uscript-line">00556</span>          KInertiaTensor<span class="uscript-operator">(</span><span class="uscript-number">1</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-number">0</span>
<span class="uscript-line">00557</span>          KInertiaTensor<span class="uscript-operator">(</span><span class="uscript-number">2</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-number">0</span>
<span class="uscript-line">00558</span>          KInertiaTensor<span class="uscript-operator">(</span><span class="uscript-number">3</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-number">30</span>
<span class="uscript-line">00559</span>          KInertiaTensor<span class="uscript-operator">(</span><span class="uscript-number">4</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-number">0</span>
<span class="uscript-line">00560</span>          KInertiaTensor<span class="uscript-operator">(</span><span class="uscript-number">5</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-number">48</span>
<span class="uscript-line">00561</span>          KCOMOffset<span class="uscript-operator">=</span><span class="uscript-operator">(</span>X<span class="uscript-operator">=</span><span class="uscript-number">0.8</span><span class="uscript-operator">,</span>Y<span class="uscript-operator">=</span><span class="uscript-number">0.0</span><span class="uscript-operator">,</span>Z<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">0.7</span><span class="uscript-operator">)</span>
<span class="uscript-line">00562</span>          KStartEnabled<span class="uscript-operator">=</span><span class="uscript-keyword">True</span>
<span class="uscript-line">00563</span>          KFriction<span class="uscript-operator">=</span><span class="uscript-number">1.6</span>
<span class="uscript-line">00564</span>          KLinearDamping<span class="uscript-operator">=</span><span class="uscript-number">0</span>
<span class="uscript-line">00565</span>          KAngularDamping<span class="uscript-operator">=</span><span class="uscript-number">0</span>
<span class="uscript-line">00566</span>          bKNonSphericalInertia<span class="uscript-operator">=</span><span class="uscript-keyword">False</span>
<span class="uscript-line">00567</span>          bHighDetailOnly<span class="uscript-operator">=</span><span class="uscript-keyword">False</span>
<span class="uscript-line">00568</span>          bClientOnly<span class="uscript-operator">=</span><span class="uscript-keyword">False</span>
<span class="uscript-line">00569</span>          bKDoubleTickRate<span class="uscript-operator">=</span><span class="uscript-keyword">True</span>
<span class="uscript-line">00570</span>          <span class="uscript-type">Name</span><span class="uscript-operator">=</span><span class="uscript-string">"KParams0"</span>
<span class="uscript-line">00571</span>      End Object
<span class="uscript-line">00572</span>      KParams<span class="uscript-operator">=</span>KarmaParams<span class="uscript-name">'KParams0'</span>
<span class="uscript-line">00573</span>  
<span class="uscript-line">00574</span>      DrawScale<span class="uscript-operator">=</span><span class="uscript-number">0.4</span>
<span class="uscript-line">00575</span>  
<span class="uscript-line">00576</span>      FrontTireClass<span class="uscript-operator">=</span><span class="uscript-keyword">class</span><span class="uscript-name">'BulldogTire'</span>
<span class="uscript-line">00577</span>      RearTireClass<span class="uscript-operator">=</span><span class="uscript-keyword">class</span><span class="uscript-name">'BulldogTire'</span>
<span class="uscript-line">00578</span>  
<span class="uscript-line">00579</span>      WheelFrontAlong<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">100</span>
<span class="uscript-line">00580</span>      WheelFrontAcross<span class="uscript-operator">=</span><span class="uscript-number">110</span>
<span class="uscript-line">00581</span>      WheelRearAlong<span class="uscript-operator">=</span><span class="uscript-number">115</span>
<span class="uscript-line">00582</span>      WheelRearAcross<span class="uscript-operator">=</span><span class="uscript-number">110</span>
<span class="uscript-line">00583</span>      WheelVert<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">15</span>
<span class="uscript-line">00584</span>  
<span class="uscript-line">00585</span>      DestroyedEffect<span class="uscript-operator">=</span><span class="uscript-keyword">class</span><span class="uscript-name">'XEffects.RocketExplosion'</span>
<span class="uscript-line">00586</span>      DestroyedSound<span class="uscript-operator">=</span>sound<span class="uscript-name">'WeaponSounds.P1RocketLauncherAltFire'</span>
<span class="uscript-line">00587</span>  
<span class="uscript-line">00588</span>  
<span class="uscript-line">00589</span>      <span class="uscript-comment">//FrontTriggerOffset=(X=174,Y=0,Z=20)</span>
<span class="uscript-line">00590</span>      FrontTriggerOffset<span class="uscript-operator">=</span><span class="uscript-operator">(</span>X<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">,</span>Y<span class="uscript-operator">=</span><span class="uscript-number">165</span><span class="uscript-operator">,</span>Z<span class="uscript-operator">=</span><span class="uscript-number">10</span><span class="uscript-operator">)</span>
<span class="uscript-line">00591</span>  
<span class="uscript-line">00592</span>      TriggerSpeedThresh<span class="uscript-operator">=</span><span class="uscript-number">40</span>
<span class="uscript-line">00593</span>  
<span class="uscript-line">00594</span>      HeadlightOffset<span class="uscript-operator">=</span><span class="uscript-operator">(</span>X<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">200</span><span class="uscript-operator">,</span>Y<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">,</span>Z<span class="uscript-operator">=</span><span class="uscript-number">50</span><span class="uscript-operator">)</span>
<span class="uscript-line">00595</span>      HeadlightOn<span class="uscript-operator">=</span><span class="uscript-keyword">false</span>
<span class="uscript-line">00596</span>  
<span class="uscript-line">00597</span>      <span class="uscript-comment">// Light materials</span>
<span class="uscript-line">00598</span>      ReverseMaterial<span class="uscript-operator">=</span>Material<span class="uscript-name">'VehicleFX.BDReverseLight_ON'</span>
<span class="uscript-line">00599</span>      BrakeMaterial<span class="uscript-operator">=</span>Material<span class="uscript-name">'VehicleFX.BDTaiLight_ON'</span>
<span class="uscript-line">00600</span>      TailOffMaterial<span class="uscript-operator">=</span>Material<span class="uscript-name">'VehicleFX.BDTailOff'</span>
<span class="uscript-line">00601</span>  
<span class="uscript-line">00602</span>      HeadlightOnMaterial<span class="uscript-operator">=</span>Material<span class="uscript-name">'VehicleFX.BDHeadlights_ON'</span>
<span class="uscript-line">00603</span>      HeadlightOffMaterial<span class="uscript-operator">=</span>Material<span class="uscript-name">'VehicleFX.BDHeadlights'</span>
<span class="uscript-line">00604</span>  
<span class="uscript-line">00605</span>      HeadlightCoronaOffset<span class="uscript-operator">(</span><span class="uscript-number">0</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-operator">(</span>X<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">199</span><span class="uscript-operator">,</span>Y<span class="uscript-operator">=</span><span class="uscript-number">51</span><span class="uscript-operator">,</span>Z<span class="uscript-operator">=</span><span class="uscript-number">57</span><span class="uscript-operator">)</span>
<span class="uscript-line">00606</span>      HeadlightCoronaOffset<span class="uscript-operator">(</span><span class="uscript-number">1</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-operator">(</span>X<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">199</span><span class="uscript-operator">,</span>Y<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">51</span><span class="uscript-operator">,</span>Z<span class="uscript-operator">=</span><span class="uscript-number">57</span><span class="uscript-operator">)</span>
<span class="uscript-line">00607</span>      HeadlightCoronaOffset<span class="uscript-operator">(</span><span class="uscript-number">2</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-operator">(</span>X<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">128</span><span class="uscript-operator">,</span>Y<span class="uscript-operator">=</span><span class="uscript-number">38</span><span class="uscript-operator">,</span>Z<span class="uscript-operator">=</span><span class="uscript-number">125</span><span class="uscript-operator">)</span>
<span class="uscript-line">00608</span>      HeadlightCoronaOffset<span class="uscript-operator">(</span><span class="uscript-number">3</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-operator">(</span>X<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">189</span><span class="uscript-operator">,</span>Y<span class="uscript-operator">=</span><span class="uscript-number">93</span><span class="uscript-operator">,</span>Z<span class="uscript-operator">=</span><span class="uscript-number">28</span><span class="uscript-operator">)</span>
<span class="uscript-line">00609</span>      HeadlightCoronaOffset<span class="uscript-operator">(</span><span class="uscript-number">4</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-operator">(</span>X<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">183</span><span class="uscript-operator">,</span>Y<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">93</span><span class="uscript-operator">,</span>Z<span class="uscript-operator">=</span><span class="uscript-number">26</span><span class="uscript-operator">)</span>
<span class="uscript-line">00610</span>      HeadlightCoronaOffset<span class="uscript-operator">(</span><span class="uscript-number">5</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-operator">(</span>X<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">190</span><span class="uscript-operator">,</span>Y<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">51</span><span class="uscript-operator">,</span>Z<span class="uscript-operator">=</span><span class="uscript-number">77</span><span class="uscript-operator">)</span>
<span class="uscript-line">00611</span>      HeadlightCoronaOffset<span class="uscript-operator">(</span><span class="uscript-number">6</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-operator">(</span>X<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">128</span><span class="uscript-operator">,</span>Y<span class="uscript-operator">=</span><span class="uscript-number">63</span><span class="uscript-operator">,</span>Z<span class="uscript-operator">=</span><span class="uscript-number">123</span><span class="uscript-operator">)</span>
<span class="uscript-line">00612</span>      HeadlightCoronaOffset<span class="uscript-operator">(</span><span class="uscript-number">7</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-operator">(</span>X<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">185</span><span class="uscript-operator">,</span>Y<span class="uscript-operator">=</span><span class="uscript-number">85</span><span class="uscript-operator">,</span>Z<span class="uscript-operator">=</span><span class="uscript-number">10</span><span class="uscript-operator">)</span>
<span class="uscript-line">00613</span>  
<span class="uscript-line">00614</span>      <span class="uscript-comment">// Sounds</span>
<span class="uscript-line">00615</span>      EnginePitchScale<span class="uscript-operator">=</span><span class="uscript-number">655350</span>
<span class="uscript-line">00616</span>      HitSoundThreshold<span class="uscript-operator">=</span><span class="uscript-number">30</span>
<span class="uscript-line">00617</span>      SquealVelThresh<span class="uscript-operator">=</span><span class="uscript-number">15</span>
<span class="uscript-line">00618</span>  
<span class="uscript-line">00619</span>      DustSlipRate<span class="uscript-operator">=</span><span class="uscript-number">2.8</span>
<span class="uscript-line">00620</span>      DustSlipThresh<span class="uscript-operator">=</span><span class="uscript-number">0.1</span>
<span class="uscript-line">00621</span>      DustDrop<span class="uscript-operator">=</span><span class="uscript-number">30</span>
<span class="uscript-line">00622</span>  
<span class="uscript-line">00623</span>      <span class="uscript-comment">// Weaponary</span>
<span class="uscript-line">00624</span>      bSpecialHUD<span class="uscript-operator">=</span><span class="uscript-keyword">true</span>
<span class="uscript-line">00625</span>      FireInterval<span class="uscript-operator">=</span><span class="uscript-number">0.9</span>
<span class="uscript-line">00626</span>      TargettingInterval<span class="uscript-operator">=</span><span class="uscript-number">0.5</span>
<span class="uscript-line">00627</span>      RocketFireOffset<span class="uscript-operator">=</span><span class="uscript-operator">(</span>X<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">,</span>Y<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">,</span>Z<span class="uscript-operator">=</span><span class="uscript-number">180</span><span class="uscript-operator">)</span>
<span class="uscript-line">00628</span>      TargettingRange<span class="uscript-operator">=</span><span class="uscript-number">5000</span>
<span class="uscript-line">00629</span>      TargetMaterial<span class="uscript-operator">=</span>Material<span class="uscript-name">'InterfaceContent.Hud.fbBombFocus'</span>
<span class="uscript-line">00630</span>      
<span class="uscript-line">00631</span>  
<span class="uscript-line">00632</span>      <span class="uscript-comment">// Driver positions</span>
<span class="uscript-line">00633</span>      
<span class="uscript-line">00634</span>      ExitPositions<span class="uscript-operator">(</span><span class="uscript-number">0</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-operator">(</span>X<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">,</span>Y<span class="uscript-operator">=</span><span class="uscript-number">200</span><span class="uscript-operator">,</span>Z<span class="uscript-operator">=</span><span class="uscript-number">100</span><span class="uscript-operator">)</span>
<span class="uscript-line">00635</span>      ExitPositions<span class="uscript-operator">(</span><span class="uscript-number">1</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-operator">(</span>X<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">,</span>Y<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">200</span><span class="uscript-operator">,</span>Z<span class="uscript-operator">=</span><span class="uscript-number">100</span><span class="uscript-operator">)</span>
<span class="uscript-line">00636</span>      ExitPositions<span class="uscript-operator">(</span><span class="uscript-number">2</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-operator">(</span>X<span class="uscript-operator">=</span><span class="uscript-number">350</span><span class="uscript-operator">,</span>Y<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">,</span>Z<span class="uscript-operator">=</span><span class="uscript-number">100</span><span class="uscript-operator">)</span>
<span class="uscript-line">00637</span>      ExitPositions<span class="uscript-operator">(</span><span class="uscript-number">3</span><span class="uscript-operator">)</span><span class="uscript-operator">=</span><span class="uscript-operator">(</span>X<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">350</span><span class="uscript-operator">,</span>Y<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">,</span>Z<span class="uscript-operator">=</span><span class="uscript-number">100</span><span class="uscript-operator">)</span>
<span class="uscript-line">00638</span>      
<span class="uscript-line">00639</span>      DrivePos<span class="uscript-operator">=</span><span class="uscript-operator">(</span>X<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">165</span><span class="uscript-operator">,</span>Y<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">,</span>Z<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">100</span><span class="uscript-operator">)</span>
<span class="uscript-line">00640</span>  
<span class="uscript-line">00641</span>      OutputBrake<span class="uscript-operator">=</span><span class="uscript-number">1</span>
<span class="uscript-line">00642</span>      Steering<span class="uscript-operator">=</span><span class="uscript-number">0</span>
<span class="uscript-line">00643</span>      Throttle<span class="uscript-operator">=</span><span class="uscript-number">0</span>
<span class="uscript-line">00644</span>      Gear<span class="uscript-operator">=</span><span class="uscript-number">1</span>
<span class="uscript-line">00645</span>      StopThreshold<span class="uscript-operator">=</span><span class="uscript-number">40</span>
<span class="uscript-line">00646</span>  
<span class="uscript-line">00647</span>      MaxSteerAngle<span class="uscript-operator">=</span><span class="uscript-number">3400</span>
<span class="uscript-line">00648</span>      MaxBrakeTorque<span class="uscript-operator">=</span><span class="uscript-number">55</span>
<span class="uscript-line">00649</span>  
<span class="uscript-line">00650</span>      TorqueCurve<span class="uscript-operator">=</span><span class="uscript-operator">(</span>Points<span class="uscript-operator">=</span><span class="uscript-operator">(</span><span class="uscript-operator">(</span>InVal<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">,</span>OutVal<span class="uscript-operator">=</span><span class="uscript-number">270</span><span class="uscript-operator">)</span><span class="uscript-operator">,</span><span class="uscript-operator">(</span>InVal<span class="uscript-operator">=</span><span class="uscript-number">20000</span><span class="uscript-operator">,</span>OutVal<span class="uscript-operator">=</span><span class="uscript-number">170</span><span class="uscript-operator">)</span><span class="uscript-operator">,</span><span class="uscript-operator">(</span>InVal<span class="uscript-operator">=</span><span class="uscript-number">300000</span><span class="uscript-operator">,</span>OutVal<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">00651</span>      TorqueSplit<span class="uscript-operator">=</span><span class="uscript-number">0.5</span>
<span class="uscript-line">00652</span>      SteerPropGap<span class="uscript-operator">=</span><span class="uscript-number">500</span>
<span class="uscript-line">00653</span>      SteerTorque<span class="uscript-operator">=</span><span class="uscript-number">15000</span>
<span class="uscript-line">00654</span>      SteerSpeed<span class="uscript-operator">=</span><span class="uscript-number">20000</span>
<span class="uscript-line">00655</span>  
<span class="uscript-line">00656</span>      TireMass<span class="uscript-operator">=</span><span class="uscript-number">0.5</span>    
<span class="uscript-line">00657</span>      ChassisMass<span class="uscript-operator">=</span><span class="uscript-number">8</span>
<span class="uscript-line">00658</span>  
<span class="uscript-line">00659</span>      TireRollFriction<span class="uscript-operator">=</span><span class="uscript-number">1.5</span>
<span class="uscript-line">00660</span>      TireLateralFriction<span class="uscript-operator">=</span><span class="uscript-number">1.5</span>
<span class="uscript-line">00661</span>      TireRollSlip<span class="uscript-operator">=</span><span class="uscript-number">0.06</span>
<span class="uscript-line">00662</span>      TireLateralSlip<span class="uscript-operator">=</span><span class="uscript-number">0.04</span>
<span class="uscript-line">00663</span>      TireMinSlip<span class="uscript-operator">=</span><span class="uscript-number">0.001</span>
<span class="uscript-line">00664</span>      TireSlipRate<span class="uscript-operator">=</span><span class="uscript-number">0.007</span>
<span class="uscript-line">00665</span>      TireSoftness<span class="uscript-operator">=</span><span class="uscript-number">0.0</span>
<span class="uscript-line">00666</span>      TireAdhesion<span class="uscript-operator">=</span><span class="uscript-number">0</span>
<span class="uscript-line">00667</span>      TireRestitution<span class="uscript-operator">=</span><span class="uscript-number">0</span>
<span class="uscript-line">00668</span>  
<span class="uscript-line">00669</span>      HandbrakeThresh<span class="uscript-operator">=</span><span class="uscript-number">1000</span>
<span class="uscript-line">00670</span>      TireHandbrakeSlip<span class="uscript-operator">=</span><span class="uscript-number">0.2</span>
<span class="uscript-line">00671</span>      TireHandbrakeFriction<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">1.2</span>
<span class="uscript-line">00672</span>  
<span class="uscript-line">00673</span>      SuspStiffness<span class="uscript-operator">=</span><span class="uscript-number">150</span>
<span class="uscript-line">00674</span>      SuspDamping<span class="uscript-operator">=</span><span class="uscript-number">14.5</span>
<span class="uscript-line">00675</span>      SuspHighLimit<span class="uscript-operator">=</span><span class="uscript-number">0.5</span>
<span class="uscript-line">00676</span>      SuspLowLimit<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">0.5</span>
<span class="uscript-line">00677</span>      SuspRef<span class="uscript-operator">=</span><span class="uscript-number">0</span>
<span class="uscript-line">00678</span>  
<span class="uscript-line">00679</span>      AirSpeed <span class="uscript-operator">=</span> <span class="uscript-number">5000</span>
<span class="uscript-line">00680</span>  
<span class="uscript-line">00681</span>      Health<span class="uscript-operator">=</span><span class="uscript-number">300</span>
<span class="uscript-line">00682</span>  
<span class="uscript-line">00683</span>      <span class="uscript-comment">// sound</span>
<span class="uscript-line">00684</span>      SoundRadius<span class="uscript-operator">=</span><span class="uscript-number">255</span>
<span class="uscript-line">00685</span>      
<span class="uscript-line">00686</span>      UntilNextImpact<span class="uscript-operator">=</span><span class="uscript-number">500</span>
<span class="uscript-line">00687</span>  <span class="uscript-operator">}</span></pre><p>Pz. help.</p>
<p><em class="em2">EntropicLqd:</em> Is this in a new class?  Any reason why you didn't post the whole code segment?</p>
<p><em class="em2">ProjectX:</em> It's a modification of the bulldog, so it has lower acceleration and slightly higher speed, this is the only part i've changed so far, and this is the only part, therefore, where my problem will be.</p>
<p><em class="em2">ZxAnPhOrIaN:</em> I am a n00b at uscripting also.. Look at my new map component at the open source area. It is a multi skybox zone thing similar to slickwilly's UT one, but more "user(or n00b)-friendly". And its for UT2003!</p>
<p><em class="em2">AlphaOne:</em> What happens when you try to run this codes? Does it actually compile?</p>
<p><em class="em2">ProjectX:</em> It compiles fine in UCC make and it appears in-game, i just cant enter it, thats the only thing wrong.</p>
<p><em class="em2">ProjectX:</em> I've found the problem, i forgot to change one of the class names in bulldog trigger. My new problem is now occurring (isn't debugging fun!?!?!?) Its in the uscript section above and heres the error i get in UCC MAKE: Error, type mismatch in '='. Ok, the line is line 292 in the script.</p>
<p><em class="em2">ProjectX:</em> Does anyone know what's wrong?</p>
<p><em class="em2">AlphaOne:</em> You must be really frustrated with this!? Before I try to help you, I would like to know if you modified the <em class="em2">actuall</em> bulldog code or created a subclass of a bulldog? If you modified the original bulldog, then you shouldn't be doing that. Really. That's why most of the original game code says that if you modify it you'll have problems. You either subclass the bulldog, or copy+pase the bulldog code into your own version of the bulldog. You can find how to <a href="create-a-subclass.html">Create A Subclass</a> here. Alternatively, you can totally recreate your own bulldog, by creating a new package, creating classes MyBulldog and MyBulldogTires. Then fool around with those variables. The first step is easier (I think). When you subclass the bulldog, only include (in the defaultproperties) those variables that you've changed. If you don't know Object Oriented Programming (OOP), then you should search the net or this site for more info. It is the key to programming in UScript. I hope that helps.</p>
<p><em class="em2">ProjectX:</em> I copied the script to my own folder and compiled with UCC Make, changing the name to "betterbulldog"</p>
<p><em class="em2">ProjectX:</em> so ure all as infuriatingly n00bish as me/ have other stuff to do/ dont like me?</p>
<p><em class="em2">ProjectX:</em> I know this is a lot of code for you to help me with, but this is my first time at coding and if i dont get help now you may forever lose out on some great random insanity (like Food Fight UT2K3 not copyrighted in anyway, i would love to see this idea made)and anyway, the problem is only with 1 line of code, though i recognise that it may be due to another line of code somewhere else.</p>
<p><em class="em2">Mychaeel:</em> What's your problem with that code, again?  Compiler error in line 292?</p>
<p><em class="em2">EntropicLqd:</em> Bah - beat me to it.</p>
<p><em class="em2">Daid303:</em> Uh, can't find anything that wrong with line 292. Are you really really sure that this is YOUR code, and that that is the Right error?</p>
<p><em class="em2">Mychaeel:</em> Do you happen to have your <em class="em1">own</em> version of class BulldogRocket in your package?  Then that class and class Vehicles.BulldogRocket would indeed mismatch.</p>
<p><em class="em2">ProjectX:</em> That could be it, i shall check</p>
<p><em class="em2">MythOpus:</em> As you may or may not know... line ' 292 ' refers to the class that shoots the rocket.  Are you sure you have changed this to the class you have? Ex- Vehicles.OriginalBulldogFire to MyPackage.MyClassFire ?</p>
<p><em class="em2">Foxpaw:</em> I decided to pore over this and figure out "what's down with that." <img alt=":P" src="emoticons/tongue.gif" align="middle"></p>
<p>This is a part that doesn't work. It may have been an error in the copying, but other than this it compiled fine. (Actually I didn't have any betterbulldogtriggers so I just substituted them for regular bulldog triggers and made it so you can enter an empty betterbulldog by shooting it.. but you would probrably like to retain the method you have now.</p>
<pre class="uscript">  <span class="uscript-name">''</span><span class="uscript-name">'Headlight.Destroy();</span>

  <span class="uscript-keyword">for</span><span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span><span class="uscript-number">4</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
    Dust<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Destroy<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>

  <span class="uscript-keyword">for</span><span class="uscript-operator">(</span>i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span><span class="uscript-number">8</span><span class="uscript-operator">;</span> i<span class="uscript-operator">++</span><span class="uscript-operator">)</span>
    HeadlightCorona<span class="uscript-operator">[</span>i<span class="uscript-operator">]</span><span class="uscript-operator">.</span>Destroy<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span><span class="uscript-name">''</span><span class="uscript-name">'</span></pre><p>''' specifies a name constant, and obviously, is an invalid one.</p>
<p>Other than the bit above, it compiled and drove fine. It flips a lot less than the regular bulldog too.</p>
</div>
</div>

<div id="footer" class="bar">
	<p>
<a href="../index.html">Home Page</a> | <a href="projectx.html">ProjectX</a> | <a href="recent-changes.html">Recent Changes</a><br>
Last edited September 17, 2003 22:54 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=ProjectX/Code">(diff)</a><br>Search: <input type="text" name="search"  size="14" /><input type="button" onclick="location.href='../search-error/index.html';" value="search" /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/ProjectX/Code">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>

	</p>
	<p>The three virtues of a programmer: Laziness, Impatience, and Hubris. (Larry Wall)
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="../index.html"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>


<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
