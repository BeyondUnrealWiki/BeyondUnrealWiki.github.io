<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: Dante/Developer Journal</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=Dante/Developer_Journal; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<form class="inline" method="post" action="/wiki" enctype="application/x-www-form-urlencoded"><input type="text" name="search"  size="20" /> <input type="submit" name="search" value="search" /></form>
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="(start).html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a> | <a href="http://wiki.beyondunreal.com/wiki?action=editprefs">Preferences</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="dante.html">Dante</a>/<a href="http://wiki.beyondunreal.com/wiki?back=Dante/Developer+Journal">Developer Journal</a></h1>
	<div class="wiki"><h2><a name="0.1"></a>Project UDG 2.0</h2>
<p>A few months ago I created UDG (Unreal docs generator). I didn't like it much, and the parsing was quite primitive. A few days ago, I found a nice tool which was former developed by sun: javacc (java compiler compiler )</p>
<p>So instead of handwriting the lexer/parser stuff, I'm rather writing the grammar for unrealscript.</p>
<p>Javacc uses a notation which seems to be translatable to EBNF. Unlike some other parser generators, the generated source code also doesn't depend on any libraries besides the standard one.</p>
<p>I hope I will continue this project <img alt=";)" src="emoticons/wink.gif" align="middle"></p>
<p><em class="em1">Update:</em> Well well, javacc wasn't the right tool for the job. But handwriting was! The parser's up and running.</p>
<p>If you want to comment, place it below this page or below the day you want to comment.</p>
<h2><a name="0.2"></a>May, 26th 2003</h2>
<p>It'll still take a while to get javacc to make all things I want it to do. Absolut posted some ideas of changing DA on the internal forums. He tried to mix my and his interests with the DA concept. The team didn't react very positive about it (I expected that). So I will not lead code there. Some of the team members really had some crazy ideas. Everything they want can be done with, of course, enormous amount of work. They're mappers and obviously got the easiest part in all that work (mapping a space area isn't that complicated I guess). The modellers would have a hell lot of work. The poor coders (not me, I'm part-time <img alt=";)" src="emoticons/wink.gif" align="middle"> will cry rivers.</p>
<h2><a name="0.3"></a>May, 21th 2003</h2>
<ul><li>Updated UDGs new grammar too: States are not parsed too. </li>
</ul>
<p>Had a lot of problems with unrealscript allowing "reserved" words as names for variables/methods. Fixed that. The list of recognized tokens is HUGE - I feel sorry for the guy who coded ucc. I tested my grammar on core and engine - it did pass without errors. Next step: generating a parse tree with the help of jjtree (a tool that comes with javacc). Argh - I found DominationPoint_rc which doesn't "\n" at the last exec. Also found a class which didn't have a closing "}" for defaultproperties...</p>
<h2><a name="0.4"></a>May, 20th 2003</h2>
<p>I somehow dislike my math courses. Absolut from <a href="http://www.planetunreal.com/da">[Defence Alliance]</a> and I talked about changing DA a bit, so he wants me to be Lead coder again. I don't know if I want to do that again <img alt=";)" src="emoticons/wink.gif" align="middle"></p>
<p>DA isn't as interesting to me as it was in UT. Maybe I start a new mod, or join a existing one.</p>
<pre class="paraverbatim"> </pre><h2><a name="0.5"></a>May, 20th 2003</h2>
<p>Tested only with "Object", "Actor" and "Playercontroller":</p>
<p>- Parses "class" statement and all those nativereplication, abstract, ... things</p>
<p>- Handles "var" statements with various modifiers like input, transient, ...</p>
<p>- Parses enums, also in combination with var</p>
<p>- Parses structs</p>
<p>- Parses events, functions and operators with parameters, ignores method bodies. I found a "event function" in PlayerController - wtf ? Still - I changed grammar to match them too.</p>
<p>Even thought I've never written such a big grammar (only small one's in one of my courses) I'm quite happy with the current thing. </p>
<h2><a name="0.6"></a>May, 30th 2003</h2>
<p>To have a working <em class="em1">Documentation compiler</em> still will take some time. My damn monitor suicided. I used an old 14" thing, which did strange things with light pictures. Today I bought a new one. Really OT: I finally watched Matrix reloaded on tuesday. Except the dancing scene and the "end", the movie is great. I still think it's funny that mankind darkened the sky, althought every form of life is based on it. And it's funny that the machines are using us as energy source, even thought a few power plants will provide more energy in an easier way.</p>
<h2><a name="0.7"></a>Juni, 2nd 2003</h2>
<p>I finished my proseminar work on the subject "HTN Planning". "Bridge Baron" is a Contract Bridge playing program which uses HTN. Hierarchical Task Network Planning is proven to be more expressive than state machines. Maybe an implementation for UT would be cool. It would allow mod developers to add new features to the bots. But since UT hasn't static variables one would need to place those things into levels, or subclass a bot. This would also mean that there could be different bots (codewise) which will still work with a mod without any special work. The basic bot would just have to provide some basic <em class="em1">Tasks</em> without <em class="em1">Methods</em> that decompose those.</p>
<h2><a name="0.8"></a>Juni, 29th 2003</h2>
<p>There's an error in the text above. I didn't finish my proseminar really yet. Actually I just have to return versions of it over and over again. I decided that the next version of UDG should be open source. Also, it should no longer produce html directly. Instead, it will create xml output which can be postprocessed by xslt code. I actually did some work with my planning bots <img alt=";)" src="emoticons/wink.gif" align="middle"></p>
<p>I was too much thinking in the turn based way of making decision. That won't work with UT very well as it would have to calculate too many things for making decision. I also found another error above, of course the basic bots would need to have methods to decompose at least the given tasks to <em class="em1">primitive operators</em>. </p>
<p>Bah - the DA team finally made me rejoin the team as coder. I'm still not very motivated, and I told them. And I know that people like me, who aren't motivated, don't help a specific mod (like DA in this case) much. Maybe I should take a break from the UT scene like 2cool did.</p>
<p>Oh and my "new" monitor sucks big time. I bought an Hyundai Q910. Actually I called them for warranty 2 times. Both monitors I got had the same failure. At least their support is nice and I don't have to pay even 1 eurocent for anything.</p>
<h2><a name="0.9"></a>Juli, 26th 2003</h2>
<p>Ok finally the proseminar is over. Hell lot of work.</p>
<p>I did alot of coding for DA again. Mainly weapon stuff - the really bad thing in UT2003. UT2003's weapon code is a good example for how it shouldn't be done IMO. </p>
<p>I found out that jeroen (2cool4-u) is now lead coder on Deathball. I think he's hard working and really deserved it. I also guess that he did take that break from modding to get some distance between DA and himself. He wasn't interested in DA anymore, but I guess people from DA (most of them are really nice) kept asking him to help. So he decided to "leave". Clever boy <img alt=";)" src="emoticons/wink.gif" align="middle"></p>
<p>UDG also received some time. I dropped the idea of writing a parser with javacc. It's a great tool, but it doesn't allow something like inheritable Token constructs. Therefore matching on "event" doesn't imply that it's a &lt;IDENTIFER&gt;. But unrealscript allows those names (example is the string event in class Actor). I therefore decided to write my own Scanner/Parser. The scanner is working and is one big funny list of regexps. The parser is a recursive one and does some weird things. </p>
<h2><a name="0.10"></a>Juli, 29th 2003</h2>
<p>Although I'm going to rewrite the scanner anyway I already had to fix a not documented "feature" in java. Large matchings sometimes throw StackExceptions. Obviously comments are vulnerable for this.</p>
<p>Method parsing is now working well. I'm not using the parsed method modifiers yet. Also method parameters aren't parsed yet - I think I'll implement this today.</p>
<p><em class="em1">Update:</em> I really updated it. Also added delegate. Also states, and methods within them are parsed.</p>
<h2><a name="0.11"></a>Juli, 31th 2003</h2>
<p>I would still call this 30th but it's already 0:20 am. Crazy as I am I rewrote the parser and I'm now using much of the [UnrealScript Grammar] info. That grammar seems to have some minor flaws but my parser seems to work since I only use it as a reference. I already started writing the new parser yesterday. And I made fast progress: It parses consts/structs/enums/states/functions/events/delegates.</p>
<h2><a name="0.12"></a>August, 5th 2003</h2>
<p>Again a exam was on my schedule. Case closed. I had no time to work on UDG. Currently I'm also busy with DA.</p>
<h2><a name="0.13"></a>August, 19th 2003</h2>
<p>Well I worked alot on DA. Before I returned to DA, there were a lot of internal builds (using buildnumbers which weren't any). But all those releases had only small updates, well I don't need to hand out a file to each team member each time I rebuilt. So we were going to make a bigger IR release. DA seems to become some sort of hyper Assault mod. Our mappers want tons of features, but then they should naturally be able to handle them too. Why I'll like trial and error learning it's not recommend when they could ask me instead of producing some strange things in maps.</p>
<p>UDG - well it had a few minor bugs which were enough to stop me coding on it. After downloading and testng UClasses I'm a bit more motivated. Although UClasses seems to be nice program, it takes ages to load the class tree. I guess it should usually show variables etc. but maybe it doesn't work on UT2k3. </p>
<p>After fixing it now seems to detect methods too. Actually a problem in my state parsing consumed necessary tokens.</p>
<p>Ok, I just parsed core, engine and unrealgame and the parser did reach 'defaultroperties' or EOF everytime. Since I don't parse defaultproperties this means it has parsed everything but CppTexts, method bodies or anything like that.</p>
<p>Update: I've rewritten the scanner which used some regexp combo. I knew that it would be slow and it was very slow. The new scanner is 3-5 times faster.</p>
<h2><a name="0.14"></a>August, 20th 2003</h2>
<p>Lol, exactly 1337 classes in my editpackages (wihout my mods). Parsing + name resolving takes about 8 seconds which is pretty fast compared to the old UDG which had a far simpler parser and scanner. Well before yesterday, UDG was just meant to be a documentation generating engine. But after looking at UClasses and <a href="uncodex.html">UnCodeX</a> and after the mucho of work I invested, I decided to make it a more advanced tool. Just if anybody reads this, I'm still doing it for my own eduction and due to the fact that I'm just a bit weird (Like most coders <em class="em1">/me runs</em>). Oh - and because I'm changing the "feature list" of this project, I'm going to rename it too <img alt=";)" src="emoticons/wink.gif" align="middle"> I just need a good name...</p>
<h2><a name="0.15"></a>August, 25th 2003</h2>
<p>I was on a LAN this weekend, so no progress. I was told that UDG is a finalist in the "tools" category of the MSU contest. I'm happy about that. It also motivates me to make a powerful UDG 2. I planned to make a GUI for it since I can actually do things now that weren't possible on the old version. On the other hand, I did some recoding of the parser which I'm going to revert because it's buggy and sucks.</p>
<p>Close before 26th <img alt=";)" src="emoticons/wink.gif" align="middle"> The parser is running fine again, I also have some GUI elements already, mainly package and class tree stuff. I started a html exporter, but I'm unsure about the current implementation. I also want to prevent an information overflow. I also made a short hack and included a class viewer. It doesn't do any highlighting yet since I'm concentrating on the html exporter.</p>
<h2><a name="0.16"></a>August, 29th 2003</h2>
<p>It's all about design decisions. At first I decided to resolve all identifiers after the parsing stage. But I'm currently rearranging the code to dynamically resolve. The new UDG should be able to run while one edits, and only reparse changed files. That would've meant that I'd had to resolve the complete package structure again (the old way). Now I just parse the class and everything should be fine. I didn't yet test the system against "wrong" code, some of the dynamic resolving might crash on it, but I'll see.</p>
<h2><a name="0.17"></a>September, 5th 2003</h2>
<p>Ok the dynamic resolving seems to work ok. I'm using caches to speed resolving up. I also nearly finished my html export function. But it's sloooow. I thought the java DOM implementation was quiet fast. I was disabused, it's the part slowing everything down. Exporting takes 2 minutes. This is kind of funny compared to the fact that parsing takes 5-10 seconds.</p>
<p>Other news: We had a internal release of our mod. Only minor bugs were found, many of them because of not update-to-date UT2k3 installations. Many "suggestions" were posted as if they'd be bugs. It's a bit annoying to filter out the real bugs.</p>
<h2><a name="0.18"></a>September, 8th 2003</h2>
<p>Ok, DOM was slow and my resolving too because I tried to resolve each Token to classes, structs etc. The old resolve-mechanism tried to resolve it to a thing if it didn't know it yet which lead to huge performance loss. The html export is now nearly finished.</p>
<p>I also found a little problem with my resolving. Since 2 packages can have classes with same classnames it's difficult to "remember" them both. Currently resolving uses the most current one which is bad of course. To solve this I will introduce package based resolving which will resolve to the most "current" item at the point the package was parsed.</p>
<p>Following there's a little snapshot from the current version. It shows the package tree view, the class comment tooltip and the source viewer.</p>
<div class="floatimages"><table border=0 cellspacing=0 cellpadding=0 align=center width=1><tr valign=top><td class="floatimages-block"><div><img alt="[udg2_preview]" src="images/udg2-preview.png"><p>UDG2</p>
</div>
</td>
</tr>
</table>
</div>
<h2><a name="0.19"></a>September, 11th 2003</h2>
<p>Wow, DA is cancelled. Kind of bad since I did a lot of work for it. But I still wasn't very motivated. I'm going to start a new mod with some members of DA. Let's see how it works out.</p>
<p><em class="em2">MythOpus:</em> Aww man.  That sucks...  good luck with the new mod though <img alt=":)" src="emoticons/smile.gif" align="middle"></p>
<p><em class="em2">Dante:</em> Thanks, I hope we'll make it <img alt=":)" src="emoticons/smile.gif" align="middle"></p>
<h2><a name="0.20"></a>September, 19th 2003</h2>
<p>Wow 8 days passed again since the last update. We're finally come up with 2 mods. 1 Big one and one smaller one (which will be more fun playing imo). We'll start with the smaller one and maybe continue the bigger one. No news on UDG. Well that is because I'm already using the html output. </p>
<h2><a name="0.21"></a>October, 21th 2003</h2>
<p>Well a few more days passed <img alt=";)" src="emoticons/wink.gif" align="middle"> I fixed many bugs from UDG. The codebase needs a complete rework... Other than that, I decided to release a preview version of UDG. It's not feature-complete and it's very unstable. It properly won't crash but also won't do what you want. Ok, I'm preparing for release now...</p>
<p>Check <a href="http://www.uni-ulm.de/~s_dwaldh/">http://www.uni-ulm.de/~s_dwaldh/</a> if you're interested!</p>
<h2><a name="0.22"></a>October, 30th 2003</h2>
<p>We released Unreal Squad yesterday. Thought it's a small mod it makes much fun.</p>
<hr class="thin"><p><a href="category-journal.html">Category Journal</a></p>
<script type="text/javascript"><!--
 menuItemAdd("Project UDG 2.0", "#0.1");
menuItemAdd("May, 26th 2003", "#0.2");
menuItemAdd("May, 21th 2003", "#0.3");
menuItemAdd("May, 20th 2003", "#0.4");
menuItemAdd("May, 20th 2003", "#0.5");
menuItemAdd("May, 30th 2003", "#0.6");
menuItemAdd("Juni, 2nd 2003", "#0.7");
menuItemAdd("Juni, 29th 2003", "#0.8");
menuItemAdd("Juli, 26th 2003", "#0.9");
menuItemAdd("Juli, 29th 2003", "#0.10");
menuItemAdd("Juli, 31th 2003", "#0.11");
menuItemAdd("August, 5th 2003", "#0.12");
menuItemAdd("August, 19th 2003", "#0.13");
menuItemAdd("August, 20th 2003", "#0.14");
menuItemAdd("August, 25th 2003", "#0.15");
menuItemAdd("August, 29th 2003", "#0.16");
menuItemAdd("September, 5th 2003", "#0.17");
menuItemAdd("September, 8th 2003", "#0.18");
menuItemAdd("September, 11th 2003", "#0.19");
menuItemAdd("September, 19th 2003", "#0.20");
menuItemAdd("October, 21th 2003", "#0.21");
menuItemAdd("October, 30th 2003", "#0.22");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p><form method="post" action="http://wiki.beyondunreal.com/wiki" enctype="application/x-www-form-urlencoded">
<a href="(start).html">Home Page</a> | <a href="dante.html">Dante</a> | <a href="recent-changes.html">Recent Changes</a> | <a href="http://wiki.beyondunreal.com/wiki?action=editprefs">Preferences</a><br>
<a href="http://wiki.beyondunreal.com/wiki?action=edit&id=Dante/Developer_Journal">Edit text of this page</a> | <a href="http://wiki.beyondunreal.com/wiki?action=history&id=Dante/Developer_Journal">View other revisions</a><br>Last edited October 29, 2003 19:16 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=Dante/Developer_Journal">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/Dante/Developer_Journal">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>
</form>
	</p>
	<p>There is no spoon
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="http://wiki.beyondunreal.com/"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>
<p><a href="/cgi-bin/imageupload.cgi/wiki-ext/imageupload.htt" target="_blank ">Image Uploads</a></p>
<p><a href="http://wiki.beyondunreal.com/wiki?action=random">Random Page</a></p>
<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
