<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: Zxanphorian Brushbuilders</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=Zxanphorian_Brushbuilders; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<form class="inline" method="post" action="/wiki" enctype="application/x-www-form-urlencoded"><input type="text" name="search"  size="20" /> <input type="submit" name="search" value="search" /></form>
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="(start).html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a> | <a href="http://wiki.beyondunreal.com/wiki?action=editprefs">Preferences</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="http://wiki.beyondunreal.com/wiki?back=Zxanphorian Brushbuilders">Zxanphorian Brushbuilders</a></h1>
	<div class="wiki"><h3><a name="0.0.1"></a>Cone Builder <img alt="[BBZxanCone]" src="images/bbzxancone.png" class="image-inline"></h3>
<pre class="uscript"><span class="uscript-line">00001</span>  <span class="uscript-comment">//=============================================================================</span>
<span class="uscript-line">00002</span>  <span class="uscript-comment">// ZxanphorianConeBuilder.</span>
<span class="uscript-line">00003</span>  <span class="uscript-comment">// This is my FIRST brush builder for UnrealEd!</span>
<span class="uscript-line">00004</span>  <span class="uscript-comment">// What it does is build a better cone than the one that Epic made.</span>
<span class="uscript-line">00005</span>  <span class="uscript-comment">//</span>
<span class="uscript-line">00006</span>  <span class="uscript-comment">//_=_-_=_-_=_-_=_-_=_-_=_-_=_-_=_-_=_-_=_-_=_-_=_-_=_-_=_-_=_-_=_-_=_-_=_-</span>
<span class="uscript-line">00007</span>  <span class="uscript-comment">//</span>
<span class="uscript-line">00008</span>  <span class="uscript-comment">//  version 1.2</span>
<span class="uscript-line">00009</span>  <span class="uscript-comment">//  tornado.f5@worldnet.att.net</span>
<span class="uscript-line">00010</span>  <span class="uscript-comment">//  (c) 2002 Nick "Zxanphorian" Parker</span>
<span class="uscript-line">00011</span>  <span class="uscript-comment">//</span>
<span class="uscript-line">00012</span>  <span class="uscript-comment">//=============================================================================</span>
<span class="uscript-line">00013</span>  <span class="uscript-keyword">class</span> ZxanphorianConeBuilder <span class="uscript-keyword">extends</span> ZxanphorianBuilders <span class="uscript-keyword">config</span><span class="uscript-operator">(</span>ZxanphorianbrushBuilders<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00014</span>  
<span class="uscript-line">00015</span>  
<span class="uscript-line">00016</span>  <span class="uscript-comment">// _--__--__--__--_STRUCTS_--__--__--__--_</span>
<span class="uscript-line">00017</span>  
<span class="uscript-line">00018</span>      <span class="uscript-keyword">struct</span> TopTipLocationStruct
<span class="uscript-line">00019</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00020</span>  
<span class="uscript-line">00021</span>      <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-keyword">config</span> <span class="uscript-type">float</span> Height<span class="uscript-operator">,</span> CapLocationX<span class="uscript-operator">,</span> CapLocationY<span class="uscript-operator">;</span>
<span class="uscript-line">00022</span>  
<span class="uscript-line">00023</span>  <span class="uscript-operator">}</span><span class="uscript-operator">;</span>
<span class="uscript-line">00024</span>      <span class="uscript-keyword">struct</span> TipLocationsStruct
<span class="uscript-line">00025</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00026</span>  <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-keyword">config</span> TopTipLocationStruct TopTipLocation<span class="uscript-operator">;</span>
<span class="uscript-line">00027</span>  <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-keyword">config</span> TopTipLocationStruct BottomTipLocation<span class="uscript-operator">;</span>
<span class="uscript-line">00028</span>  <span class="uscript-operator">}</span><span class="uscript-operator">;</span>
<span class="uscript-line">00029</span>  <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-keyword">config</span> TipLocationsStruct TipLocations<span class="uscript-operator">;</span>
<span class="uscript-line">00030</span>  
<span class="uscript-line">00031</span>  
<span class="uscript-line">00032</span>  
<span class="uscript-line">00033</span>      <span class="uscript-keyword">struct</span> DimensionsStruct
<span class="uscript-line">00034</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00035</span>      <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-keyword">config</span> <span class="uscript-type">bool</span> UseRadius<span class="uscript-operator">;</span>
<span class="uscript-line">00036</span>      <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-keyword">config</span> <span class="uscript-type">float</span> Radius<span class="uscript-operator">,</span> <span class="uscript-keyword">Length</span><span class="uscript-operator">,</span> Width<span class="uscript-operator">,</span> OffsetX<span class="uscript-operator">,</span> OffsetY<span class="uscript-operator">,</span> OffsetZ<span class="uscript-operator">;</span>
<span class="uscript-line">00037</span>  <span class="uscript-operator">}</span><span class="uscript-operator">;</span>
<span class="uscript-line">00038</span>      <span class="uscript-keyword">struct</span> DimensionStruct
<span class="uscript-line">00039</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00040</span>      <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-keyword">config</span> DimensionsStruct OuterDimensions<span class="uscript-operator">;</span>
<span class="uscript-line">00041</span>      <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-keyword">config</span> DimensionsStruct InnerDimensions<span class="uscript-operator">;</span>
<span class="uscript-line">00042</span>  <span class="uscript-operator">}</span><span class="uscript-operator">;</span>
<span class="uscript-line">00043</span>      <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-keyword">config</span> DimensionStruct Dimensions<span class="uscript-operator">;</span>
<span class="uscript-line">00044</span>  
<span class="uscript-line">00045</span>  
<span class="uscript-line">00046</span>  
<span class="uscript-line">00047</span>  
<span class="uscript-line">00048</span>      <span class="uscript-keyword">struct</span> RotationStruct
<span class="uscript-line">00049</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00050</span>      <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-keyword">config</span> <span class="uscript-type">float</span> RotationX<span class="uscript-operator">,</span> RotationY<span class="uscript-operator">;</span>
<span class="uscript-line">00051</span>  <span class="uscript-operator">}</span><span class="uscript-operator">;</span>
<span class="uscript-line">00052</span>      <span class="uscript-keyword">struct</span> RotationsStruct <span class="uscript-operator">{</span>
<span class="uscript-line">00053</span>      <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-keyword">config</span> RotationStruct TopRotation<span class="uscript-operator">;</span>
<span class="uscript-line">00054</span>      <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-keyword">config</span> RotationStruct BottomRotation<span class="uscript-operator">;</span>
<span class="uscript-line">00055</span>  <span class="uscript-operator">}</span><span class="uscript-operator">;</span>
<span class="uscript-line">00056</span>      <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-keyword">config</span> RotationsStruct Rotations<span class="uscript-operator">;</span>
<span class="uscript-line">00057</span>  
<span class="uscript-line">00058</span>  
<span class="uscript-line">00059</span>      <span class="uscript-keyword">struct</span> RandomiserTBStruct
<span class="uscript-line">00060</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00061</span>      <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-type">float</span> Height<span class="uscript-operator">[</span><span class="uscript-number">2</span><span class="uscript-operator">]</span><span class="uscript-operator">,</span> Radius<span class="uscript-operator">[</span><span class="uscript-number">2</span><span class="uscript-operator">]</span><span class="uscript-operator">,</span> CapLocationX<span class="uscript-operator">[</span><span class="uscript-number">2</span><span class="uscript-operator">]</span><span class="uscript-operator">,</span> CapLocationY<span class="uscript-operator">[</span><span class="uscript-number">2</span><span class="uscript-operator">]</span><span class="uscript-operator">;</span>
<span class="uscript-line">00062</span>  <span class="uscript-operator">}</span><span class="uscript-operator">;</span>
<span class="uscript-line">00063</span>  <span class="uscript-keyword">struct</span> RandomiserMStruct
<span class="uscript-line">00064</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00065</span>      <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-type">int</span> Sides<span class="uscript-operator">[</span><span class="uscript-number">2</span><span class="uscript-operator">]</span><span class="uscript-operator">;</span>
<span class="uscript-line">00066</span>  <span class="uscript-operator">}</span><span class="uscript-operator">;</span>
<span class="uscript-line">00067</span>      <span class="uscript-keyword">struct</span> RandomisersStruct
<span class="uscript-line">00068</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00069</span>      <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> RandomiserTBStruct RandomiserTop<span class="uscript-operator">;</span>
<span class="uscript-line">00070</span>      <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> RandomiserTBStruct RandomiserBottom<span class="uscript-operator">;</span>
<span class="uscript-line">00071</span>      <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> RandomiserMStruct RandomiserMisc<span class="uscript-operator">;</span>
<span class="uscript-line">00072</span>  <span class="uscript-operator">}</span><span class="uscript-operator">;</span>
<span class="uscript-line">00073</span>      <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> RandomisersStruct Randomisers<span class="uscript-operator">;</span>
<span class="uscript-line">00074</span>  
<span class="uscript-line">00075</span>  
<span class="uscript-line">00076</span>  
<span class="uscript-line">00077</span>  <span class="uscript-comment">// _--__--__--__--_OTHER VARIABLES_--__--__--__--_</span>
<span class="uscript-line">00078</span>          <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-keyword">config</span> <span class="uscript-type">int</span> Sides<span class="uscript-operator">;</span>
<span class="uscript-line">00079</span>          <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-keyword">config</span> <span class="uscript-type">name</span> GroupName<span class="uscript-operator">;</span>
<span class="uscript-line">00080</span>          <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-keyword">config</span> <span class="uscript-type">bool</span> HasBottom<span class="uscript-operator">,</span> MergeCoplanars <span class="uscript-operator">;</span>
<span class="uscript-line">00081</span>          <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-keyword">export</span> <span class="uscript-type">bool</span> SaveConfiguration<span class="uscript-operator">;</span>
<span class="uscript-line">00082</span>  
<span class="uscript-line">00083</span>  
<span class="uscript-line">00084</span>      <span class="uscript-keyword">enum</span> PresetsEnum
<span class="uscript-line">00085</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00086</span>  No_Preset<span class="uscript-operator">,</span>
<span class="uscript-line">00087</span>  Randomiser<span class="uscript-operator">,</span>
<span class="uscript-line">00088</span>  DefaultBBProperties
<span class="uscript-line">00089</span>  <span class="uscript-operator">}</span><span class="uscript-operator">;</span>
<span class="uscript-line">00090</span>      <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-keyword">config</span> PresetsEnum Presets<span class="uscript-operator">;</span>
<span class="uscript-line">00091</span>  
<span class="uscript-line">00092</span>  <span class="uscript-keyword">enum</span> HelpEnum
<span class="uscript-line">00093</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00094</span>  ChooseATopic<span class="uscript-operator">,</span>
<span class="uscript-line">00095</span>  TipLocations<span class="uscript-operator">,</span>
<span class="uscript-line">00096</span>  Dimensions<span class="uscript-operator">,</span>
<span class="uscript-line">00097</span>  Rotations<span class="uscript-operator">,</span>
<span class="uscript-line">00098</span>  Randomisers<span class="uscript-operator">,</span>
<span class="uscript-line">00099</span>  RegularOptions<span class="uscript-operator">,</span>
<span class="uscript-line">00100</span>  Presets
<span class="uscript-line">00101</span>  <span class="uscript-operator">}</span><span class="uscript-operator">;</span>
<span class="uscript-line">00102</span>      <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-keyword">config</span> HelpEnum HelpTopics<span class="uscript-operator">;</span>
<span class="uscript-line">00103</span>  <span class="uscript-keyword">enum</span> AboutEnum
<span class="uscript-line">00104</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00105</span>  DisplayOff<span class="uscript-operator">,</span>
<span class="uscript-line">00106</span>  DisplayOn<span class="uscript-operator">,</span>
<span class="uscript-line">00107</span>  <span class="uscript-operator">}</span><span class="uscript-operator">;</span>
<span class="uscript-line">00108</span>      <span class="uscript-keyword">var</span><span class="uscript-operator">(</span><span class="uscript-operator">)</span> <span class="uscript-keyword">config</span> AboutEnum AboutBrushbuilder<span class="uscript-operator">;</span>
<span class="uscript-line">00109</span>  
<span class="uscript-line">00110</span>      <span class="uscript-keyword">var</span> <span class="uscript-type">int</span> HB<span class="uscript-operator">;</span>
<span class="uscript-line">00111</span>  
<span class="uscript-line">00112</span>  
<span class="uscript-line">00113</span>  <span class="uscript-keyword">function</span> DoPresets<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00114</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00115</span>  <span class="uscript-comment">// _--__--__--__--_PRESETS_--__--__--__--_</span>
<span class="uscript-line">00116</span>  
<span class="uscript-line">00117</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span> Presets <span class="uscript-operator">==</span> DefaultBBProperties<span class="uscript-operator">)</span>
<span class="uscript-line">00118</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00119</span>  TipLocations<span class="uscript-operator">.</span>TopTipLocation<span class="uscript-operator">.</span>Height<span class="uscript-operator">=</span><span class="uscript-number">512.000000</span><span class="uscript-operator">;</span>
<span class="uscript-line">00120</span>  TipLocations<span class="uscript-operator">.</span>TopTipLocation<span class="uscript-operator">.</span>CapLocationX<span class="uscript-operator">=</span><span class="uscript-number">0.000000</span><span class="uscript-operator">;</span>
<span class="uscript-line">00121</span>  TipLocations<span class="uscript-operator">.</span>TopTipLocation<span class="uscript-operator">.</span>CapLocationY<span class="uscript-operator">=</span><span class="uscript-number">0.000000</span><span class="uscript-operator">;</span>
<span class="uscript-line">00122</span>  TipLocations<span class="uscript-operator">.</span>BottomTipLocation<span class="uscript-operator">.</span>Height<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">512.000000</span><span class="uscript-operator">;</span>
<span class="uscript-line">00123</span>  TipLocations<span class="uscript-operator">.</span>BottomTipLocation<span class="uscript-operator">.</span>CapLocationX<span class="uscript-operator">=</span><span class="uscript-number">0.000000</span><span class="uscript-operator">;</span>
<span class="uscript-line">00124</span>  TipLocations<span class="uscript-operator">.</span>BottomTipLocation<span class="uscript-operator">.</span>CapLocationY<span class="uscript-operator">=</span><span class="uscript-number">0.000000</span><span class="uscript-operator">;</span>
<span class="uscript-line">00125</span>  
<span class="uscript-line">00126</span>  
<span class="uscript-line">00127</span>  Dimensions<span class="uscript-operator">.</span>OuterDimensions<span class="uscript-operator">.</span>UseRadius<span class="uscript-operator">=</span><span class="uscript-keyword">True</span><span class="uscript-operator">;</span>
<span class="uscript-line">00128</span>  Dimensions<span class="uscript-operator">.</span>OuterDimensions<span class="uscript-operator">.</span>Radius<span class="uscript-operator">=</span><span class="uscript-number">512.000000</span><span class="uscript-operator">;</span>
<span class="uscript-line">00129</span>  Dimensions<span class="uscript-operator">.</span>OuterDimensions<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">=</span><span class="uscript-number">512.000000</span><span class="uscript-operator">;</span>
<span class="uscript-line">00130</span>  Dimensions<span class="uscript-operator">.</span>OuterDimensions<span class="uscript-operator">.</span>Width<span class="uscript-operator">=</span><span class="uscript-number">512.000000</span><span class="uscript-operator">;</span>
<span class="uscript-line">00131</span>  Dimensions<span class="uscript-operator">.</span>OuterDimensions<span class="uscript-operator">.</span>OffsetX<span class="uscript-operator">=</span><span class="uscript-number">0.000000</span><span class="uscript-operator">;</span>
<span class="uscript-line">00132</span>  Dimensions<span class="uscript-operator">.</span>OuterDimensions<span class="uscript-operator">.</span>OffsetY<span class="uscript-operator">=</span><span class="uscript-number">0.000000</span><span class="uscript-operator">;</span>
<span class="uscript-line">00133</span>  Dimensions<span class="uscript-operator">.</span>OuterDimensions<span class="uscript-operator">.</span>OffsetZ<span class="uscript-operator">=</span><span class="uscript-number">0.000000</span><span class="uscript-operator">;</span>
<span class="uscript-line">00134</span>  Dimensions<span class="uscript-operator">.</span>InnerDimensions<span class="uscript-operator">.</span>UseRadius<span class="uscript-operator">=</span><span class="uscript-keyword">True</span><span class="uscript-operator">;</span>
<span class="uscript-line">00135</span>  Dimensions<span class="uscript-operator">.</span>InnerDimensions<span class="uscript-operator">.</span>Radius<span class="uscript-operator">=</span><span class="uscript-number">256.000000</span><span class="uscript-operator">;</span>
<span class="uscript-line">00136</span>  Dimensions<span class="uscript-operator">.</span>InnerDimensions<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">=</span><span class="uscript-number">256.000000</span><span class="uscript-operator">;</span>
<span class="uscript-line">00137</span>  Dimensions<span class="uscript-operator">.</span>InnerDimensions<span class="uscript-operator">.</span>Width<span class="uscript-operator">=</span><span class="uscript-number">256.000000</span><span class="uscript-operator">;</span>
<span class="uscript-line">00138</span>  Dimensions<span class="uscript-operator">.</span>InnerDimensions<span class="uscript-operator">.</span>OffsetX<span class="uscript-operator">=</span><span class="uscript-number">0.000000</span><span class="uscript-operator">;</span>
<span class="uscript-line">00139</span>  Dimensions<span class="uscript-operator">.</span>InnerDimensions<span class="uscript-operator">.</span>OffsetY<span class="uscript-operator">=</span><span class="uscript-number">0.000000</span><span class="uscript-operator">;</span>
<span class="uscript-line">00140</span>  Dimensions<span class="uscript-operator">.</span>InnerDimensions<span class="uscript-operator">.</span>OffsetZ<span class="uscript-operator">=</span><span class="uscript-number">0.000000</span><span class="uscript-operator">;</span>
<span class="uscript-line">00141</span>  
<span class="uscript-line">00142</span>  
<span class="uscript-line">00143</span>  Rotations<span class="uscript-operator">.</span>TopRotation<span class="uscript-operator">.</span>RotationX<span class="uscript-operator">=</span><span class="uscript-number">1.000000</span><span class="uscript-operator">;</span>
<span class="uscript-line">00144</span>  Rotations<span class="uscript-operator">.</span>TopRotation<span class="uscript-operator">.</span>RotationY<span class="uscript-operator">=</span><span class="uscript-number">1.000000</span><span class="uscript-operator">;</span>
<span class="uscript-line">00145</span>  Rotations<span class="uscript-operator">.</span>BottomRotation<span class="uscript-operator">.</span>RotationX<span class="uscript-operator">=</span><span class="uscript-number">1.000000</span><span class="uscript-operator">;</span>
<span class="uscript-line">00146</span>  Rotations<span class="uscript-operator">.</span>TopRotation<span class="uscript-operator">.</span>RotationY<span class="uscript-operator">=</span><span class="uscript-number">1.000000</span><span class="uscript-operator">;</span>
<span class="uscript-line">00147</span>  
<span class="uscript-line">00148</span>  
<span class="uscript-line">00149</span>  Sides<span class="uscript-operator">=</span><span class="uscript-number">8</span><span class="uscript-operator">;</span>
<span class="uscript-line">00150</span>  GroupName<span class="uscript-operator">=</span><span class="uscript-name">'ZxanCone'</span><span class="uscript-operator">;</span>
<span class="uscript-line">00151</span>  HasBottom<span class="uscript-operator">=</span><span class="uscript-keyword">False</span><span class="uscript-operator">;</span>
<span class="uscript-line">00152</span>  MergeCoplanars<span class="uscript-operator">=</span><span class="uscript-keyword">True</span><span class="uscript-operator">;</span>
<span class="uscript-line">00153</span>  Presets<span class="uscript-operator">=</span>No_Preset<span class="uscript-operator">;</span>
<span class="uscript-line">00154</span>  HelpTopics<span class="uscript-operator">=</span>ChooseATopic<span class="uscript-operator">;</span>
<span class="uscript-line">00155</span>  AboutBrushbuilder<span class="uscript-operator">=</span>DisplayOff<span class="uscript-operator">;</span>
<span class="uscript-line">00156</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00157</span>  
<span class="uscript-line">00158</span>  
<span class="uscript-line">00159</span>  <span class="uscript-keyword">if</span><span class="uscript-operator">(</span> Presets <span class="uscript-operator">==</span> Randomiser<span class="uscript-operator">)</span>
<span class="uscript-line">00160</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00161</span>      TipLocations<span class="uscript-operator">.</span>TopTipLocation<span class="uscript-operator">.</span>Height <span class="uscript-operator">=</span> RandRange<span class="uscript-operator">(</span> Randomisers<span class="uscript-operator">.</span>RandomiserTop<span class="uscript-operator">.</span>Height<span class="uscript-operator">[</span><span class="uscript-number">0</span><span class="uscript-operator">]</span><span class="uscript-operator">,</span> Randomisers<span class="uscript-operator">.</span>RandomiserTop<span class="uscript-operator">.</span>Height<span class="uscript-operator">[</span><span class="uscript-number">1</span><span class="uscript-operator">]</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00162</span>      TipLocations<span class="uscript-operator">.</span>BottomTipLocation<span class="uscript-operator">.</span>Height <span class="uscript-operator">=</span> RandRange<span class="uscript-operator">(</span>Randomisers<span class="uscript-operator">.</span>RandomiserBottom<span class="uscript-operator">.</span>Height<span class="uscript-operator">[</span><span class="uscript-number">0</span><span class="uscript-operator">]</span><span class="uscript-operator">,</span> Randomisers<span class="uscript-operator">.</span>RandomiserBottom<span class="uscript-operator">.</span>Height<span class="uscript-operator">[</span><span class="uscript-number">1</span><span class="uscript-operator">]</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00163</span>      Dimensions<span class="uscript-operator">.</span>OuterDimensions<span class="uscript-operator">.</span>Radius <span class="uscript-operator">=</span> RandRange<span class="uscript-operator">(</span>Randomisers<span class="uscript-operator">.</span>RandomiserTop<span class="uscript-operator">.</span>Radius<span class="uscript-operator">[</span><span class="uscript-number">0</span><span class="uscript-operator">]</span><span class="uscript-operator">,</span> Randomisers<span class="uscript-operator">.</span>RandomiserTop<span class="uscript-operator">.</span>Radius<span class="uscript-operator">[</span><span class="uscript-number">1</span><span class="uscript-operator">]</span> <span class="uscript-operator">)</span> <span class="uscript-operator">;</span>
<span class="uscript-line">00164</span>      Dimensions<span class="uscript-operator">.</span>InnerDimensions<span class="uscript-operator">.</span>Radius <span class="uscript-operator">=</span> RandRange<span class="uscript-operator">(</span>Randomisers<span class="uscript-operator">.</span>RandomiserBottom<span class="uscript-operator">.</span>Radius<span class="uscript-operator">[</span><span class="uscript-number">0</span><span class="uscript-operator">]</span><span class="uscript-operator">,</span> Randomisers<span class="uscript-operator">.</span>RandomiserBottom<span class="uscript-operator">.</span>Radius<span class="uscript-operator">[</span><span class="uscript-number">1</span><span class="uscript-operator">]</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00165</span>      TipLocations<span class="uscript-operator">.</span>TopTipLocation<span class="uscript-operator">.</span>CapLocationX <span class="uscript-operator">=</span> RandRange<span class="uscript-operator">(</span>Randomisers<span class="uscript-operator">.</span>RandomiserTop<span class="uscript-operator">.</span>CapLocationX<span class="uscript-operator">[</span><span class="uscript-number">0</span><span class="uscript-operator">]</span><span class="uscript-operator">,</span> Randomisers<span class="uscript-operator">.</span>RandomiserTop<span class="uscript-operator">.</span>CapLocationX<span class="uscript-operator">[</span><span class="uscript-number">1</span><span class="uscript-operator">]</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00166</span>      TipLocations<span class="uscript-operator">.</span>TopTipLocation<span class="uscript-operator">.</span>CapLocationY <span class="uscript-operator">=</span> RandRange<span class="uscript-operator">(</span>Randomisers<span class="uscript-operator">.</span>RandomiserTop<span class="uscript-operator">.</span>CapLocationY<span class="uscript-operator">[</span><span class="uscript-number">0</span><span class="uscript-operator">]</span><span class="uscript-operator">,</span> Randomisers<span class="uscript-operator">.</span>RandomiserTop<span class="uscript-operator">.</span>CapLocationY<span class="uscript-operator">[</span><span class="uscript-number">1</span><span class="uscript-operator">]</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00167</span>      TipLocations<span class="uscript-operator">.</span>BottomTipLocation<span class="uscript-operator">.</span>CapLocationX <span class="uscript-operator">=</span>RandRange<span class="uscript-operator">(</span>Randomisers<span class="uscript-operator">.</span>RandomiserBottom<span class="uscript-operator">.</span>CapLocationX<span class="uscript-operator">[</span><span class="uscript-number">0</span><span class="uscript-operator">]</span><span class="uscript-operator">,</span> Randomisers<span class="uscript-operator">.</span>RandomiserBottom<span class="uscript-operator">.</span>CapLocationX<span class="uscript-operator">[</span><span class="uscript-number">1</span><span class="uscript-operator">]</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00168</span>      TipLocations<span class="uscript-operator">.</span>BottomTipLocation<span class="uscript-operator">.</span>CapLocationY <span class="uscript-operator">=</span>RandRange<span class="uscript-operator">(</span>Randomisers<span class="uscript-operator">.</span>RandomiserBottom<span class="uscript-operator">.</span>CapLocationY<span class="uscript-operator">[</span><span class="uscript-number">0</span><span class="uscript-operator">]</span><span class="uscript-operator">,</span> Randomisers<span class="uscript-operator">.</span>RandomiserBottom<span class="uscript-operator">.</span>CapLocationY<span class="uscript-operator">[</span><span class="uscript-number">1</span><span class="uscript-operator">]</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00169</span>      Sides <span class="uscript-operator">=</span> RandRange<span class="uscript-operator">(</span>Randomisers<span class="uscript-operator">.</span>RandomiserMisc<span class="uscript-operator">.</span>Sides<span class="uscript-operator">[</span><span class="uscript-number">0</span><span class="uscript-operator">]</span><span class="uscript-operator">,</span> Randomisers<span class="uscript-operator">.</span>RandomiserMisc<span class="uscript-operator">.</span>Sides<span class="uscript-operator">[</span><span class="uscript-number">1</span><span class="uscript-operator">]</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00170</span>      HasBottom <span class="uscript-operator">=</span> <span class="uscript-keyword">False</span><span class="uscript-operator">;</span>
<span class="uscript-line">00171</span>  
<span class="uscript-line">00172</span>  <span class="uscript-comment">// How to Choose between the different options</span>
<span class="uscript-line">00173</span>  HB <span class="uscript-operator">=</span> RandRange<span class="uscript-operator">(</span><span class="uscript-number">0</span><span class="uscript-operator">,</span> <span class="uscript-number">5000</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00174</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span> HB <span class="uscript-operator">&gt;=</span> <span class="uscript-number">2500</span><span class="uscript-operator">)</span>
<span class="uscript-line">00175</span>  HasBottom <span class="uscript-operator">=</span> <span class="uscript-keyword">True</span><span class="uscript-operator">;</span>
<span class="uscript-line">00176</span>  
<span class="uscript-line">00177</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00178</span>  
<span class="uscript-line">00179</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00180</span>  
<span class="uscript-line">00181</span>  
<span class="uscript-line">00182</span>  
<span class="uscript-line">00183</span>  <span class="uscript-keyword">function</span> BuildCone<span class="uscript-operator">(</span> <span class="uscript-type">int</span> Direction<span class="uscript-operator">,</span> <span class="uscript-type">int</span> Sides<span class="uscript-operator">,</span> <span class="uscript-type">name</span> Item<span class="uscript-operator">,</span> TipLocationsStruct TipLocations<span class="uscript-operator">,</span> TopTipLocationStruct TopTipLocation<span class="uscript-operator">,</span> DimensionStruct Dimensions<span class="uscript-operator">,</span> DimensionsStruct OuterDimensions<span class="uscript-operator">,</span> RotationsStruct Rotations<span class="uscript-operator">,</span> RotationStruct TopRotation<span class="uscript-operator">)</span>
<span class="uscript-line">00184</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00185</span>  
<span class="uscript-line">00186</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> n<span class="uscript-operator">,</span>i<span class="uscript-operator">,</span>j<span class="uscript-operator">,</span>q<span class="uscript-operator">;</span>
<span class="uscript-line">00187</span>      n <span class="uscript-operator">=</span> GetVertexCount<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00188</span>  
<span class="uscript-line">00189</span>  
<span class="uscript-line">00190</span>      <span class="uscript-comment">// Vertices.</span>
<span class="uscript-line">00191</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span>Dimensions<span class="uscript-operator">.</span>OuterDimensions<span class="uscript-operator">.</span>UseRadius <span class="uscript-operator">==</span> <span class="uscript-keyword">True</span><span class="uscript-operator">)</span>
<span class="uscript-line">00192</span>  <span class="uscript-operator">{</span>   <span class="uscript-keyword">for</span><span class="uscript-operator">(</span> i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span>Sides<span class="uscript-operator">;</span> i<span class="uscript-operator">++</span> <span class="uscript-operator">)</span>
<span class="uscript-line">00193</span>      <span class="uscript-operator">{</span>   Vertex3f<span class="uscript-operator">(</span> Dimensions<span class="uscript-operator">.</span>OuterDimensions<span class="uscript-operator">.</span>OffsetX<span class="uscript-operator">+</span>Dimensions<span class="uscript-operator">.</span>OuterDimensions<span class="uscript-operator">.</span>Radius<span class="uscript-operator">*</span>sin<span class="uscript-operator">(</span><span class="uscript-operator">(</span><span class="uscript-number">2</span><span class="uscript-operator">*</span>i<span class="uscript-operator">+</span>Rotations<span class="uscript-operator">.</span>BottomRotation<span class="uscript-operator">.</span>RotationX<span class="uscript-operator">)</span><span class="uscript-operator">*</span>pi<span class="uscript-operator">/</span>Sides<span class="uscript-operator">)</span><span class="uscript-operator">,</span> Dimensions<span class="uscript-operator">.</span>OuterDimensions<span class="uscript-operator">.</span>OffsetY<span class="uscript-operator">+</span>Dimensions<span class="uscript-operator">.</span>OuterDimensions<span class="uscript-operator">.</span>Radius<span class="uscript-operator">*</span>cos<span class="uscript-operator">(</span><span class="uscript-operator">(</span><span class="uscript-number">2</span><span class="uscript-operator">*</span>i<span class="uscript-operator">+</span>Rotations<span class="uscript-operator">.</span>BottomRotation<span class="uscript-operator">.</span>RotationY<span class="uscript-operator">)</span><span class="uscript-operator">*</span>pi<span class="uscript-operator">/</span>Sides<span class="uscript-operator">)</span><span class="uscript-operator">,</span> Dimensions<span class="uscript-operator">.</span>OuterDimensions<span class="uscript-operator">.</span>OffsetZ <span class="uscript-operator">)</span><span class="uscript-operator">;</span> <span class="uscript-operator">}</span>
<span class="uscript-line">00194</span>   <span class="uscript-operator">}</span>
<span class="uscript-line">00195</span>      <span class="uscript-keyword">else</span>
<span class="uscript-line">00196</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00197</span>  <span class="uscript-keyword">for</span><span class="uscript-operator">(</span> i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span>Sides<span class="uscript-operator">;</span> i<span class="uscript-operator">++</span> <span class="uscript-operator">)</span>
<span class="uscript-line">00198</span>      <span class="uscript-operator">{</span>   Vertex3f<span class="uscript-operator">(</span> Dimensions<span class="uscript-operator">.</span>OuterDimensions<span class="uscript-operator">.</span>OffsetX<span class="uscript-operator">+</span> Dimensions<span class="uscript-operator">.</span>OuterDimensions<span class="uscript-operator">.</span>Width<span class="uscript-operator">*</span>sin<span class="uscript-operator">(</span><span class="uscript-operator">(</span><span class="uscript-number">2</span><span class="uscript-operator">*</span>i<span class="uscript-operator">+</span>Rotations<span class="uscript-operator">.</span>BottomRotation<span class="uscript-operator">.</span>RotationX<span class="uscript-operator">)</span><span class="uscript-operator">*</span>pi<span class="uscript-operator">/</span>Sides<span class="uscript-operator">)</span><span class="uscript-operator">,</span> Dimensions<span class="uscript-operator">.</span>OuterDimensions<span class="uscript-operator">.</span>OffsetY<span class="uscript-operator">+</span>Dimensions<span class="uscript-operator">.</span>OuterDimensions<span class="uscript-operator">.</span><span class="uscript-keyword">Length</span><span class="uscript-operator">*</span>cos<span class="uscript-operator">(</span><span class="uscript-operator">(</span><span class="uscript-number">2</span><span class="uscript-operator">*</span>i<span class="uscript-operator">+</span>Rotations<span class="uscript-operator">.</span>BottomRotation<span class="uscript-operator">.</span>RotationY<span class="uscript-operator">)</span><span class="uscript-operator">*</span>pi<span class="uscript-operator">/</span>Sides<span class="uscript-operator">)</span><span class="uscript-operator">,</span> Dimensions<span class="uscript-operator">.</span>OuterDimensions<span class="uscript-operator">.</span>OffsetZ <span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00199</span>   <span class="uscript-operator">}</span>
<span class="uscript-line">00200</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00201</span>      Vertex3f<span class="uscript-operator">(</span> TipLocations<span class="uscript-operator">.</span>TopTipLocation<span class="uscript-operator">.</span>CapLocationX<span class="uscript-operator">,</span> TipLocations<span class="uscript-operator">.</span>TopTipLocation<span class="uscript-operator">.</span>CapLocationY<span class="uscript-operator">,</span> TipLocations<span class="uscript-operator">.</span>TopTipLocation<span class="uscript-operator">.</span>Height <span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00202</span>  
<span class="uscript-line">00203</span>  
<span class="uscript-line">00204</span>      <span class="uscript-comment">// Polys.</span>
<span class="uscript-line">00205</span>      <span class="uscript-keyword">for</span><span class="uscript-operator">(</span> i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span>Sides<span class="uscript-operator">;</span> i<span class="uscript-operator">++</span> <span class="uscript-operator">)</span>
<span class="uscript-line">00206</span>  <span class="uscript-operator">{</span>       Poly3i<span class="uscript-operator">(</span> Direction<span class="uscript-operator">,</span> n<span class="uscript-operator">+</span>i<span class="uscript-operator">,</span> n<span class="uscript-operator">+</span>Sides<span class="uscript-operator">,</span> n<span class="uscript-operator">+</span><span class="uscript-operator">(</span><span class="uscript-operator">(</span>i<span class="uscript-number">+1</span><span class="uscript-operator">)</span><span class="uscript-operator">%</span>Sides<span class="uscript-operator">)</span><span class="uscript-operator">,</span>Item <span class="uscript-operator">)</span><span class="uscript-operator">;</span> <span class="uscript-operator">}</span>
<span class="uscript-line">00207</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00208</span>  
<span class="uscript-line">00209</span>  <span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> Build<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-line">00210</span>  <span class="uscript-operator">{</span>
<span class="uscript-line">00211</span>      <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
<span class="uscript-line">00212</span>  
<span class="uscript-line">00213</span>      DoPresets<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00214</span>  
<span class="uscript-line">00215</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span> Sides<span class="uscript-operator">&lt;</span><span class="uscript-number">3</span> <span class="uscript-operator">)</span>
<span class="uscript-line">00216</span>          <span class="uscript-keyword">return</span> BadParameters<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00217</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span> TipLocations<span class="uscript-operator">.</span>TopTipLocation<span class="uscript-operator">.</span>Height<span class="uscript-operator">&lt;=</span><span class="uscript-number">0</span> <span class="uscript-operator">||</span> Dimensions<span class="uscript-operator">.</span>OuterDimensions<span class="uscript-operator">.</span>Radius<span class="uscript-operator">&lt;=</span><span class="uscript-number">0</span> <span class="uscript-operator">)</span>
<span class="uscript-line">00218</span>          <span class="uscript-keyword">return</span> BadParameters<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00219</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span> HasBottom <span class="uscript-operator">&amp;&amp;</span> Dimensions<span class="uscript-operator">.</span>InnerDimensions<span class="uscript-operator">.</span>Radius<span class="uscript-operator">&lt;=</span><span class="uscript-number">0</span> <span class="uscript-operator">)</span>
<span class="uscript-line">00220</span>          <span class="uscript-keyword">return</span> BadParameters<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00221</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span> HasBottom <span class="uscript-operator">&amp;&amp;</span> TipLocations<span class="uscript-operator">.</span>BottomTipLocation<span class="uscript-operator">.</span>Height<span class="uscript-operator">&gt;</span>TipLocations<span class="uscript-operator">.</span>TopTipLocation<span class="uscript-operator">.</span>Height <span class="uscript-operator">)</span>
<span class="uscript-line">00222</span>          <span class="uscript-keyword">return</span> BadParameters<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00223</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span> SaveConfiguration <span class="uscript-operator">==</span> <span class="uscript-keyword">True</span><span class="uscript-operator">)</span>
<span class="uscript-line">00224</span>          SaveConfiguration <span class="uscript-operator">=</span> <span class="uscript-keyword">False</span><span class="uscript-operator">;</span>
<span class="uscript-line">00225</span>          SaveConfig<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00226</span>  
<span class="uscript-line">00227</span>  
<span class="uscript-line">00228</span>  
<span class="uscript-line">00229</span>  
<span class="uscript-line">00230</span>  
<span class="uscript-line">00231</span>  
<span class="uscript-line">00232</span>  
<span class="uscript-line">00233</span>  <span class="uscript-comment">// _--__--__--__--_START_--__--__--__--_</span>
<span class="uscript-line">00234</span>  <span class="uscript-comment">// _--__--__--__--_START_--__--__--__--_</span>
<span class="uscript-line">00235</span>      BeginBrush<span class="uscript-operator">(</span> MergeCoplanars<span class="uscript-operator">,</span> GroupName <span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00236</span>      BuildCone<span class="uscript-operator">(</span> <span class="uscript-operator">+</span><span class="uscript-number">1</span><span class="uscript-operator">,</span> Sides<span class="uscript-operator">,</span> <span class="uscript-name">'Top'</span><span class="uscript-operator">,</span> TipLocations<span class="uscript-operator">,</span> TipLocations<span class="uscript-operator">.</span>TopTipLocation<span class="uscript-operator">,</span> Dimensions<span class="uscript-operator">,</span> Dimensions<span class="uscript-operator">.</span>OuterDimensions<span class="uscript-operator">,</span> Rotations<span class="uscript-operator">,</span> Rotations<span class="uscript-operator">.</span>TopRotation<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00237</span>      <span class="uscript-keyword">if</span><span class="uscript-operator">(</span> HasBottom <span class="uscript-operator">)</span>
<span class="uscript-line">00238</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00239</span>          BuildCone<span class="uscript-operator">(</span> <span class="uscript-operator">-</span><span class="uscript-number">1</span><span class="uscript-operator">,</span> Sides<span class="uscript-operator">,</span> <span class="uscript-name">'Cap'</span><span class="uscript-operator">,</span> TipLocations<span class="uscript-operator">,</span> TipLocations<span class="uscript-operator">.</span>BottomTipLocation<span class="uscript-operator">,</span> Dimensions<span class="uscript-operator">,</span> Dimensions<span class="uscript-operator">.</span>InnerDimensions<span class="uscript-operator">,</span> Rotations<span class="uscript-operator">,</span> Rotations<span class="uscript-operator">.</span>BottomRotation <span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00240</span>          <span class="uscript-keyword">if</span><span class="uscript-operator">(</span> Dimensions<span class="uscript-operator">.</span>OuterDimensions<span class="uscript-operator">.</span>Radius<span class="uscript-operator">==</span>Dimensions<span class="uscript-operator">.</span>InnerDimensions<span class="uscript-operator">.</span>Radius <span class="uscript-operator">^^</span> Dimensions<span class="uscript-operator">.</span>OuterDimensions<span class="uscript-operator">.</span>Radius<span class="uscript-operator">!=</span>Dimensions<span class="uscript-operator">.</span>InnerDimensions<span class="uscript-operator">.</span>Radius<span class="uscript-operator">)</span>
<span class="uscript-line">00241</span>              <span class="uscript-keyword">for</span><span class="uscript-operator">(</span> i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span>Sides<span class="uscript-operator">;</span> i<span class="uscript-operator">++</span> <span class="uscript-operator">)</span>
<span class="uscript-line">00242</span>                  Poly4i<span class="uscript-operator">(</span> <span class="uscript-number">1</span><span class="uscript-operator">,</span> i<span class="uscript-operator">,</span> <span class="uscript-operator">(</span><span class="uscript-operator">(</span>i<span class="uscript-number">+1</span><span class="uscript-operator">)</span><span class="uscript-operator">%</span>Sides<span class="uscript-operator">)</span><span class="uscript-operator">,</span> Sides<span class="uscript-number">+1</span><span class="uscript-operator">+</span><span class="uscript-operator">(</span><span class="uscript-operator">(</span>i<span class="uscript-number">+1</span><span class="uscript-operator">)</span><span class="uscript-operator">%</span>Sides<span class="uscript-operator">)</span><span class="uscript-operator">,</span> Sides<span class="uscript-number">+1</span><span class="uscript-operator">+</span>i<span class="uscript-operator">,</span> <span class="uscript-name">'Bottom'</span> <span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00243</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00244</span>      <span class="uscript-keyword">else</span>
<span class="uscript-line">00245</span>      <span class="uscript-operator">{</span>
<span class="uscript-line">00246</span>          PolyBegin<span class="uscript-operator">(</span> <span class="uscript-number">1</span><span class="uscript-operator">,</span> <span class="uscript-name">'Bottom'</span> <span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00247</span>          <span class="uscript-keyword">for</span><span class="uscript-operator">(</span> i<span class="uscript-operator">=</span><span class="uscript-number">0</span><span class="uscript-operator">;</span> i<span class="uscript-operator">&lt;</span>Sides<span class="uscript-operator">;</span> i<span class="uscript-operator">++</span> <span class="uscript-operator">)</span>
<span class="uscript-line">00248</span>              Polyi<span class="uscript-operator">(</span> i <span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00249</span>          PolyEnd<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00250</span>      <span class="uscript-operator">}</span>
<span class="uscript-line">00251</span>      <span class="uscript-keyword">return</span> EndBrush<span class="uscript-operator">(</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-line">00252</span>  <span class="uscript-operator">}</span>
<span class="uscript-line">00253</span>  
<span class="uscript-line">00254</span>  <span class="uscript-keyword">defaultproperties</span> <span class="uscript-operator">{</span>
<span class="uscript-line">00255</span>  BitmapFilename<span class="uscript-operator">=</span><span class="uscript-string">"BBZxanCone"</span>
<span class="uscript-line">00256</span>  Tooltip<span class="uscript-operator">=</span><span class="uscript-string">"Zxanphorian's Cone Brushbuilder"</span>
<span class="uscript-line">00257</span>      
<span class="uscript-line">00258</span>  TipLocations<span class="uscript-operator">=</span><span class="uscript-operator">(</span>TopTipLocation<span class="uscript-operator">=</span><span class="uscript-operator">(</span>Height<span class="uscript-operator">=</span><span class="uscript-number">512.000000</span><span class="uscript-operator">,</span>CapLocationX<span class="uscript-operator">=</span><span class="uscript-number">0.000000</span><span class="uscript-operator">,</span>CapLocationY<span class="uscript-operator">=</span><span class="uscript-number">0.000000</span><span class="uscript-operator">)</span><span class="uscript-operator">,</span>BottomTipLocation<span class="uscript-operator">=</span><span class="uscript-operator">(</span>Height<span class="uscript-operator">=</span><span class="uscript-operator">-</span><span class="uscript-number">512.000000</span><span class="uscript-operator">,</span>CapLocationX<span class="uscript-operator">=</span><span class="uscript-number">0.000000</span><span class="uscript-operator">,</span>CapLocationY<span class="uscript-operator">=</span><span class="uscript-number">0.000000</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">00259</span>  Dimensions<span class="uscript-operator">=</span><span class="uscript-operator">(</span>OuterDimensions<span class="uscript-operator">=</span><span class="uscript-operator">(</span>UseRadius<span class="uscript-operator">=</span><span class="uscript-keyword">True</span><span class="uscript-operator">,</span>Radius<span class="uscript-operator">=</span><span class="uscript-number">512.000000</span><span class="uscript-operator">,</span><span class="uscript-keyword">Length</span><span class="uscript-operator">=</span><span class="uscript-number">512.000000</span><span class="uscript-operator">,</span>Width<span class="uscript-operator">=</span><span class="uscript-number">512.000000</span><span class="uscript-operator">,</span>OffsetX<span class="uscript-operator">=</span><span class="uscript-number">0.000000</span><span class="uscript-operator">,</span>OffsetY<span class="uscript-operator">=</span><span class="uscript-number">0.000000</span><span class="uscript-operator">,</span>OffsetZ<span class="uscript-operator">=</span><span class="uscript-number">0.000000</span><span class="uscript-operator">)</span><span class="uscript-operator">,</span>InnerDimensions<span class="uscript-operator">=</span><span class="uscript-operator">(</span>UseRadius<span class="uscript-operator">=</span><span class="uscript-keyword">True</span><span class="uscript-operator">,</span>Radius<span class="uscript-operator">=</span><span class="uscript-number">256.000000</span><span class="uscript-operator">,</span><span class="uscript-keyword">Length</span><span class="uscript-operator">=</span><span class="uscript-number">256.000000</span><span class="uscript-operator">,</span>Width<span class="uscript-operator">=</span><span class="uscript-number">256.000000</span><span class="uscript-operator">,</span>OffsetX<span class="uscript-operator">=</span><span class="uscript-number">0.000000</span><span class="uscript-operator">,</span>OffsetY<span class="uscript-operator">=</span><span class="uscript-number">0.000000</span><span class="uscript-operator">,</span>OffsetZ<span class="uscript-operator">=</span><span class="uscript-number">0.000000</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">00260</span>  Rotations<span class="uscript-operator">=</span><span class="uscript-operator">(</span>TopRotation<span class="uscript-operator">=</span><span class="uscript-operator">(</span>RotationX<span class="uscript-operator">=</span><span class="uscript-number">1.000000</span><span class="uscript-operator">,</span>RotationY<span class="uscript-operator">=</span><span class="uscript-number">1.000000</span><span class="uscript-operator">)</span><span class="uscript-operator">,</span>BottomRotation<span class="uscript-operator">=</span><span class="uscript-operator">(</span>RotationX<span class="uscript-operator">=</span><span class="uscript-number">1.000000</span><span class="uscript-operator">,</span>RotationY<span class="uscript-operator">=</span><span class="uscript-number">1.000000</span><span class="uscript-operator">)</span><span class="uscript-operator">)</span>
<span class="uscript-line">00261</span>  Sides<span class="uscript-operator">=</span><span class="uscript-number">8</span>
<span class="uscript-line">00262</span>  GroupName<span class="uscript-operator">=</span>ZxanCone
<span class="uscript-line">00263</span>  HasBottom<span class="uscript-operator">=</span><span class="uscript-keyword">False</span>
<span class="uscript-line">00264</span>  MergeCoplanars<span class="uscript-operator">=</span><span class="uscript-keyword">True</span>
<span class="uscript-line">00265</span>  Presets<span class="uscript-operator">=</span>No_Preset
<span class="uscript-line">00266</span>  HelpTopics<span class="uscript-operator">=</span>ChooseATopic
<span class="uscript-line">00267</span>  AboutBrushbuilder<span class="uscript-operator">=</span>DisplayOff
<span class="uscript-line">00268</span>      <span class="uscript-operator">}</span></pre><h4><a name="0.0.1.1"></a>Options that I want to implement but don't know how</h4>
<h5><a name="0.0.1.1.1"></a>Dropped Options</h5>
<h4><a name="0.0.1.2"></a>Problems</h4>
<pre class="uscript"><span class="uscript-keyword">function</span> <span class="uscript-type">bool</span> SafePoly4i<span class="uscript-operator">(</span> <span class="uscript-type">int</span> Direction <span class="uscript-operator">,</span> <span class="uscript-type">int</span> p0 <span class="uscript-operator">,</span> <span class="uscript-type">int</span> p1 <span class="uscript-operator">,</span> <span class="uscript-type">int</span> p2 <span class="uscript-operator">,</span> <span class="uscript-type">int</span> p3 <span class="uscript-operator">,</span> 
        <span class="uscript-keyword">optional</span> <span class="uscript-type">name</span> ItemName<span class="uscript-operator">,</span> <span class="uscript-keyword">optional</span> <span class="uscript-type">int</span> PolyFlags <span class="uscript-operator">)</span>
<span class="uscript-operator">{</span>
    <span class="uscript-keyword">if</span><span class="uscript-operator">(</span> isCoplanar4v<span class="uscript-operator">(</span>getVertex<span class="uscript-operator">(</span>p0<span class="uscript-operator">)</span><span class="uscript-operator">,</span>getVertex<span class="uscript-operator">(</span>p1<span class="uscript-operator">)</span><span class="uscript-operator">,</span>getVertex<span class="uscript-operator">(</span>p2<span class="uscript-operator">)</span><span class="uscript-operator">,</span>getVertex<span class="uscript-operator">(</span>p3<span class="uscript-operator">)</span><span class="uscript-operator">)</span> <span class="uscript-operator">)</span>
        LogPoly4i<span class="uscript-operator">(</span> Direction <span class="uscript-operator">,</span> p0 <span class="uscript-operator">,</span> p1 <span class="uscript-operator">,</span> p2 <span class="uscript-operator">,</span> p3 <span class="uscript-operator">,</span> ItemName<span class="uscript-operator">,</span> PolyFlags <span class="uscript-operator">)</span><span class="uscript-operator">;</span>
    <span class="uscript-keyword">else</span>
    <span class="uscript-operator">{</span>
        LogPoly3i<span class="uscript-operator">(</span> Direction <span class="uscript-operator">,</span> p0 <span class="uscript-operator">,</span> p1 <span class="uscript-operator">,</span> p2 <span class="uscript-operator">,</span> ItemName<span class="uscript-operator">,</span> PolyFlags <span class="uscript-operator">)</span><span class="uscript-operator">;</span>
        LogPoly3i<span class="uscript-operator">(</span> Direction <span class="uscript-operator">,</span> p2 <span class="uscript-operator">,</span> p3 <span class="uscript-operator">,</span> p0 <span class="uscript-operator">,</span> ItemName<span class="uscript-operator">,</span> PolyFlags <span class="uscript-operator">)</span><span class="uscript-operator">;</span>
    <span class="uscript-operator">}</span>
<span class="uscript-operator">}</span></pre><p><em class="em2">Tarquin:</em> the above function has the right order for 4 vertices whether in one square or two triangles. The safety-checking isn't quite up to scratch, so you can try it as is, but it will probably end up making triangles in cases when it shouldn't. BTW, I've put a link to this page on [User Projects]<a href="http://wiki.beyondunreal.com/wiki?action=edit&id=User_Projects&referrerid=Zxanphorian_Brushbuilders">?</a> instead of RC. I don't think there's that many people who are making brushbuilders, so it's not really top news.</p>
<h4><a name="0.0.1.3"></a>Suggestions</h4>
<h3><a name="0.0.2"></a>Comments</h3>
<hr class="thin"><p><a href="category-custom-class.html">Category Custom Class</a></p>
<script type="text/javascript"><!--
 menuItemAdd("Cone Builder <img alt=\"[BBZxanCone]\" src=\"images/bbzxancone.png\" class=\"image-inline\">", "#0.0.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Options that I want to implement but don't know how", "#0.0.1.1");
menuItemAdd("<tt>&nbsp;&nbsp;&nbsp;&nbsp;</tt>Dropped Options", "#0.0.1.1.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Problems", "#0.0.1.2");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Suggestions", "#0.0.1.3");
menuItemAdd("Comments", "#0.0.2");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p><form method="post" action="http://wiki.beyondunreal.com/wiki" enctype="application/x-www-form-urlencoded">
<a href="(start).html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a> | <a href="http://wiki.beyondunreal.com/wiki?action=editprefs">Preferences</a><br>
<a href="http://wiki.beyondunreal.com/wiki?action=edit&id=Zxanphorian_Brushbuilders">Edit text of this page</a> | <a href="http://wiki.beyondunreal.com/wiki?action=history&id=Zxanphorian_Brushbuilders">View other revisions</a><br>Last edited February 9, 2004 17:17 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=Zxanphorian_Brushbuilders">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/Zxanphorian_Brushbuilders">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>
</form>
	</p>
	<p>Worst-case scenario: the UEd Goblin wipes the map and burns down your house.
</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="http://wiki.beyondunreal.com/"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>
<p><a href="/cgi-bin/imageupload.cgi/wiki-ext/imageupload.htt" target="_blank ">Image Uploads</a></p>
<p><a href="http://wiki.beyondunreal.com/wiki?action=random">Random Page</a></p>
<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
