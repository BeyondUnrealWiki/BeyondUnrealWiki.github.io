<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head lang="en">
	<title>UnrealWiki: UnrealScript Language Reference/Expressions</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" media="screen, print"
		href="shared/stylebase.structural.css">	
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/template-default.css">
	<link rel="stylesheet" type="text/css" media="screen"
		href="shared/styles.chblue.css">
	<link rel="stylesheet" type="text/css" media="print"
		href="shared/template-default-print.css">
	<!--[if IE 6]>
			<style>
			/* dirty hack for IE6. */
			#quickbar {
				position: absolute;
				}
			</style>
	<![endif]-->
  <link rel="start" href="http://wiki.beyondunreal.com/">
  <link rel="glossary"  href="http://wiki.beyondunreal.com/wiki/Terminology">
  <link rel="help"  href="http://wiki.beyondunreal.com/wiki/Using_The_Wiki">
<script type="text/javascript" src="shared/dhtml.js"></script>
<script type="text/javascript" src="shared/dhtml-menu.js"></script>
<style type="text/css">#dhtml-menu    { background: #eee; padding: 5px 0px; margin-right: -20px; border: 1px solid #888; border-left: 1px solid #ccc; border-top: 1px solid #ccc;  border-right: 1px solid #888; border-bottom: 1px solid #888 }
#dhtml-menu td { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; padding: 1px 10px; cursor: default }
#dhtml-menu a  { color: #000; font-family: Arial,Helvetica,sans-serif; font-size: 9pt; line-height: 13pt; text-decoration: none }
#dhtml-menu tt { font-family: monospace; font-size: 9pt }
#dhtml-menu-separator { height: 1px; background: red }
#dhtml-menu-anchor { cursor: default }
</style>
<script type="text/javascript" src="shared/expandable.js"></script>
</head>
<body onLoad="menuInit(); document.cookie='page=UnrealScript_Language_Reference/Expressions; path=/'" class="default">
<div id="scrolling"><!-- contains all except the fixed sidebar -->
<div id="topbar"  class="bar">
	<div class="righthalf">
		<form class="inline" method="post" action="/wiki" enctype="application/x-www-form-urlencoded"><input type="text" name="search"  size="20" /> <input type="submit" name="search" value="search" /></form>
	</div>
	<div class="lefthalf">
		<script type="text/javascript"><!--
			menuAlignRight = false;
		//--></script>
		<span><script type="text/javascript"><!--
 menuWriteAnchor("Quick Navigation") //--></script></span> | <a href="(start).html">Home Page</a> | <a href="recent-changes.html">Recent Changes</a> | <a href="http://wiki.beyondunreal.com/wiki?action=editprefs">Preferences</a>
	</div>
</div>

<div id="content"><!-- contains the title and article -->
	<h1 class='pagetitle'><a href="unrealscript-language-refer.html">UnrealScript Language Reference</a>/<a href="http://wiki.beyondunreal.com/wiki?back=UnrealScript+Language+Reference/Expressions">Expressions</a></h1>
	<div class="wiki"><h2><a name="0.1"></a>UnrealScript Language Reference</h2>
<p><em class="em1">This subpage is part of a document by Tim Sweeney. The Unreal Wiki has been granted permission to host it. Please don't make any edits to these pages other than basic formatting of the text. If you have more to say on a topic here, please start a new Wiki page on it, for example from <a href="unrealscript.html">UnrealScript</a> or <a href="unreal-engine.html">Unreal Engine</a>, and then add a "related topics" section to the very end of a page here.</em></p>
<blockquote><p>Tim Sweeney<br>Epic MegaGames, Inc.<br><a href="mailto:tim@epicgames.com">tim@epicgames.com</a><br><a href="http://www.epicgames.com">http://www.epicgames.com</a></p>
</blockquote><h2><a name="0.2"></a>Expressions</h2>
<h3><a name="0.2.1"></a>Constants</h3>
<p>In UnrealScript, you can specify constant values of nearly all data types:</p>
<ul><li>Integer and byte constants are specified with simple numbers, for example: 123</li>
<li>If you must specify an integer or byte constant in hexidecimal format, use i.e.: 0x123</li>
<li>Floating point constants are specified with decimal numbers like: 456.789</li>
<li>String constants must be enclosed in double quotes, for example: "MyString"</li>
<li>Name constants must be enclosed in single quotes, for example 'MyName'</li>
<li>Vector constants contain X, Y, and Z values like this: Vect(1.0,2.0,4.0)</li>
<li>Rotator constants contain Pitch, Yaw, and Roll values like this: Rot(0x8000,0x4000,0)</li>
<li>The "None" constant refers to "no object" (or equivalantly, "no actor").</li>
<li>The "Self" constant refers to "this object" (or equivalantly, "this actor"), i.e. the object whose script is executing.</li>
<li>General object constants are specified by the object type followed by the object name in single quotes, for example: texture ‘Default’</li>
<li>EnumCount gives you the number of elements in an enumeration, for example: EnumCount(ELightType)</li>
<li>ArrayCount gives you the number of elements in an array, for example: ArrayCount(Touching)</li>
</ul>
<p>You can use the "const" keyword to declare constants which you can later refer to by name.&nbsp; For example:</p>
<pre class="uscript"><span class="uscript-keyword">const</span> LargeNumber<span class="uscript-operator">=</span><span class="uscript-number">123456</span><span class="uscript-operator">;</span>
<span class="uscript-keyword">const</span> PI<span class="uscript-operator">=</span><span class="uscript-number">3.14159</span><span class="uscript-operator">;</span>
<span class="uscript-keyword">const</span> MyName<span class="uscript-operator">=</span><span class="uscript-string">"Tim"</span><span class="uscript-operator">;</span>
<span class="uscript-keyword">const</span> Northeast<span class="uscript-operator">=</span><span class="uscript-keyword">Vect</span><span class="uscript-operator">(</span><span class="uscript-number">1.0</span><span class="uscript-operator">,</span><span class="uscript-number">1.0</span><span class="uscript-operator">,</span><span class="uscript-number">0.0</span><span class="uscript-operator">)</span><span class="uscript-operator">;</span></pre><p>Constants can be defined within classes or within structs.</p>
<p>To access a constant which was declared in another class, use the "classname.constname" syntax, for example: Pawn.LargeNumber</p>
<h3><a name="0.2.2"></a>Expressions</h3>
<p>To assign a value to a variable, use "=" like this:</p>
<pre class="uscript"><span class="uscript-keyword">function</span> Test<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-operator">{</span>
       <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
       <span class="uscript-keyword">local</span> <span class="uscript-type">string</span><span class="uscript-operator">[</span><span class="uscript-number">80</span><span class="uscript-operator">]</span> s<span class="uscript-operator">;</span>
       <span class="uscript-keyword">local</span> vector v<span class="uscript-operator">,</span> q<span class="uscript-operator">;</span>

       i <span class="uscript-operator">=</span> <span class="uscript-number">10</span><span class="uscript-operator">;</span> <span class="uscript-comment">// Assign a value to integer variable i.</span>
       s <span class="uscript-operator">=</span> <span class="uscript-string">"Hello!"</span><span class="uscript-operator">;</span> <span class="uscript-comment">// Assign a value to string variable s.</span>
       v <span class="uscript-operator">=</span> q<span class="uscript-operator">;</span> <span class="uscript-comment">// Copy value of vector q to v.</span>
<span class="uscript-operator">}</span></pre><p>In UnrealScript, whenever a function or other expression requires a certain type of data (for example, an "float"), and you specify a different type of data (for example, an "int), the compiler will try to convert the value you give to the proper type. Conversions among all the numerical data types (byte, int, and float) happen automatically, without any work on your part.</p>
<p>UnrealScript is also able to many other built-in data types to other types, if you explicitly convert them in code. The syntax for this is:</p>
<pre class="uscript"><span class="uscript-keyword">function</span> Test<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-operator">{</span>
       <span class="uscript-keyword">local</span> <span class="uscript-type">int</span> i<span class="uscript-operator">;</span>
       <span class="uscript-keyword">local</span> <span class="uscript-type">string</span><span class="uscript-operator">[</span><span class="uscript-number">80</span><span class="uscript-operator">]</span> s<span class="uscript-operator">;</span>
       <span class="uscript-keyword">local</span> vector v<span class="uscript-operator">,</span> q<span class="uscript-operator">;</span>
       <span class="uscript-keyword">local</span> rotator r<span class="uscript-operator">;</span>
 
       s <span class="uscript-operator">=</span> <span class="uscript-type">string</span><span class="uscript-operator">(</span>i<span class="uscript-operator">)</span><span class="uscript-operator">;</span> <span class="uscript-comment">// Convert integer i to a string, and assign it to s.</span>
       s <span class="uscript-operator">=</span> <span class="uscript-type">string</span><span class="uscript-operator">(</span>v<span class="uscript-operator">)</span><span class="uscript-operator">;</span> <span class="uscript-comment">// Convert vector v to a string, and assign it to s.</span>
       v <span class="uscript-operator">=</span> q <span class="uscript-operator">+</span> vector<span class="uscript-operator">(</span>r<span class="uscript-operator">)</span><span class="uscript-operator">;</span> <span class="uscript-comment">// Convert rotation r to a vector, and add q.</span>
<span class="uscript-operator">}</span></pre><p>Here is the complete set of non-automatic conversions you can use in UnrealScript: </p>
<dl><dt>String to Byte, Int, Float</dt><dd>Tries to convert a string like "123" to a value like 123. If the string doesn’t represent a value, the result is 0.</dd><dt>Byte, Int, Float, Vector, Rotation to String</dt><dd>Converts the number to its textual representation.</dd><dt>String to Vector, Rotation</dt><dd>Tries to parse the vector or rotation’s textual representation. </dd><dt>String to Bool</dt><dd>Converts the case-insensitive words "True" or "False" to True and False; converts any non-zero value to True; everything else is False.</dd><dt>Bool to String</dt><dd>Result is either "True" or "False".</dd><dt>Byte, Int, Float, Vector, Rotation to Bool</dt><dd>Converts nonzero values to True; zero values to False.</dd><dt>Bool to Byte, Int, Float</dt><dd>Converts True to 1; False to 0. </dd><dt>Name to String</dt><dd>Converts the name to the text equivalant.</dd><dt>Rotator to Vector</dt><dd>Returns a vector facing "forward" according to the rotation.</dd><dt>Vector to Rotator</dt><dd>Returns a rotator pitching and yawing in the direction of the vector; roll is zero.</dd><dt>Object (or Actor) to Int</dt><dd>Returns an integer that is guaranteed unique for that object.</dd><dt>Object (or Actor) to Bool</dt><dd>Returns False if the object is None; True otherwise.</dd><dt>Object (or Actor) to String</dt><dd>Returns a textual representation of the object.</dd></dl>
<h3><a name="0.2.3"></a>Converting Object References Among Classes</h3>
<p>Just like the conversion functions above, which convert among simple datatypes, in UnrealScript you can convert actor and object references among various types. For example, all actors have a variable named "Target", which is a reference to another actor. Say you are writing a script where you need to check and see if your Target belongs to the "Pawn" actor class, and you need to do something special with your target that only makes sense when it’s a pawn &ndash; for example, you need to call one of the Pawn functions. The actor cast operators let you do this. Here’s an example:</p>
<pre class="uscript"><span class="uscript-keyword">var</span> actor Target<span class="uscript-operator">;</span>
<span class="uscript-comment">//...</span>

<span class="uscript-keyword">function</span> TestActorConversions<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-operator">{</span>
       <span class="uscript-keyword">local</span> Pawn P<span class="uscript-operator">;</span>

       <span class="uscript-comment">// See if my target is a Pawn.</span>
       P <span class="uscript-operator">=</span> Pawn<span class="uscript-operator">(</span>Target<span class="uscript-operator">)</span><span class="uscript-operator">;</span>
       <span class="uscript-keyword">if</span><span class="uscript-operator">(</span> P <span class="uscript-operator">!=</span> <span class="uscript-keyword">None</span> <span class="uscript-operator">)</span>
       <span class="uscript-operator">{</span>
               <span class="uscript-comment">// Target is a pawn, so set its Enemy to Self.</span>
               P<span class="uscript-operator">.</span>Enemy <span class="uscript-operator">=</span> <span class="uscript-keyword">Self</span><span class="uscript-operator">;</span>
       <span class="uscript-operator">}</span>
       <span class="uscript-keyword">else</span>
       <span class="uscript-operator">{</span>
              <span class="uscript-comment">// Target is not a pawn.</span>
       <span class="uscript-operator">}</span>
<span class="uscript-operator">}</span></pre><p>To perform an actor conversion, type the class name followed by the actor expression you wish to convert, in parenthesis. Such a conversion will either succeed or fail based on whether the conversion is sensible. In the above example, if your Target is referencing a Trigger object rather than a pawn, the expression Pawn(Target) will return "None", since a Trigger can’t be converted to a Pawn. However, if your Target is referencing a Brute object, the conversion will successfully return the Brute, because Brute is a subclass of Pawn.</p>
<p>Thus, actor conversions have two purposes: First, you can use them to see if a certain actor reference belongs to a certain class. Second, you can use them to convert an actor reference from one class to a more specific class. Note that these conversions don’t affect the actor you’re converting at all &ndash; they just enable UnrealScript to treat the actor reference as if it were a more specific type.</p>
<p>Another example of conversions lies in the Inventory script. Each Inventory actor is owned by a Pawn, even though its Owner variable can refer to any Actor. So a common theme in the Inventory code is to cast Owner to a Pawn, for example:</p>
<pre class="uscript"><span class="uscript-comment">// Called by engine when destroyed.</span>
<span class="uscript-keyword">function</span> Destroyed<span class="uscript-operator">(</span><span class="uscript-operator">)</span>
<span class="uscript-operator">{</span>
       <span class="uscript-comment">// Remove from owner's inventory.</span>
       <span class="uscript-keyword">if</span><span class="uscript-operator">(</span> Pawn<span class="uscript-operator">(</span>Owner<span class="uscript-operator">)</span><span class="uscript-operator">!=</span><span class="uscript-keyword">None</span> <span class="uscript-operator">)</span>
               Pawn<span class="uscript-operator">(</span>Owner<span class="uscript-operator">)</span><span class="uscript-operator">.</span>DeleteInventory<span class="uscript-operator">(</span> <span class="uscript-keyword">Self</span> <span class="uscript-operator">)</span><span class="uscript-operator">;</span>
<span class="uscript-operator">}</span><span class="uscript-operator">;</span></pre><table class="paratable-border" border=0 cellspacing=0 cellpadding=0><tr valign=top><td><em class="em1">see also <a href="typecasting.html">Typecasting</a> on the Wiki</em></td>
</tr>
</table>
<hr class="thin"><p>Prev Page:  <a href="unrealscript-language-refe9.html">/Variables</a> &ndash; <em class="em2">Section 3 of 9</em> &ndash; Next Page: <a href="unrealscript-language-refe4.html">/Functions</a></p>
<script type="text/javascript"><!--
 menuItemAdd("UnrealScript Language Reference", "#0.1");
menuItemAdd("Expressions", "#0.2");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Constants", "#0.2.1");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Expressions", "#0.2.2");
menuItemAdd("<tt>&nbsp;&nbsp;</tt>Converting Object References Among Classes", "#0.2.3");
 menuWrite() //--></script></div>
</div>

<div id="footer" class="bar">
	<p><form method="post" action="http://wiki.beyondunreal.com/wiki" enctype="application/x-www-form-urlencoded">
<a href="(start).html">Home Page</a> | <a href="unrealscript-language-refer.html">UnrealScript Language Reference</a> | <a href="recent-changes.html">Recent Changes</a> | <a href="http://wiki.beyondunreal.com/wiki?action=editprefs">Preferences</a><br>
<a href="http://wiki.beyondunreal.com/wiki?action=edit&id=UnrealScript_Language_Reference/Expressions">Edit text of this page</a> | <a href="http://wiki.beyondunreal.com/wiki?action=history&id=UnrealScript_Language_Reference/Expressions">View other revisions</a><br>Last edited June 20, 2006 17:40 <a href="http://wiki.beyondunreal.com/wiki?action=browse&diff=1&id=UnrealScript_Language_Reference/Expressions">(diff)</a><br>Search: <input type="text" name="search"  size="20" /><input type="hidden" name="dosearch" value="1"  /><br><br><small><a href="http://wiki.beyondunreal.com/wiki/UnrealScript_Language_Reference/Expressions">Original page</a> &#150; copy created Sat, Jun 23, 2007</small><div></div>
</form>
	</p>
	<p>I love the smell of UnrealEd crashing in the morning. (tarquin)</p>
</div>
</div><!-- close of "scrolling" div -->

<div id="quickbar">
	<div id="logo"><a href="http://wiki.beyondunreal.com/"><img src="shared/wikilogo.jpg" width="143" height="100" border="0"></a>
		</div>
	<div class="qbsitename">
		<p>The Unreal Engine Documentation Site</p>
	</div>
	<div class="qbsection">
<p><a href="metatopics.html">Wiki Community</a></p>
<p><a href="category-category.html">Topic Categories</a></p>
<p><a href="/cgi-bin/imageupload.cgi/wiki-ext/imageupload.htt" target="_blank ">Image Uploads</a></p>
<p><a href="http://wiki.beyondunreal.com/wiki?action=random">Random Page</a></p>
<p><a href="recent-changes.html">Recent Changes</a></p>
<p><a href="offline-wiki.html">Offline Wiki</a></p>
</div><div class="qbsection">
<p><a href="unreal-engine.html">Unreal Engine</a></p>
<p><a href="console-commands.html">Console Commands</a></p>
<p><a href="terminology.html">Terminology</a></p>
<p><a href="category-faq.html">FAQs</a></p>
<p><a href="help-desk.html">Help Desk</a></p>
</div><div class="qbsection">
<p><a href="topics-on-mapping.html">Mapping Topics</a></p>
<p><a href="mapping-lessons.html">Mapping Lessons</a></p>
<p><a href="unrealed-3.html">UnrealEd Interface</a></p>
</div><div class="qbsection">
<p><a href="unrealscript.html">UnrealScript Topics</a></p>
<p><a href="unrealscript-lessons.html">UnrealScript Lessons</a></p>
<p><a href="making-mods.html">Making Mods</a></p>
<p><a href="class-tree.html">Class Tree</a></p>
</div><div class="qbsection">
<p><a href="topics-on-modeling.html">Modeling Topics</a></p>
</div><div class="qbsection">
<p><a href="chongqing-page.html">Chongqing Page</a></p>
<p><a href="log-in.html">Log In</a></p></div>
</div>

</body></html>
